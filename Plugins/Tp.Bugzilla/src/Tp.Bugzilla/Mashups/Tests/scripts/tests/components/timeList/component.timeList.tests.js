define(["tau/core/tau","tau/components/component.timeList","tests/common/testData","tests/components/common/common.setup","tests/components/component.specs"],function(a,b,c,d,e){var f=function(){function f(){return Like.is({times:["id","date","spent","remain","description",Like.is({user:["id","firstName","lastName"]})],list:!0})}function g(){return Similar.to({tasks:Similar.to(["id","name",f()])})}function j(a,b){var c=b.workOn.__type,d=a.find(".work-on"),e=d.find("em");equal(a.find(".date").text(),b.date,"Date is valid"),equal(a.find(".spent").text(),b.spent+" h","Spent is valid"),equal(a.find(".remain").text(),b.remain+" h","Remain is valid"),equal(a.find(".description").text(),b.description,"Description is valid"),equal(d.find("span").text(),b.workOn.name,"Work on is valid"),ok(e.is(".ui-type-icon.ui-type-icon-"+c.toLowerCase()),"Work on entity icon has valid class"),equal(e.text(),b.term,"Work on entity icon has valid text"),equal(a.find(".person").text(),b.person,"Person on is valid")}var a=[Similar.to({name:"get",type:"userStory",config:Like.is({id:28,fields:["id","name",f()]})}),Similar.to({name:"get",type:"userStory",config:Like.is({id:28,fields:["id",g()],list:!0,nested:!0})})],h={context:{type:"story",id:28}},i={items:[{date:"25-May-2011",spent:34,remain:10,description:"43245",person:"Administrator Administrator",workOn:{__type:"userStory",name:"Build planets"}},{date:"25-May-2011",spent:5,remain:0,description:"sad",person:"Administrator Administrator",workOn:{__type:"task",name:"Specification"}},{date:"13-May-2011",spent:5,remain:0,description:"weqrer",person:"Administrator Administrator",workOn:{__type:"userStory",name:"Build planets"}},{date:"13-May-2011",spent:4,remain:0,description:"3324",person:"Administrator Administrator",workOn:{__type:"userStory",name:"Build planets"}},{date:"22-Feb-2011",spent:4,remain:0,description:"Do",person:"Tanya White",workOn:{__type:"task",name:"Testing"}}]},k=[{name:"should render valid markup",test:function(){var a=this.$el,b=this.data.items,c=a.find("table.time-list * > tr"),d=c.length;equals(c.length,b.length+1,"Count of times is valid");for(var e=1;e<d;e++){var f=b[e-1];f.term=this.termProcessor.getTerms(f.workOn.__type).iconBig,j(c.eq(e),b[e-1])}}}],l=d.create("[component.timeList]",c.getTestDataForTimeList(),b);e.create(l,h).viewShouldFollowDataComponentLifeCycle().modelShouldReturnData(i,[a]).viewShouldPassTests(k).viewShouldContainEmptyMessage("No time records found").done()};return{run:f}})