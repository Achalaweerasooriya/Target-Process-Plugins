function startEditDate(){var a=this.element;a.click();var b=a.find("input.hasDatepicker");return b}define(["jQuery","tau/configurator","tests/common/testCase","tests/common/componentConfigCreator","tau/components/component.property.completeDate","tests/common/testData.Generator"],function(a,b,c,d,e,f){var g=function(){var g=new f;g.initDefaultData();var h=g.getData(),i=g.getBugs()[0],j=new d;j.setEntityIDAndType(i.id,i.__type),j.setSelectedProjects([h.selectByType("project")[0]]),j.setProcesses(h.selectByType("process"));var k=j.getConfig();k.editable=!0;var l=new c("[component.completeDate]");l.initModule({componentConfig:k,data:h},e),l.test("should render valid markup",function(){var a=this.element;equal(a.find(".property-text").text(),"13-Oct-2011","Complete Date name"),a.click(),equal(a.find(".external-view").size(),0,"Url is not added")}),l.test("should refresh when completeDate is changed",function(){var a=this.element,c=new Date;this.serviceMock.registerSaveCommand({config:{id:i.id,$set:{endDate:c.toString()},fields:["id"]},returnedData:{id:i.id,endDate:"/Date(1319124023000+0300)/"}}),b.getStore().save(i.__type,{id:i.id,$set:{endDate:c.toString()}}).done();var a=this.element;equal(a.find(".property-text").text(),"20-Oct-2011","Complete Date name"),equal(a.find(".external-view").size(),0,"Url is not added")}),l.test("should not save if date is not changed",function(){var b=this.element,c=startEditDate.call(this);equal(c.size(),1,"Input is created"),c.val(" "+c.val()),a("body").click(),c=startEditDate.call(this);var d=c.val();c.val(d+"2000"),a("body").click(),c=startEditDate.call(this),c.val(d),a("body").click(),equal(this.element.find(".property").text(),d,"Values is valid"),equal(this.element.find(".property").hasClass("ui-validationerror"),!1,"Values is valid"),equal(b.find("input.hasDatepicker").size(),1,"Input is removed")}),l.test("should change",function(){var b=this.element,c=new Date;this.serviceMock.registerSaveCommand({config:{id:i.id,$set:{endDate:"25-Dec-2011"},fields:["id","endDate"]},returnedData:{id:i.id,endDate:"/Date(1319124023000+0300)/"}});var b=this.element;b.click();var d=b.find("input.hasDatepicker");equal(d.size(),1,"Input is created"),d.val("25-Dec-2011"),a("body").click(),b=this.element,equal(b.find(".property-text").text(),"20-Oct-2011","Complete Date name"),equal(b.find(".external-view").size(),0,"Url is not added")})};return{run:g}})