define(["tau/components/component.tabs","tau/utils/utils.routing","tests/components/common/common.setup","tests/components/component.specs","tests/components/component1","tests/components/component2"],function(a,b,c,d){var e=function(){var b=function(){return{context:{type:"bug",id:1},settings:{type:"tabs",tabs:[{header:[{path:"tests/components/component1"}],items:[{path:"tests/components/component2"}]},{selected:!0,header:[{path:"tests/components/component2"}],items:[{path:"tests/components/component1"}]}]}}},e=[{name:"should has child controls",test:function(){var a=this.$el,b=a.find(".tab-item");equals(b.length,2,"Amount of tab items"),ok(!b.eq(0).hasClass("selected"),"Tab 1 is not selected"),ok(b.eq(1).hasClass("selected"),"Tab 2 is selected");var c=a.children();ok(c.eq(1).css("display")==="none","Tab 1 panel should be hidden"),equals(c.eq(1).find(".component2").length,0,"TabPanel 1 panel should not load inner components (lazy loading)"),ok(c.eq(2).css("display")!=="none","Tab 2 panel should be visible"),equals(c.eq(2).find(".component1").length,1,"TabPanel 2 panel should load Component 1 inside")}},{name:"should switch panels on header click",test:function(){var a=this.$el,b=a.find(".tab-item"),c=b.eq(0),d=b.eq(1),e=this.$el.children(),f=e.eq(1),g=e.eq(2);equals(b.length,2,"Amount of tab items"),ok(!c.hasClass("selected"),"Tab 1 is not selected before click"),ok(d.hasClass("selected"),"Tab 2 is selected before click"),ok(f.css("display")==="none","Tab 1 panel should be hidden"),equals(f.find(".component2").length,0,"TabPanel 1 panel has no content"),equals(f.children().length,0,"No children content is loaded"),ok(g.css("display")!=="none","Tab 2 panel should be visible"),equals(g.find(".component1").length,1,"TabPanel 2 panel should load Component 1 inside"),c.click(),e=this.$el.children(),f=e.eq(1),g=e.eq(2),ok(c.hasClass("selected"),"Tab 1 is selected now"),ok(!d.hasClass("selected"),"Tab 2 is not selected"),ok(f.css("display")!=="none","Tab 1 panel should be visible now"),equals(f.children(".component2").length,1,"TabPanel 1 panel should load content"),ok(g.css("display")==="none","Tab 2 panel should be hidden now"),equals(g.find(".component1").length,1,"Component 1 should remains inside TabPanel 2 panel"),d.click(),ok(!c.hasClass("selected"),"Tab 1 is not selected"),ok(d.hasClass("selected"),"Tab 2 is selected again"),ok(f.css("display")==="none","Tab 1 panel should be hidden now"),equals(f.find(".component2").length,1,"TabPanel 1 panel content is remains"),ok(g.css("display")!=="none","Tab 2 panel should be visible again"),equals(g.find(".component1").length,1,"Component 1 should remains inside TabPanel 2 panel")}}],f=c.create("[component.tabs]",{},a);d.create(f,b()).viewShouldFollowBasicComponentLifeCycle().viewShouldPassTests(e).done()};return{run:e}})