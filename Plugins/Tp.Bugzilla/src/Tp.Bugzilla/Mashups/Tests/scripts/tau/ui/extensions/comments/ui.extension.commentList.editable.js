define(["tau/configurator","tau/components/extensions/component.extension.base","tau/ui/templates/comments/ui.template.comments.comment"],function(a,b,c){var d=b.extend({destroy:function(){this.destroyDynamicComponents(),this._super()},lifeCycleCleanUp:function(){this.destroyDynamicComponents(),this._super()},destroyDynamicComponents:function(){var a=this;if(a.dynamicComponents&&a.dynamicComponents.length){var b=null;while(b=a.dynamicComponents.pop())b.destroy()}},"bus applyTo":function(a){var b=this;b.dynamicComponents=[];var c=a.data,d=c.data.comments;this.element=c.element;var e=c.element.children(".ui-comment");this.config=c.config;var f=c.config.context,g={components:[],context:f};e.each(function(a){g.components.push({type:"comment"})}),b.createComponents(g,function(a){for(var c=0,f=a.length;c<f;c++){var g=a[c],h={element:e.eq(c),data:d[c],config:g.config};g.component.fire("applyTo",h),b.dynamicComponents.push(g.component)}})}});return d})