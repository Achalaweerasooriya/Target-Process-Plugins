define(["tau/components/extensions/component.extension.base"],function(a){return a.extend({category:"edit","bus prepareChanges":function(a){this.bus.fire("markElementToBeUpdated",{element:this.element})},"bus applyChanges":function(a){var b=this;this.bus.on("afterRender",function(a){a.removeListener(),b.bus.fire("updateElement",{element:b.element})}),this.bus.fire("refresh")},"bus ownerChanged":function(){this.fire("refresh")},"bus beforeChangeOwner":function(){this.fire("markElementToBeUpdated",{element:this.element})},"bus permissionsReady+afterRender+dataBind":function(a){var b=this,c=this.element=a.afterRender.data.element,d=a.permissionsReady.data,e=a.dataBind.data;if(e.nextStates.length>0&&d.editable){var f={components:[{type:"entityStateList",data:e}],context:b.config.context},g={target:c,componentsConfig:f,alignTo:c.find(".attr-name")};this.fire("initBubble",g)}this.bus.on("edit",function(){this.fire("toggleBubble")},this)}})})