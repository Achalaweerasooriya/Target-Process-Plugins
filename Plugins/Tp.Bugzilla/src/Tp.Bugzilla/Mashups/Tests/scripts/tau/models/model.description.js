define(["tau/core/model-base","tau/utils/utils.htmlConverter"],function(a,b){var c=function(a){this.model=a};c.prototype={onGetDescription:function(a){var b=a.data;this.id=b.id,this.description=b.description},done:function(a){var c={description:b.fromSourceToHtml(this.description)};this.model.bus.fire("dataBind",c)}};var d=a.extend({name:"Description",onInit:function(){var a=new c(this),b=this.config.context,d=b.entity.entityType.name,e=b.entity.id,f=this,g=function(a){var b=a.data.changes;!b.hasOwnProperty("description")||f.fire("applyChanges",b)},h=function(a){var b=a.data.changes;!b.hasOwnProperty("description")||f.fire("prepareChanges",b)};this.store.on({eventName:"beforeSave",type:d,listener:this},h).on({eventName:"afterSave",type:d,listener:this},g);var i={id:e,fields:["id","description"]};this.store.get(d,i,{scope:a,success:a.onGetDescription}).done({success:a.done,scope:a})}});return d})