define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/utils/utils.redirect"],function(a,b,c,d){return c.extend({"bus beforeInit":function(a){this.options=a.data.config,this.options.window=this.options.window||window},"bus afterRender":function(b){this.element=b.data.element,this.entity=b.data.data.context.entity;var c=this.element,d=this;this._printHandler||(this._printHandler=a.bind(this._print,this),c.find(".ui-print__controls__print").bind("click",this._printHandler));var e=c.find(".ui-print__controls__close");this._closeHandler||(this._closeHandler=a.bind(this._close,this),c.find(".ui-print__controls__close").bind("click",this._closeHandler))},_print:function(a){this.options.window.print()},_close:function(a){a.preventDefault(),this.options.window.opener?this.options.window.close():(new d(this.options.context)).redirect("View.aspx?noRedirect=1&id=${entity.id}")}})})