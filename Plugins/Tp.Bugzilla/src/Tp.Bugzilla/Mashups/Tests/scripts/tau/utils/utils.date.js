define(["Underscore","tau/configurator","tau/utils/utils.translation"],function(a,b,c){var d={getAge:function(d,e){e=e||b.getCurrentDate(),d=Date.parse(d);var f={isZero:!0,value:0,unit:"sec",direction:"ago",toString:function(){var a;this.isZero?a="now":a=this.value+" "+this.unit+" "+this.direction;return a}};f.direction=e>d?"ago":"after";var g=new Date(0),h=new Date(e>d?e-d:d-e),i=[{func:"getYear",units:"year|years"},{func:"getMonth",units:"month|months"},{func:"getDate",units:"day|days"},{func:"getHours",units:"hour|hours"},{func:"getMinutes",units:"min"},{func:"getSeconds",units:"sec"}],j=a.detect(i,function(a){var b=h[a.func]()-g[a.func]();if(b>0){a.value=b,a.unit=c.pluralize(a.units,b);return!0}});j&&(f.isZero=!1,f.value=j.value,f.unit=j.unit);return f}};return d})