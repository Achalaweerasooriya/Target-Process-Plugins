define(["tau/core/model.editable.base","tau/utils/utils.htmlConverter","tau/utils/utils.jsonSchema"],function(a,b,c){var d=a.extend({category:"edit",name:"model.field.richText.editable",schema:null,init:function(a){this._super.apply(this,arguments);var b={type:"object",properties:{}};this.fieldName=a.fieldName,b.properties[this.fieldName]={optional:!0,empty:!0,type:"string"},this.schema=c.Schema.create(b)},"bus dataBind":function(){this.bus.fire("permissionsReady",{editable:!0,deletable:!0})},"bus beforeSave":function(a){var c=a.data.cmd.$set;c[this.fieldName]=b.fromHtmlToSource(c[this.fieldName])},"bus validate":function(a){var b=a.data,c=b.cmd.$set;b.validation=this.schema.validate(c)}});return d})