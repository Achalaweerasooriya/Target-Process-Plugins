define(["Underscore","tau/models/propertyLists/model.propertyList.base"],function(a,b){return b.extend({onInit:function(){var b=this,c=this.config,d=this.config.context.entity;this.propertyType=c.listType,b.store.get(c.listType,{fields:["id","name"]}).get(d.entityType.name,{id:d.id,fields:["id",c.listType]}).done({success:a.bind(b.onDataRetrieved,b)})},onDataRetrieved:function(b){var c=b[0].data,d=b[1].data,e=this.config.data,f=!!e&&!!e.id,g={states:a.reject(c,function(a){return e&&a.id===e.id}),completed:!0,nullableValue:f};this.fire("dataBind",g)}})})