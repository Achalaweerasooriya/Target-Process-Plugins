define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/extensions/extension.javascript"],function(a,b,c){return c.extend({"bus afterRender":function(a){var c=a.data.element;c.delegate(".ui-attach .inner","click",b.proxy(this,"_onAttachmentClick"))},_onAttachmentClick:function(a){var c=b(a.target),d=c.closest(".toolbar").size()!=0;if(!d){a.preventDefault();var e=c.closest(".ui-attach");this.bus.fire("attachmentSelected",{attachment:e.data().tmplItem.data,index:e.index()})}}})})