define(function(){window.allModulesAreLoaded=!1;var a=function(a,b){var c=this,d="native"+a;c[d]=b[a];var e=function(){c[d].apply(b,arguments),c[a].apply(c,arguments)};b[a]=e},b=function(b){a.call(this,"done",b),a.call(this,"moduleStart",b),a.call(this,"testDone",b)};return b.prototype={failed:[],allModulesAreLoaded:!1,checkAllModulesAreLoaded:function(){var a=this;require(["domReady"],function(b){b(function(){window.allModulesAreLoaded=!0,a.writeResult()})})},done:function(){this.checkAllModulesAreLoaded()},writeResult:function(){for(var a=0,b=this.failed.length;a<b;a++)window.jsErrors[window.jsErrors.length]="failure: "+this.failed[a].name},moduleStart:function(module){this.module=module},testDone:function(a){a.failed&&this.failed.push({name:this.module.name+" "+a.name})}},b})