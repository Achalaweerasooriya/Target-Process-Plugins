CodeMirror.defineMode("xmlpure",function(a,b){function G(a,b){b.tokenize=u;if(a.match("?>")&&a.eol()){s(b);return d}a.skipToEnd();return c}function F(a,b){b.tokenize=G;return t(a)&&a.match(/^standalone( )*=( )*"(yes|no)"/)?d:null}function E(a,b){b.tokenize=F;return t(a)&&a.match(/^encoding( )*=( )*"[A-Za-z]([A-Za-z0-9._]|\-)*"/)?d:null}function D(a,b){b.tokenize=E;if(t(a)&&a.match(/^version( )*=( )*"([a-zA-Z0-9_.:]|\-)+"/))return d;a.skipToEnd();return c}function C(a,b){a.eatWhile(/[^?]/),a.eat("?")&&a.eat(">")&&(s(b),b.tokenize=b.context==null?u:z);return d}function B(a,b){if(a.match("xml",!0,!0)){if(b.lineNumber>1||a.pos>5){b.tokenize=u,a.skipToEnd();return c}b.tokenize=D;return d}if(t(a)||a.match("?>")){b.tokenize=u,a.skipToEnd();return c}b.tokenize=C;return d}function A(a,b){a.eatWhile(/[^<]/),a.eol()||(s(b),b.tokenize=z);return i}function z(a,b){if(a.eat("<")){if(a.match("?")){r(b,j),b.tokenize=B;return d}if(a.match("!--")){r(b,l);return p(a,b,q(e,"-->",b.context==null?u:z))}if(a.match("![CDATA[")){r(b,k);return p(a,b,q(i,"]]>",b.context==null?u:z))}if(a.eatSpace()||a.eol()){a.skipToEnd();return c}b.tokenize=v;return f}r(b,m),b.tokenize=A;return null}function y(a,b){var d="";while(!a.eol()){d=a.next();if(d==b.tokParams.quote){b.tokenize=w;return h}if(d=="<"){a.skipToEnd(),b.tokenize=w;return c}if(d=="&"){d=a.next();if(d==";"){a.skipToEnd(),b.tokenize=w;return c}while(!a.eol()&&d!=";"){if(d=="<"){a.skipToEnd(),b.tokenize=w;return c}d=a.next()}if(a.eol()&&d!=";"){a.skipToEnd(),b.tokenize=w;return c}}}return h}function x(a,b){var d=a.next();if(d!='"'&&d!="'"){a.skipToEnd(),b.tokenize=w;return c}b.tokParams.quote=d,b.tokenize=y;return h}function w(a,b){if(a.match(/^\/>/)){s(b),b.tokenize=b.context==null?u:z;return f}if(a.eat(/^>/)){b.tokenize=z;return f}if(t(a)&&a.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*=/)){b.tokenize=x;return g}b.tokenize=b.context==null?u:u,a.eatWhile(/[^>]/),a.eat(">");return c}function v(a,b){var d=a.pos;if(a.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*/)){var e=a.string.substring(d,a.pos);r(b,e),b.tokenize=w;return f}if(a.match(/^\/[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*>/)){var g=a.string.substring(d+1,a.pos-1).trim(),h=s(b);b.tokenize=b.context==null?u:z;return h==null||g!=h.tagName?c:f}b.tokenize=b.context==null?u:z,a.eatWhile(/[^>]/),a.eat(">");return c}function u(a,b){if(a.eat("<")){if(a.eat("?")){r(b,j),b.tokenize=B;return d}if(a.match("!--")){r(b,l);return p(a,b,q(e,"-->",u))}if(a.eatSpace()||a.eol()){a.skipToEnd();return c}b.tokenize=v;return f}a.skipToEnd();return c}function t(a){return a.sol()||a.string.charAt(a.start-1)==" "||a.string.charAt(a.start-1)=="\t"}function s(a){if(a.context){var b=a.context;a.context=b.prev;return b}return null}function r(a,b){var c=n.hasOwnProperty(b)||a.context&&a.context.doIndent,d={tagName:b,prev:a.context,indent:a.context?a.context.indent+o:0,lineNumber:a.lineNumber,indented:a.indented,noIndent:c};a.context=d}function q(a,b,c){return function(d,e){while(!d.eol()){if(d.match(b)){s(e),e.tokenize=c;break}d.next()}return a}}function p(a,b,c){b.tokenize=c;return c(a,b)}var c="error",d="comment",e="comment",f="tag",g="attribute",h="string",i="atom",j="!instruction",k="!cdata",l="!comment",m="!text",n={"!cdata":!0,"!comment":!0,"!text":!0,"!instruction":!0},o=a.indentUnit;return{electricChars:"/",startState:function(){return{tokenize:u,tokParams:{},lineNumber:0,lineError:!1,context:null,indented:0}},token:function(a,b){a.sol()&&(b.lineNumber++,b.lineError=!1,b.indented=a.indentation());if(a.eatSpace())return null;var c=b.tokenize(a,b);b.lineError=b.lineError||c=="error";return c},blankLine:function(a){a.lineNumber++,a.lineError=!1},indent:function(a,b){if(a.context){if(a.context.noIndent==!0)return;return b.match(/^<\/.*/)?a.context.indent:a.context.indent+o}return 0},compareStates:function(a,b){if(a.indented!=b.indented)return!1;for(var c=a.context,d=b.context;;c=c.prev,d=d.prev){if(!c||!d)return c==d;if(c.tagName!=d.tagName)return!1}}}}),CodeMirror.defineMIME("application/xml","purexml"),CodeMirror.defineMIME("text/xml","purexml")