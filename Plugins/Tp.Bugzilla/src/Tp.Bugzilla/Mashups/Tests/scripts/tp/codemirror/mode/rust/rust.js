CodeMirror.defineMode("rust",function(){function U(a,b,c){var d=a.cc;l.state=a,l.stream=b,l.marked=null,l.cc=d;for(;;){var e=d.length?d.pop():t;if(e(f)){while(d.length&&d[d.length-1].lex)d.pop()();return l.marked||c}}}function T(a,b){return a=="["?n(o("]"),s(b,"]"),p):a=="("?n(o(")"),s(b,")"),p):a=="{"?n(o("}"),s(b,"}"),p):n()}function S(a){return a.match(/[\[\(\{]/)?T(a,v):m()}function R(a){if(a=="}")return n();if(a=="|")return n(R);if(g=="when"){l.marked="keyword";return n(v,R)}return a=="{"?n(o("}","alt"),t,p,R):m(O,R)}function Q(a){return a=="{"?n(o("}","alt"),R,p):m()}function P(a){if(a=="op"&&g==".")return n();if(g=="to"){l.marked="keyword";return n(O)}return m()}function O(a){if(a=="name"){l.marked="def";return n(P)}return a=="atom"?n(P):a=="op"?n(O):T(a,O)}function N(a){return a=="("?n(o("("),s(L,")"),p,N):a=="->"?n(L):m()}function M(a){return g=="<"?n(J):m()}function L(a){if(a=="name"){l.marked="variable-3";return n(M)}if(g=="mutable"){l.marked="keyword";return n(L)}return a=="atom"?n(M):a=="op"||a=="obj"?n(L):a=="fn"?n(N):T(a,L)}function K(a){if(a=="name"){l.marked="def";return n(K)}return a==":"?n(q,L,r):m()}function J(a){return g==">"?n():g==","?n(J):m(L,J)}function I(a){if(a=="name"){l.marked="def";return n(I)}return a=="{"?n(o("}"),t,p):m()}function H(a){if(a=="}")return n();if(a=="(")return n(o(")"),s(L,")"),p,H);g.match(/^\w+$/)&&(l.marked="def");return n(H)}function G(a){if(a=="name"){l.marked="def";return n(G)}return g=="<"?n(J,G):g=="="?n(q,L,r,u):a=="{"?n(o("}"),q,H,r,p):n(G)}function F(a){if(a=="name"){l.marked="def";return n(F)}return g=="<"?n(J,F):g=="="?n(q,L,r):n(F)}function E(a){if(a=="name"){l.marked="def";return n(E)}return g=="<"?n(J,E):a=="{"?m(v):a=="("?n(o(")"),s(K,")"),p,E):a=="->"?n(q,L,r,E):n(E)}function D(a){if(a=="name"&&g=="in"){l.marked="keyword";return n()}return m()}function C(a){return a==":"?n(q,L,r):m()}function B(a){return a==";"?n():g=="="?n(v,B):a==","?n(B):m(O,C,B)}function A(a){if(a=="name"){l.marked="def";return n(A)}return a=="op"&&g=="|"?n():n(A)}function z(a){if(g=="mutable"||g=="with"){l.marked="keyword";return n(z)}if(g.match(/^\w*$/)){l.marked="variable";return n(z)}return a==":"?n(v,z):a=="}"?n():n(z)}function y(a){if(a=="op"){if(g=="|")return n(A,p,o("}","block"),t);if(g=="||")return n(p,o("}","block"),t)}return g=="mutable"||g.match(/^\w+$/)&&l.stream.peek()==":"&&!l.stream.match("::",!1)?m(z):m(t)}function x(a){if(g.match(/^\w+$/)){l.marked="variable";return n(w)}return m(v)}function w(a){return g=="."?n(x):g=="::<"?n(J,w):a=="op"||g==":"?n(v):a=="("||a=="["?T(a,v):m()}function v(a){return a=="atom"||a=="name"?n(w):a=="{"?n(o("}"),y,p):a.match(/[\[\(]/)?T(a,v):a.match(/[\]\)\};,]/)?m():a=="if-style"?n(v,v):a=="else-style"||a=="op"?n(v):a=="for"?n(O,C,D,v,v):a=="alt"?n(v,Q):a=="fn"?n(E):a=="macro"?n(S):n()}function u(a){return a==";"?n():m()}function t(a){return a=="}"?n():a=="let"?n(o("stat","let"),B,p,t):a=="fn"?n(o("stat"),E,p,t):a=="type"?n(o("stat"),F,u,p,t):a=="tag"?n(o("stat"),G,p,t):a=="mod"?n(o("stat"),I,p,t):a=="open-attr"?n(o("]"),s(v,"]"),p):a=="ignore"?n(t):m(o("stat"),v,p,u,t)}function s(a,b){function c(d){return d==","?n(a,c):d==b?n():n(c)}return function(d){return d==b?n():m(a,c)}}function r(){l.state.keywords=c}function q(){l.state.keywords=d}function p(){var a=l.state;a.lexical.prev&&(a.lexical.type==")"&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function o(a,b){var c=function(){var c=l.state;c.lexical={indented:c.indented,column:l.stream.column(),type:a,prev:c.lexical,info:b}};c.lex=!0;return c}function n(){m.apply(null,arguments);return!0}function m(){for(var a=arguments.length-1;a>=0;a--)l.cc.push(arguments[a])}function k(a){return function(b,c){var d=null,e;while(e=b.next()){if(e=="/"&&d=="*"){if(a==1){c.tokenize=i;break}c.tokenize=k(a-1);return c.tokenize(b,c)}if(e=="*"&&d=="/"){c.tokenize=k(a+1);return c.tokenize(b,c)}d=e}return"comment"}}function j(a,b){var c,d=!1;while(c=a.next()){if(c=='"'&&!d){b.tokenize=i;return h("atom","string")}d=!d&&c=="\\"}return h("op","string")}function i(a,b){var c=a.next();if(c=='"'){b.tokenize=j;return b.tokenize(a,b)}if(c=="'"){f="atom";if(a.eat("\\")){if(a.skipTo("'")){a.next();return"string"}return"error"}a.next();return a.eat("'")?"string":"error"}if(c=="/"){if(a.eat("/")){a.skipToEnd();return"comment"}if(a.eat("*")){b.tokenize=k(1);return b.tokenize(a,b)}}if(c=="#"){if(a.eat("[")){f="open-attr";return null}a.eatWhile(/\w/);return h("macro","meta")}if(c==":"&&a.match(":<"))return h("op",null);if(c.match(/\d/)||c=="."&&a.eat(/\d/)){var d=!1;!a.match(/^x[\da-f]+/i)&&!a.match(/^b[01]+/)&&(a.eatWhile(/\d/),a.eat(".")&&(d=!0,a.eatWhile(/\d/)),a.match(/^e[+\-]?\d+/i)&&(d=!0)),d?a.match(/^f(?:32|64)/):a.match(/^[ui](?:8|16|32|64)/);return h("atom","number")}if(c.match(/[()\[\]{}:;,]/))return h(c,null);if(c=="-"&&a.eat(">"))return h("->",null);if(c.match(e)){a.eatWhile(e);return h("op",null)}a.eatWhile(/\w/),g=a.current();if(a.match(/^::\w/)){a.backUp(1);return h("prefix","variable-2")}return b.keywords.propertyIsEnumerable(g)?h(b.keywords[g],"keyword"):h("name","variable")}function h(a,b){f=a;return b}var a=4,b=2,c={"if":"if-style","while":"if-style","else":"else-style","do":"else-style",ret:"else-style",fail:"else-style","break":"atom",cont:"atom","const":"let",resource:"fn",let:"let",fn:"fn","for":"for",alt:"alt",obj:"fn",lambda:"fn",type:"type",tag:"tag",mod:"mod",as:"op","true":"atom","false":"atom",assert:"op",check:"op",claim:"op","native":"ignore",unsafe:"ignore","import":"else-style","export":"else-style",copy:"op",log:"op",log_err:"op"},d=function(){var a={fn:"fn",block:"fn",obj:"obj"},b="bool uint int i8 i16 i32 i64 u8 u16 u32 u64 float f32 f64 str char".split(" ");for(var c=0,d=b.length;c<d;++c)a[b[c]]="atom";return a}(),e=/[+\-*&%=<>!?|\.@]/,f,g,l={state:null,stream:null,marked:null,cc:null};p.lex=q.lex=r.lex=!0;return{startState:function(){return{tokenize:i,cc:[],lexical:{indented:-a,column:0,type:"top",align:!1},keywords:c,indented:0}},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation());if(a.eatSpace())return null;f=g=null;var c=b.tokenize(a,b);if(c=="comment")return c;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);if(f=="prefix")return c;g||(g=a.current());return U(b,a,c)},indent:function(c,d){if(c.tokenize!=i)return 0;var e=d&&d.charAt(0),f=c.lexical,g=f.type,h=e==g;return g=="stat"?f.indented+a:f.align?f.column+(h?0:1):f.indented+(h?0:f.info=="alt"?b:a)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-rustsrc","rust")