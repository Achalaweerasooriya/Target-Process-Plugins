(function(){var a=Date,b=a.prototype,c=a.CultureInfo,d=[],e=function(a,b){b||(b=2);return("000"+a).slice(b*-1)};a.normalizeFormat=function(a){d=[];var b=(new Date).$format(a);return d.join("")},a.strftime=function(a,b){return(new Date(b*1e3)).$format(a)},a.strtotime=function(b){var c=a.parse(b);c.addMinutes(c.getTimezoneOffset()*-1);return Math.round(a.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds())/1e3)},b.$format=function(b){var c=this,f,g=function(a){d.push(a);return c.toString(a)};return b?b.replace(/(%|\\)?.|%%/g,function(b){if(b.charAt(0)==="\\"||b.substring(0,2)==="%%")return b.replace("\\","").replace("%%","%");switch(b){case"d":case"%d":return g("dd");case"D":case"%a":return g("ddd");case"j":case"%e":return g("d");case"l":case"%A":return g("dddd");case"N":case"%u":return c.getDay()+1;case"S":return g("S");case"w":case"%w":return c.getDay();case"z":return c.getOrdinalNumber();case"%j":return e(c.getOrdinalNumber(),3);case"%U":var h=c.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),i=c.clone().addDays(1).moveToDayOfWeek(0,-1);return i<h?"00":e((i.getOrdinalNumber()-h.getOrdinalNumber())/7+1);case"W":case"%V":return c.getISOWeek();case"%W":return e(c.getWeek());case"F":case"%B":return g("MMMM");case"m":case"%m":return g("MM");case"M":case"%b":case"%h":return g("MMM");case"n":return g("M");case"t":return a.getDaysInMonth(c.getFullYear(),c.getMonth());case"L":return a.isLeapYear(c.getFullYear())?1:0;case"o":case"%G":return c.setWeek(c.getISOWeek()).toString("yyyy");case"%g":return c.$format("%G").slice(-2);case"Y":case"%Y":return g("yyyy");case"y":case"%y":return g("yy");case"a":case"%p":return g("tt").toLowerCase();case"A":return g("tt").toUpperCase();case"g":case"%I":return g("h");case"G":return g("H");case"h":return g("hh");case"H":case"%H":return g("HH");case"i":case"%M":return g("mm");case"s":case"%S":return g("ss");case"u":return e(c.getMilliseconds(),3);case"I":return c.isDaylightSavingTime()?1:0;case"O":return c.getUTCOffset();case"P":f=c.getUTCOffset();return f.substring(0,f.length-2)+":"+f.substring(f.length-2);case"e":case"T":case"%z":case"%Z":return c.getTimezone();case"Z":return c.getTimezoneOffset()*-60;case"B":var j=new Date;return Math.floor((j.getHours()*3600+j.getMinutes()*60+j.getSeconds()+(j.getTimezoneOffset()+60)*60)/86.4);case"c":return c.toISOString().replace(/\"/g,"");case"U":return a.strtotime("now");case"%c":return g("d")+" "+g("t");case"%C":return Math.floor(c.getFullYear()/100+1);case"%D":return g("MM/dd/yy");case"%n":return"\\n";case"%t":return"\\t";case"%r":return g("hh:mm tt");case"%R":return g("H:mm");case"%T":return g("H:mm:ss");case"%x":return g("d");case"%X":return g("t");default:d.push(b);return b}}):this._toString()},b.format||(b.format=b.$format)})()