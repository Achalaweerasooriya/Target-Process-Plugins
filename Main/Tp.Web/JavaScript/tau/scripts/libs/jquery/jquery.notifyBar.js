define(["libs/jquery/jquery"],function(t){function e(t){return clearTimeout(t.data(i)||-1),t.stop(!0,!0)}function a(t){t=t||{};var e=t.id||s;return n[e]||(n[e]={id:e}),n[e]}var s="notifyBar",i=s+"-timer",n={};t.fn[s]=function(n){var l={init:function(n){var l=a(n);l.settings=t.extend({},this[s].defaults,n);var o=l.settings,d=l.$el;if(!d||0===d.length){var u='<div class="tau-system-message" style="display: none;"><div class="tau-system-message-body"><div class="tau-img"></div><div class="tau-txt"></div><div class="tau-system-message-button"><button type="button" class="tau-btn i-role-message-button" /></div></div></div>';d=t(u),d.attr("id","tau-system-message_"+l.id),l.$el=d}return d.one("click",function(){e(t(this)).slideUp(o.animationSpeed)}),this.each(function(){var a=t(this);d.parent().is(a)||d.prependTo(a),d.data("className")&&d.removeClass(d.data("className")),d.addClass(o.className).data("className",o.className);var s=d.find(".tau-txt");o.$node?s.empty().append(o.$node):s.html('<div class="tau-system-message-body-inner">'+o.html+"</div>");var n=d.find(".tau-system-message-button");if(o.button){var l=n.find(".i-role-message-button");l.text(o.button.caption),l.unbind("click"),l.click(o.button.callback),n.show()}else n.hide();e(d),d.slideDown(o.animationSpeed),o.disableAutoClose||d.data(i,setTimeout(function(){d.slideUp(o.animationSpeed)},o.delay))})},remove:function(t){var e=a(t),s=e.$el;s&&(e.$el=null,s.remove())}};return l[n]?l[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error('Method "'+n+'" does not exist in '+s+" plugin!"):l.init.apply(this,arguments)},t.fn[s].defaults={className:"",$node:null,html:"",animationSpeed:"fast",delay:6e4,disableAutoClose:!1}});