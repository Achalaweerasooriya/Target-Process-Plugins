define(["libs/jquery/jquery.ui","libs/jquery/jquery.gid"],function(t){!function(t,i,o){var n=50,e=.1,s=function(t,i,o){var n,e,s=t[0],l=o.getScrollHeight,_=l?l():s.scrollHeight;return"x"==i?n=s.scrollWidth>s.clientWidth:"y"==i&&(e=_>s.clientHeight),n||e},l=function(t){var i=t[0],o=i.getBoundingClientRect(),n=i.clientWidth,e=i.clientHeight,s=o.left+i.clientLeft,l=o.top+i.clientTop,_=s+n,r=l+e;return{left:s,top:l,right:_,bottom:r,width:n,height:e}},_=function(t,i){var o={x:t.width*i,y:t.height*i};return t.left+=o.x,t.right-=o.x,t.top+=o.y,t.bottom-=o.y,t.width-=2*o.x,t.height-=2*o.x,t},r=function(t){this.__options=t};r.prototype={constructor:r,__scrollLeft:function(t,i){t[0].scrollLeft-=i},__scrollRight:function(t,i){t[0].scrollLeft+=i},__scrollDown:function(t,i){var o=this.__options.applyVerticalScrollOffset;o?o(i):t[0].scrollTop+=i},__scrollTop:function(t,i){this.__scrollDown(t,-i)},__scroll:function(){var t=this.__options.pointProvider();if(t){var i=this.__$element,o=_(l(i),this.__options.detectionRatio);s(i,"x",this.__options)&&(t.x<o.left?this.__scrollLeft(i,o.left-t.x):t.x>o.right&&this.__scrollRight(i,t.x-o.right)),s(i,"y",this.__options)&&(t.y<o.top?this.__scrollTop(i,o.top-t.y):t.y>o.bottom&&this.__scrollDown(i,t.y-o.bottom))}},on:function(i){this.__intervalId||(this.__$element=i,this.__intervalId=setInterval(t.proxy(this,"__scroll"),this.__options.refreshRate))},off:function(){this.__intervalId&&(clearInterval(this.__intervalId),this.__intervalId=null,this.__$element=null)}},t.widget(i+"."+o,{options:{disabled:!0,refreshInterval:n,detectionRatio:e},__setPoint:function(t){this.__point=t},__getPoint:function(){return this.__point},__pointStart:function(t,i){this.__setPoint(i)},__pointChange:function(t,i){this.__setPoint(i)},__pointEnd:function(){this.__setPoint(null)},__on:function(){this.__scroller.on(this.element)},__off:function(){this.__scroller.off()},_create:function(){this.__scroller=new r({refreshRate:this.options.refreshInterval,detectionRatio:this.options.detectionRatio,pointProvider:t.proxy(this,"__getPoint"),getScrollHeight:this.options.getScrollHeight,applyVerticalScrollOffset:this.options.applyVerticalScrollOffset}),this.__gidObserver=t.gid({dragStart:t.proxy(this,"__pointStart"),drag:t.proxy(this,"__pointChange"),dragEnd:t.proxy(this,"__pointEnd")}).on(this.element),this.options.disabled||this.__on()},_setOption:function(t,i){switch(t){case"disabled":this[i?"disable":"enable"]()}},enable:function(){this.options.disabled&&(this.options.disabled=!1,this.__on())},disable:function(){this.options.disabled||(this.options.disabled=!0,this.__off())},destroy:function(){this.__scroller.off(),this.__gidObserver.off(),this.__scroller=null,this.__gidObserver=null,t.Widget.prototype.destroy.call(this)}})}(t,"ui","pscroller")});