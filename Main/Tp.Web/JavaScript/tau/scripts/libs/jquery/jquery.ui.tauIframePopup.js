define(["libs/jquery/jquery.ui"],function(e){e.widget("ui.tauIFramePopup",{show:function(){var t=this,i=e('<iframe class="ui-popup_frame"></iframe>');this.element.tauPopup({hideOnEscape:!0});var o=this.widget();o.append(i),this.element.tauPopup("show"),this._trigger("show"),this.element.one("taupopuphide",function(){i.remove(),this._trigger("hide")}.bind(this)),o.tauProgressIndicator(),o.tauProgressIndicator("show"),i.attr("src",this.options.url),i.on("load",function(e){o.tauProgressIndicator("hide"),i.contents().on("keydown",function(e){27===e.keyCode&&t.hide()}),t._trigger("load",e,[i])})},hide:function(){this.element.tauPopup("hide")},widget:function(){return this.element.tauPopup("widget")}})});