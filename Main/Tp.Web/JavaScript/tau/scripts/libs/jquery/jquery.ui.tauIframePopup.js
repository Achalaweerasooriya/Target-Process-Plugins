define(["libs/jquery/jquery.ui","tau/utils/utils.frame"],function(e,t){e.widget("ui.tauIFramePopup",{show:function(){var i=e('<iframe class="ui-popup_frame"></iframe>');this.element.tauPopup({hideOnEscape:!0});var r=this.widget();r.append(i),this.element.tauPopup("show"),this._trigger("show"),this.element.one("taupopuphide",function(){t.suppressRequireErrors(i),i.remove(),this._trigger("hide")}.bind(this)),r.tauProgressIndicator(),r.tauProgressIndicator("show"),i.attr("src",this.options.url),i.on("load",function(e){r.tauProgressIndicator("hide");try{var o=t.getFrameWindow(i);o.tauIFramePopupIsUnloading=!1,o.onkeydown=function(e){27===e.keyCode&&this.hide()}.bind(this)}catch(n){}this._trigger("load",e,[i])}.bind(this))},hide:function(){this.element.tauPopup("hide")},widget:function(){return this.element.tauPopup("widget")}})});