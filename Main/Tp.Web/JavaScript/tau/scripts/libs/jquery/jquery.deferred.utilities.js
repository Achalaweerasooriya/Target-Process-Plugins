define(["libs/jquery/jquery"],function(e){e.whenList=function(r){return e.when.apply(e,r)},e.when.all=function(r){var t=new e.Deferred;return e.when.apply(e,r).then(function(){t.resolve(Array.prototype.slice.call(arguments))},function(){t.reject(Array.prototype.slice.call(arguments))}),t},e.when.timeout=function(r){var t=e.Deferred();return setTimeout(function(){t.resolve()},r),t.promise()},e.when.elementIsInDom=function(r,t){var n=e(r),o=e.Deferred(),i=function(){n.closest("body").length?o.resolve(n):setTimeout(i,t||100)};return i(),o.promise()},e.Deferred.extractValueOrFail=function(e){if(!e)throw new Error("Promise expected");if("rejected"===e.state()){var r;throw e.fail(function(e){r=e}),r||new Error("Promise is rejected")}if("resolved"!==e.state())throw new Error("Promise is not resolved yet");var t;return e.done(function(e){t=e}),t}});