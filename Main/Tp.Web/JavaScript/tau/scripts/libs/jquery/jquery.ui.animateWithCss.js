define(["libs/jquery/jquery","libs/jquery/jquery.isSupport"],function(jQuery){return function($){$.fn.extend({animateWithCss:function(options){var defaults={cssClassName:"",complete:$.noop},o=$.extend(defaults,options),$defer=$.Deferred();return $defer.done(o.complete),this.each(function(){var $el=$(this);$el.removeClass(o.cssClassName).addClass(o.cssClassName);var timeout=parseFloat($el.css("MozAnimationDuration")||$el.css("WebkitAnimationDuration")||1,10)*parseFloat($el.css("MozAnimationIterationCount")||$el.css("WebkitAnimationIterationCount")||1,10)*1e3;_.delay(_.bind(function($d){this.removeClass(o.cssClassName),$d&&$d.resolve()},$el,$defer),timeout)})}})}(jQuery),jQuery})