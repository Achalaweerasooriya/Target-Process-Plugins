define(["libs/jquery/jquery"],function(a){return function($){var a={defaults:{debug:!1,valMethod:!1,patternLibrary:{phone:/([\+][0-9]{1,3}([ \.\-])?)?([\(]{1}[0-9]{3}[\)])?([0-9A-Z \.\-]{1,32})((x|ext|extension)?[0-9]{1,4}?)/,email:/((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?/,url:/(https?|ftp):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,alpha:/[a-zA-Z]+/,alphaNumeric:/\w+/,integer:/-?\d+/},messages:{required:"This is a required field.",invalid:"Please correct this field."},classPrefix:"h5-",errorClass:"ui-state-error",validClass:"ui-state-valid",activeClass:"active",requiredClass:"required",requiredAttribute:"required",patternAttribute:"pattern",errorAttribute:"data-h5-errorid",kbSelectors:":text, :password, select, textarea",focusout:!0,focusin:!1,change:!0,keyup:!1,mSelectors:":radio, :checkbox, select, option",click:!0,activeKeyup:!0,requiredVar:"h5-required",patternVar:"h5-pattern",stripMarkup:!0,submit:!0,invalidCallback:function(){},validCallback:function(){},markInvalid:function(a){var b=$(a.element),c=$(a.errorID);return b.addClass(a.errorClass).removeClass(a.validClass),b.addClass(a.settings.activeClass),c.length&&(b.attr("title")&&c.text(b.attr("title")),c.show()),b.data("valid",!1),a.settings.invalidCallback.call(a.element),b},markValid:function(a){var b=$(a.element),c=$(a.errorID);return b.addClass(a.validClass).removeClass(a.errorClass),c.length&&c.hide(),b.data("valid",!0),a.settings.validCallback.call(a.element),b},unmark:function(a){var b=$(a.element);return b.removeClass(a.errorClass).removeClass(a.validClass),b.form.find("#"+a.element.id).removeClass(a.errorClass).removeClass(a.validClass),b}}},b=a.defaults,c=b.messages,d=b.patternLibrary,e={isValid:function(a){return!!$(this).data("valid")},allValid:function(){var a=!0;return $(this).find("input, textarea, select").each(function(){return a=$(this).h5Validate("isValid"),a}),a},validate:function(a){var b=$(this),c=b.filter("[pattern]")[0]?b.attr("pattern"):!1,d=new RegExp("^(?:"+c+")$"),e=a.valMethod?a.valMethod.call(null,b):b.is("[type=checkbox]")||b.is("[type=radio]")?b.is(":checked"):b.val(),f=a.errorClass,g=a.validClass,h=b.attr(a.errorAttribute)||!1,i=h?"#"+h:!1,j=!1,k=!0,l="",m=$("<input required>");m.filter("[required]")&&m.filter("[required]").length?j=b.filter("[required]").length&&b.attr("required")!=="false"?!0:!1:j=b.attr("required")!==undefined?!0:!1,a.debug&&window.console&&(console.log('Validate called on "'+e+'" with regex "'+d+'". Required: '+j),console.log("Regex test: "+d.test(e)+", Pattern: "+c)),j&&!e?(k=!1,l="required"):c&&!d.test(e)&&e?(k=!1,l="pattern"):(k=!0,a.markValid({element:this,errorClass:f,validClass:g,errorID:i,settings:a})),k||a.markInvalid({element:this,reason:l,errorClass:f,validClass:g,errorID:i,settings:a})},delegateEvents:function(a,b,c,d){var e=[],f=0,g=function(){d.validate.call(this,d)};$.each(b,function(a,b){b&&(e[a]=a)}),f=0;for(f in e)e.hasOwnProperty(f)&&$(c).delegate(a,e[f]+".h5Validate",g);return c},bindDelegation:function(a){return $.each(d,function(b,c){var d=c.toString();d=d.substring(1,d.length-1),$("."+a.classPrefix+b).attr("pattern",d)}),$(this).filter("form").attr("novalidate","novalidate"),$(this).find("form").attr("novalidate","novalidate"),$(this).parents("form").attr("novalidate","novalidate"),this.each(function(){var b={focusout:a.focusout,focusin:a.focusin,change:a.change,keyup:a.keyup},c={click:a.click},d={keyup:a.activeKeyup};a.delegateEvents(a.kbSelectors,b,this,a),a.delegateEvents(a.mSelectors,c,this,a),a.delegateEvents(a.activeClassSelector,d,this,a)})}};$.h5Validate={addPatterns:function(a){var c=b.patternLibrary,d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c},validValues:function(a,b){var c=0,d=b.length,e="",f;for(c=0;c<d;c++)e=e?e+"|"+b[c]:b[c];f=new RegExp("^(?:"+e+")$"),$(a).data("regex",f)}},$.fn.h5Validate=function(d){var f=$.extend({},b,d,e),g=f.classPrefix+f.activeClass,h,i;return $.extend(f,{activeClass:g,activeClassSelector:"."+g,requiredClass:f.classPrefix+f.requiredClass}),f.messages=c,$.extend($.fn.h5Validate,a),typeof d=="string"&&typeof e[d]=="function"?(i=$.makeArray(arguments),h=d,i.shift(),i=$.merge(i,[f]),f[h].apply(this,i)):e.bindDelegation.call(this,f)}}(a),a.h5Validate})