define(["libs/jquery/jquery"],function(e){!function(e,t){if(t in e.fn)throw new Error('The "'+t+'" jQuery plugin is already defined.');var n=function(e){e.css("visibility","visible")},i=function(e){e.css("visibility","hidden")},r=function(t){var r=e(this);if(!r.is('input[type="text"]'))return e(this);t=e.extend({cssClass:"",template:'<button type="button" tabindex="-1"></button>',onAttach:function(t,n){n.css({zIndex:t.zIndex()+10});var i=e('<span class="tau-resetable-input"></span>');i.insertBefore(t),t.detach(),i.append(t).append(n)},showAlways:!1},t);var s=e(t.template).addClass(t.cssClass);i(s),t.onAttach(r,s),r.addClass("i-role-resetable-target"),s.addClass("i-role-resetable-trigger");var o=null,a=function(){r.val()?n(s):i(s)},u=function(){clearTimeout(o),o=setTimeout(a,0)};if(t.showAlways)r.on({keydown:u,input:u}),a();else{var l=function(){clearTimeout(o),i(s)},c=r.parent(),f=".i-role-resetable-target,.i-role-resetable-trigger",d={mouseenter:u,mouseleave:l},p=function(){c.on(d,f)},h=function(){c.off(d,f),c.on(d,f)},y=function(){c.off(d,f)},g=function(){u(),y()},v=function(){l(),h()};r.on({keydown:u,input:u,focus:g,blur:v}),p()}return s.on("mousedown",function(t){return 1==t.which?(i(e(this)),r.val("").focus().trigger(e.Event("keydown",{keyCode:8})).trigger(e.Event("keyup",{keyCode:8})).trigger(e.Event("keypress",{keyCode:8})).trigger("input").trigger("clear"),t.preventDefault(),!1):void 0}),e(this)};e.fn[t]=function(t){return e.ui.ie||this.each(function(){r.call(this,t)}),this}}(e,"tauResetableInput")});