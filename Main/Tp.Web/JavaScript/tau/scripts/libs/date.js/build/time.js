/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 2008-05-13
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * @website: http://www.datejs.com/
 */
var TimeSpan=function(a,b,c,d,e){var f="days hours minutes seconds milliseconds".split(/\s+/),g=function(a){return function(){return this[a]}},h=function(a){return function(b){return this[a]=b,this}};for(var i=0;i<f.length;i++){var j=f[i],k=j.slice(0,1).toUpperCase()+j.slice(1);TimeSpan.prototype[j]=0,TimeSpan.prototype["get"+k]=g(j),TimeSpan.prototype["set"+k]=h(j)}if(arguments.length==4)this.setDays(a),this.setHours(b),this.setMinutes(c),this.setSeconds(d);else if(arguments.length==5)this.setDays(a),this.setHours(b),this.setMinutes(c),this.setSeconds(d),this.setMilliseconds(e);else if(arguments.length==1&&typeof a=="number"){var l=a<0?-1:1;this.setMilliseconds(Math.abs(a)),this.setDays(Math.floor(this.getMilliseconds()/864e5)*l),this.setMilliseconds(this.getMilliseconds()%864e5),this.setHours(Math.floor(this.getMilliseconds()/36e5)*l),this.setMilliseconds(this.getMilliseconds()%36e5),this.setMinutes(Math.floor(this.getMilliseconds()/6e4)*l),this.setMilliseconds(this.getMilliseconds()%6e4),this.setSeconds(Math.floor(this.getMilliseconds()/1e3)*l),this.setMilliseconds(this.getMilliseconds()%1e3),this.setMilliseconds(this.getMilliseconds()*l)}return this.getTotalMilliseconds=function(){return this.getDays()*864e5+this.getHours()*36e5+this.getMinutes()*6e4+this.getSeconds()*1e3},this.compareTo=function(a){var b=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),c;return a===null?c=new Date(1970,1,1,0,0,0):c=new Date(1970,1,1,a.getHours(),a.getMinutes(),a.getSeconds()),b<c?-1:b>c?1:0},this.equals=function(a){return this.compareTo(a)===0},this.add=function(a){return a===null?this:this.addSeconds(a.getTotalMilliseconds()/1e3)},this.subtract=function(a){return a===null?this:this.addSeconds(-a.getTotalMilliseconds()/1e3)},this.addDays=function(a){return new TimeSpan(this.getTotalMilliseconds()+a*864e5)},this.addHours=function(a){return new TimeSpan(this.getTotalMilliseconds()+a*36e5)},this.addMinutes=function(a){return new TimeSpan(this.getTotalMilliseconds()+a*6e4)},this.addSeconds=function(a){return new TimeSpan(this.getTotalMilliseconds()+a*1e3)},this.addMilliseconds=function(a){return new TimeSpan(this.getTotalMilliseconds()+a)},this.get12HourHour=function(){return this.getHours()>12?this.getHours()-12:this.getHours()===0?12:this.getHours()},this.getDesignator=function(){return this.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator},this.toString=function(a){this._toString=function(){return this.getDays()!==null&&this.getDays()>0?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())},this.p=function(a){return a.toString().length<2?"0"+a:a};var b=this;return a?a.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(a){switch(a){case"d":return b.getDays();case"dd":return b.p(b.getDays());case"H":return b.getHours();case"HH":return b.p(b.getHours());case"h":return b.get12HourHour();case"hh":return b.p(b.get12HourHour());case"m":return b.getMinutes();case"mm":return b.p(b.getMinutes());case"s":return b.getSeconds();case"ss":return b.p(b.getSeconds());case"t":return(b.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return b.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()},this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(a,b,c,d,e,f,g){var h="years months days hours minutes seconds milliseconds".split(/\s+/),i=function(a){return function(){return this[a]}},j=function(a){return function(b){return this[a]=b,this}};for(var k=0;k<h.length;k++){var l=h[k],m=l.slice(0,1).toUpperCase()+l.slice(1);TimePeriod.prototype[l]=0,TimePeriod.prototype["get"+m]=i(l),TimePeriod.prototype["set"+m]=j(l)}if(arguments.length==7)this.years=a,this.months=b,this.setDays(c),this.setHours(d),this.setMinutes(e),this.setSeconds(f),this.setMilliseconds(g);else if(arguments.length==2&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var n=a.clone(),o=b.clone(),p=n.clone(),q=n>o?-1:1;this.years=o.getFullYear()-n.getFullYear(),p.addYears(this.years),q==+1?p>o&&this.years!==0&&this.years--:p<o&&this.years!==0&&this.years++,n.addYears(this.years);if(q==+1)while(n<o&&n.clone().addDays(Date.getDaysInMonth(n.getYear(),n.getMonth()))<o)n.addMonths(1),this.months++;else while(n>o&&n.clone().addDays(-n.getDaysInMonth())>o)n.addMonths(-1),this.months--;var r=o-n;if(r!==0){var s=new TimeSpan(r);this.setDays(s.getDays()),this.setHours(s.getHours()),this.setMinutes(s.getMinutes()),this.setSeconds(s.getSeconds()),this.setMilliseconds(s.getMilliseconds())}}return this}