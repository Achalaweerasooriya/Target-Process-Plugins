function d3_layout_bundlePath(a){var b=a.source,c=a.target,d=d3_layout_bundleLeastCommonAncestor(b,c),e=[b];while(b!==d)b=b.parent,e.push(b);var f=e.length;while(c!==d)e.splice(f,0,c),c=c.parent;return e}function d3_layout_bundleAncestors(a){var b=[],c=a.parent;while(c!=null)b.push(a),a=c,c=c.parent;return b.push(a),b}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;var c=d3_layout_bundleAncestors(a),d=d3_layout_bundleAncestors(b),e=c.pop(),f=d.pop(),g=null;while(e===f)g=e,e=c.pop(),f=d.pop();return g}d3.layout.bundle=function(){return function(a){var b=[],c=-1,d=a.length;while(++c<d)b.push(d3_layout_bundlePath(a[c]));return b}}