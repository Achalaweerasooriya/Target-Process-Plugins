require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("d3.svg.symbol");suite.addBatch({symbol:{topic:function(){return d3.svg.symbol},"default symbol is a fixed-size circle":function(a){var b=a();assert.pathEqual(b(),"M0,4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,-4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,4.51351666838205Z")},"size accessor specifies shape area in square pixels":function(a){var b=a().size(Number);assert.pathEqual(b(0),"M0,0A0,0 0 1,1 0,0A0,0 0 1,1 0,0Z"),assert.pathEqual(b(Math.PI),"M0,1A1,1 0 1,1 0,-1A1,1 0 1,1 0,1Z"),assert.pathEqual(b(4*Math.PI),"M0,2A2,2 0 1,1 0,-2A2,2 0 1,1 0,2Z")},"size accessor is passed data and index":function(a){var b=a().size(function(a,b){return a.z*2+b});assert.pathEqual(b({z:0},0),"M0,0A0,0 0 1,1 0,0A0,0 0 1,1 0,0Z"),assert.pathEqual(b({z:Math.PI},1),"M0,1.5225997130512636A1.5225997130512636,1.5225997130512636 0 1,1 0,-1.5225997130512636A1.5225997130512636,1.5225997130512636 0 1,1 0,1.5225997130512636Z"),assert.pathEqual(b({z:4*Math.PI},2),"M0,2.938812646693828A2.938812646693828,2.938812646693828 0 1,1 0,-2.938812646693828A2.938812646693828,2.938812646693828 0 1,1 0,2.938812646693828Z")},"supports cross symbol type":function(a){var b=a().type("cross").size(Number);assert.pathEqual(b(0),"M0,0H0V0H0V0H0V0H0V0H0V0H0Z"),assert.pathEqual(b(20),"M-3,-1H-1V-3H1V-1H3V1H1V3H-1V1H-3Z")},"supports diamond symbol type":function(a){var b=a().type("diamond").size(Number);assert.pathEqual(b(0),"M0,0L0,0 0,0 0,0Z"),assert.pathEqual(b(10),"M0,-2.9428309563827124L1.6990442448471224,0 0,2.9428309563827124 -1.6990442448471224,0Z")},"supports square symbol type":function(a){var b=a().type("square").size(Number);assert.pathEqual(b(0),"M0,0L0,0 0,0 0,0Z"),assert.pathEqual(b(4),"M-1,-1L1,-1 1,1 -1,1Z"),assert.pathEqual(b(16),"M-2,-2L2,-2 2,2 -2,2Z")},"supports triangle-down symbol type":function(a){var b=a().type("triangle-down").size(Number);assert.pathEqual(b(0),"M0,0L0,0 0,0Z"),assert.pathEqual(b(10),"M0,2.0808957251439084L2.4028114141347543,-2.0808957251439084 -2.4028114141347543,-2.0808957251439084Z")},"supports triangle-up symbol type":function(a){var b=a().type("triangle-up").size(Number);assert.pathEqual(b(0),"M0,0L0,0 0,0Z"),assert.pathEqual(b(10),"M0,-2.0808957251439084L2.4028114141347543,2.0808957251439084 -2.4028114141347543,2.0808957251439084Z")},"unknown symbol type defaults to circle":function(a){var b=a().type(String);assert.pathEqual(b(),"M0,4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,-4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,4.51351666838205Z"),assert.pathEqual(b("invalid"),"M0,4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,-4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,4.51351666838205Z"),assert.pathEqual(b("hasOwnProperty"),"M0,4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,-4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,4.51351666838205Z")},"can specify type accessor as a function":function(a){var b=a().type(String);assert.pathEqual(b("circle"),"M0,4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,-4.51351666838205A4.51351666838205,4.51351666838205 0 1,1 0,4.51351666838205Z"),assert.pathEqual(b("cross"),"M-5.366563145999495,-1.7888543819998317H-1.7888543819998317V-5.366563145999495H1.7888543819998317V-1.7888543819998317H5.366563145999495V1.7888543819998317H1.7888543819998317V5.366563145999495H-1.7888543819998317V1.7888543819998317H-5.366563145999495Z"),assert.pathEqual(b("diamond"),"M0,-7.444838872816797L4.298279727294167,0 0,7.444838872816797 -4.298279727294167,0Z"),assert.pathEqual(b("square"),"M-4,-4L4,-4 4,4 -4,4Z"),assert.pathEqual(b("triangle-down"),"M0,5.26429605180997L6.078685485212741,-5.26429605180997 -6.078685485212741,-5.26429605180997Z"),assert.pathEqual(b("triangle-up"),"M0,-5.26429605180997L6.078685485212741,5.26429605180997 -6.078685485212741,5.26429605180997Z")}},symbolTypes:{topic:function(){return d3.svg.symbolTypes},"contains circle":function(a){assert.isTrue(a.indexOf("circle")!=-1)},"contains cross":function(a){assert.isTrue(a.indexOf("cross")!=-1)},"contains diamond":function(a){assert.isTrue(a.indexOf("diamond")!=-1)},"contains square":function(a){assert.isTrue(a.indexOf("square")!=-1)},"contains triangle-down":function(a){assert.isTrue(a.indexOf("triangle-down")!=-1)},"contains triangle-up":function(a){assert.isTrue(a.indexOf("triangle-up")!=-1)}}}),suite.export(module)