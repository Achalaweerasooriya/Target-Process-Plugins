require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("selection.call");suite.addBatch({"select(body)":{topic:function(){return d3.select("body").html("")},"calls the function once":function(a){var b=0;a.call(function(){++b}),assert.equal(b,1)},"passes any optional arguments":function(a){var b;a.call(function(a,c,d,e){b=[c,d,e]},"a","b","c"),assert.deepEqual(b,["a","b","c"])},"passes the selection as the first argument":function(a){var b;a.call(function(a){b=a}),assert.isTrue(b===a)},"uses the selection as the context":function(a){var b;a.call(function(){b=this}),assert.isTrue(b===a)},"returns the current selection":function(a){assert.isTrue(a.call(function(){})===a)}}}),suite.addBatch({"selectAll(div)":{topic:function(){return d3.select("body").html("").selectAll("div").data(d3.range(2)).enter().append("div")},"calls the function once":function(a){var b=0;a.call(function(){++b}),assert.equal(b,1)},"passes any optional arguments":function(a){var b;a.call(function(a,c,d,e){b=[c,d,e]},"a","b","c"),assert.deepEqual(b,["a","b","c"])},"passes the selection as the first argument":function(a){var b;a.call(function(a){b=a}),assert.isTrue(b===a)},"uses the selection as the context":function(a){var b;a.call(function(){b=this}),assert.isTrue(b===a)},"returns the current selection":function(a){assert.isTrue(a.call(function(){})===a)}}}),suite.export(module)