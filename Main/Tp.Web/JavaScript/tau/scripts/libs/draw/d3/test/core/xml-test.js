require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("d3.xml");suite.addBatch({xml:{topic:function(){var a=this.callback;return d3.xml("examples/data/sample.xml",function(b){a(null,b)})},"invokes the callback with the loaded xml":function(a){assert.deepEqual(a,{_xml:'<?xml version="1.0" encoding="UTF-8" ?>\n<hello>\n  <world name="Earth"/>\n</hello>\n'})},"does not override the mime type by default":function(a){assert.isUndefined(XMLHttpRequest._last._info.mimeType)},"":{topic:function(){var a=this.callback;return d3.xml("examples/data/sample.txt","application/xml+sample",function(b){a(null,b)})},"observes the optional mime type":function(a){assert.equal(XMLHttpRequest._last._info.mimeType,"application/xml+sample")}}," ":{topic:function(){var a=this.callback;return d3.xml("//does/not/exist.xml",function(b){a(null,b)})},"invokes the callback with null when an error occurs":function(a){assert.isNull(a)}}}}),suite.export(module)