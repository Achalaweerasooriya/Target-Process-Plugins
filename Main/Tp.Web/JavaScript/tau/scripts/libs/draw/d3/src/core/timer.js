function d3_timer_step(){var a,b=Date.now(),c=d3_timer_queue;while(c)a=b-c.then,a>=c.delay&&(c.flush=c.callback(a)),c=c.next;var d=d3_timer_flush()-b;d>24?(isFinite(d)&&(clearTimeout(d3_timer_timeout),d3_timer_timeout=setTimeout(d3_timer_step,d)),d3_timer_interval=0):(d3_timer_interval=1,d3_timer_frame(d3_timer_step))}function d3_timer_flush(){var a=null,b=d3_timer_queue,c=Infinity;while(b)b.flush?b=a?a.next=b.next:d3_timer_queue=b.next:(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c}var d3_timer_queue=null,d3_timer_interval,d3_timer_timeout;d3.timer=function(a,b,c){var d=!1,e,f=d3_timer_queue;if(arguments.length<3){if(arguments.length<2)b=0;else if(!isFinite(b))return;c=Date.now()}while(f){if(f.callback===a){f.then=c,f.delay=b,d=!0;break}e=f,f=f.next}d||(d3_timer_queue={callback:a,then:c,delay:b,next:d3_timer_queue}),d3_timer_interval||(d3_timer_timeout=clearTimeout(d3_timer_timeout),d3_timer_interval=1,d3_timer_frame(d3_timer_step))},d3.timer.flush=function(){var a,b=Date.now(),c=d3_timer_queue;while(c)a=b-c.then,c.delay||(c.flush=c.callback(a)),c=c.next;d3_timer_flush()};var d3_timer_frame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)}