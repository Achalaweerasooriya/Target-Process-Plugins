require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("d3.ease");suite.addBatch({ease:{topic:function(){return d3.ease},"supports linear easing":function(a){var b=a("linear");assert.inDelta(b(.5),.5,1e-6)},"supports polynomial easing":function(a){var b=a("poly",2);assert.inDelta(b(.5),.25,1e-6)},"supports quadratic easing":function(a){var b=a("quad");assert.inDelta(b(.5),.25,1e-6)},"supports cubic easing":function(a){var b=a("cubic");assert.inDelta(b(.5),.125,1e-6)},"supports sinusoidal easing":function(a){var b=a("sin");assert.inDelta(b(.5),1-Math.cos(Math.PI/4),1e-6)},"supports exponential easing":function(a){var b=a("exp");assert.inDelta(b(.5),.03125,1e-6)},"supports circular easing":function(a){var b=a("circle");assert.inDelta(b(.5),.133975,1e-6)},"supports elastic easing":function(a){var b=a("elastic");assert.inDelta(b(.5),.976061,1e-6)},"supports back easing":function(a){var b=a("back");assert.inDelta(b(.5),-0.0876975,1e-6)},"supports bounce easing":function(a){var b=a("bounce");assert.inDelta(b(.5),.765625,1e-6)},"invalid eases and modes default to linear-in":function(a){var b=a("__proto__-__proto__");assert.equal(b(0),0),assert.equal(b(.5),.5),assert.equal(b(1),1);var b=a("hasOwnProperty-constructor");assert.equal(b(0),0),assert.equal(b(.5),.5),assert.equal(b(1),1)},"all easing functions return exactly 0 for t = 0":function(a){assert.equal(a("linear")(0),0),assert.equal(a("poly",2)(0),0),assert.equal(a("quad")(0),0),assert.equal(a("cubic")(0),0),assert.equal(a("sin")(0),0),assert.equal(a("exp")(0),0),assert.equal(a("circle")(0),0),assert.equal(a("elastic")(0),0),assert.equal(a("back")(0),0),assert.equal(a("bounce")(0),0)},"all easing functions return exactly 1 for t = 1":function(a){assert.equal(a("linear")(1),1),assert.equal(a("poly",2)(1),1),assert.equal(a("quad")(1),1),assert.equal(a("cubic")(1),1),assert.equal(a("sin")(1),1),assert.equal(a("exp")(1),1),assert.equal(a("circle")(1),1),assert.equal(a("elastic")(1),1),assert.equal(a("back")(1),1),assert.equal(a("bounce")(1),1)},"the -in suffix returns the identity":function(a){assert.inDelta(a("linear-in")(.25),a("linear")(.25),1e-6),assert.inDelta(a("quad-in")(.75),a("quad")(.75),1e-6)},"the -out suffix returns the reverse":function(a){assert.inDelta(a("sin-out")(.25),1-a("sin-in")(.75),1e-6),assert.inDelta(a("bounce-out")(.25),1-a("bounce-in")(.75),1e-6),assert.inDelta(a("elastic-out")(.25),1-a("elastic-in")(.75),1e-6)},"the -in-out suffix returns the reflection":function(a){assert.inDelta(a("sin-in-out")(.25),.5*a("sin-in")(.5),1e-6),assert.inDelta(a("bounce-in-out")(.25),.5*a("bounce-in")(.5),1e-6),assert.inDelta(a("elastic-in-out")(.25),.5*a("elastic-in")(.5),1e-6)},"the -out-in suffix returns the reverse reflection":function(a){assert.inDelta(a("sin-out-in")(.25),.5*a("sin-out")(.5),1e-6),assert.inDelta(a("bounce-out-in")(.25),.5*a("bounce-out")(.5),1e-6),assert.inDelta(a("elastic-out-in")(.25),.5*a("elastic-out")(.5),1e-6)},"clamps input time":function(a){var b=a("linear");assert.inDelta(b(-1),0,1e-6),assert.inDelta(b(2),1,1e-6)},poly:{"supports an optional polynomial":function(a){var b=a("poly",1);assert.inDelta(b(.5),.5,1e-6);var b=a("poly",.5);assert.inDelta(b(.5),Math.SQRT1_2,1e-6)}},elastic:{"supports an optional amplifier (>1)":function(a){var b=a("elastic",1.5);assert.inDelta(b(.5),.998519,1e-6)},"supports an optional amplifier (>1) and period (>0)":function(a){var b=a("elastic",1.5,.5);assert.inDelta(b(.5),.96875,1e-6)}},back:{"supports an optional speed":function(a){var b=a("back",2);assert.inDelta(b(.5),-0.125,1e-6)}}}}),suite.export(module)