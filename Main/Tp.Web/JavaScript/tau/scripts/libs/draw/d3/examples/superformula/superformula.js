(function(){function c(a,c,d){var e=-1,f=2*Math.PI/c,g,h=0,i,j,k=[];while(++e<c)g=a.m*(e*f-Math.PI)/4,g=Math.pow(Math.abs(Math.pow(Math.abs(Math.cos(g)/a.a),a.n2)+Math.pow(Math.abs(Math.sin(g)/a.b),a.n3)),-1/a.n1),g>h&&(h=g),k.push(g);h=d*Math.SQRT1_2/h,e=-1;while(++e<c)i=(g=k[e]*h)*Math.cos(e*f),j=g*Math.sin(e*f),k[e]=[Math.abs(i)<1e-6?0:i,Math.abs(j)<1e-6?0:j];return b(k)+"Z"}var a=d3.svg.symbol(),b=d3.svg.line();superformula=function(){function h(a,h){var i,j=d[b.call(this,a,h)];for(i in g)j[i]=g[i].call(this,a,h);return c(j,f.call(this,a,h),Math.sqrt(e.call(this,a,h)))}var b=a.type(),e=a.size(),f=e,g={};return h.type=function(a){return arguments.length?(b=d3.functor(a),h):b},h.param=function(a,b){return arguments.length<2?g[a]:(g[a]=d3.functor(b),h)},h.size=function(a){return arguments.length?(e=d3.functor(a),h):e},h.segments=function(a){return arguments.length?(f=d3.functor(a),h):f},h};var d={asterisk:{m:12,n1:.3,n2:0,n3:10,a:1,b:1},bean:{m:2,n1:1,n2:4,n3:8,a:1,b:1},butterfly:{m:3,n1:1,n2:6,n3:2,a:.6,b:1},circle:{m:4,n1:2,n2:2,n3:2,a:1,b:1},clover:{m:6,n1:.3,n2:0,n3:10,a:1,b:1},cloverFour:{m:8,n1:10,n2:-1,n3:-8,a:1,b:1},cross:{m:8,n1:1.3,n2:.01,n3:8,a:1,b:1},diamond:{m:4,n1:1,n2:1,n3:1,a:1,b:1},drop:{m:1,n1:.5,n2:.5,n3:.5,a:1,b:1},ellipse:{m:4,n1:2,n2:2,n3:2,a:9,b:6},gear:{m:19,n1:100,n2:50,n3:50,a:1,b:1},heart:{m:1,n1:.8,n2:1,n3:-8,a:1,b:.18},heptagon:{m:7,n1:1e3,n2:400,n3:400,a:1,b:1},hexagon:{m:6,n1:1e3,n2:400,n3:400,a:1,b:1},malteseCross:{m:8,n1:.9,n2:.1,n3:100,a:1,b:1},pentagon:{m:5,n1:1e3,n2:600,n3:600,a:1,b:1},rectangle:{m:4,n1:100,n2:100,n3:100,a:2,b:1},roundedStar:{m:5,n1:2,n2:7,n3:7,a:1,b:1},square:{m:4,n1:100,n2:100,n3:100,a:1,b:1},star:{m:5,n1:30,n2:100,n3:100,a:1,b:1},triangle:{m:3,n1:100,n2:200,n3:200,a:1,b:1}};superformulaTypes=d3.keys(d)})()