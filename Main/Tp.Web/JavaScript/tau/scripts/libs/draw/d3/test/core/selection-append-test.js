require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("selection.append");suite.addBatch({"select(body)":{topic:function(){return d3.select("body").html("")},"appends an HTML element":function(a){var b=a.append("div");assert.equal(b[0][0].tagName,"DIV"),assert.isNull(b[0][0].namespaceURI),assert.isTrue(b[0][0].parentNode===document.body),assert.isTrue(b[0][0]===document.body.lastChild)},"appends an SVG element":function(a){var b=a.append("svg:svg");assert.equal(b[0][0].tagName,"SVG"),assert.equal(b[0][0].namespaceURI,"http://www.w3.org/2000/svg"),assert.isTrue(b[0][0].parentNode===document.body),assert.isTrue(b[0][0]===document.body.lastChild)},"propagates data to new element":function(a){var b=new Object,c=a.data([b]).append("div");assert.strictEqual(c[0][0].__data__,b)},"returns a new selection":function(a){assert.isFalse(a.append("div")===a)},"inherits namespace from parent node":function(a){var b=a.append("svg:svg").append("g");assert.equal(b[0][0].namespaceURI,"http://www.w3.org/2000/svg")}}}),suite.addBatch({"selectAll(div)":{topic:function(){return d3.select("body").html("").selectAll("div").data(d3.range(2)).enter().append("div")},"appends an HTML element":function(a){var b=a.append("span");assert.equal(b[0].length,2),assert.equal(b[0][0].tagName,"SPAN"),assert.equal(b[0][1].tagName,"SPAN"),assert.isNull(b[0][0].namespaceURI),assert.isNull(b[0][1].namespaceURI),assert.isTrue(b[0][0].parentNode===a[0][0]),assert.isTrue(b[0][1].parentNode===a[0][1]),assert.isTrue(a[0][0].lastChild===b[0][0]),assert.isTrue(a[0][1].lastChild===b[0][1])},"appends an SVG element":function(a){var b=a.append("svg:svg");assert.equal(b[0].length,2),assert.equal(b[0][0].tagName,"SVG"),assert.equal(b[0][1].tagName,"SVG"),assert.equal(b[0][0].namespaceURI,"http://www.w3.org/2000/svg"),assert.equal(b[0][1].namespaceURI,"http://www.w3.org/2000/svg"),assert.isTrue(b[0][0].parentNode===a[0][0]),assert.isTrue(b[0][1].parentNode===a[0][1]),assert.isTrue(a[0][0].lastChild===b[0][0]),assert.isTrue(a[0][1].lastChild===b[0][1])},"ignores null nodes":function(a){a.html("");var b=d3.selectAll("div");b[0][1]=null;var c=b.append("span");assert.equal(c[0].length,2),assert.equal(c[0][0].tagName,"SPAN"),assert.isNull(c[0][1]),assert.isTrue(c[0][0].parentNode===a[0][0]),assert.isTrue(a[0][0].lastChild===c[0][0]),assert.isNull(a[0][1].lastChild)},"propagates data to new elements":function(a){var b=new Object,c=new Object,d=a.data([b,c]).append("span");assert.strictEqual(d[0][0].__data__,b),assert.strictEqual(d[0][1].__data__,c)},"returns a new selection":function(a){assert.isFalse(a.append("div")===a)}}}),suite.addBatch({"selectAll(div).data(â€¦).enter()":{topic:function(){return d3.select("body")},"appends to the parent node":function(a){var b=a.html("").selectAll("div").data(d3.range(2)).enter().append("div");assert.equal(b.length,1),assert.equal(b[0].length,2),assert.domEqual(b[0][0].parentNode,document.body),assert.domEqual(b[0][1].parentNode,document.body)},"propagates data to new elements":function(a){var b=new Object,c=new Object,d=a.html("").selectAll("div").data([b,c]).enter().append("div");assert.strictEqual(d[0][0].__data__,b),assert.strictEqual(d[0][1].__data__,c)},"ignores null nodes":function(a){a.html("").append("div");var b=a.selectAll("div").data(d3.range(3)).enter().append("div");assert.equal(b.length,1),assert.equal(b[0].length,3),assert.domNull(b[0][0]),assert.domEqual(b[0][1].parentNode,document.body),assert.domEqual(b[0][2].parentNode,document.body)}}}),suite.export(module)