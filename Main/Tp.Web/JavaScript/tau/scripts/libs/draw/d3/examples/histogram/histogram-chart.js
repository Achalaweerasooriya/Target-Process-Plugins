function histogramChart(){function h(h){h.each(function(h){h=d(h),e.domain(h.map(function(a){return a.x})).rangeRoundBands([0,b-a.left-a.right],.1),f.domain([0,d3.max(h,function(a){return a.y})]).range([c-a.top-a.bottom,0]);var i=d3.select(this).selectAll("svg").data([h]),j=i.enter().append("svg").append("g");j.append("g").attr("class","bars"),j.append("g").attr("class","x axis"),i.attr("width",b).attr("height",c);var k=i.select("g").attr("transform","translate("+a.left+","+a.top+")"),l=i.select(".bars").selectAll(".bar").data(h);l.enter().append("rect"),l.exit().remove(),l.attr("width",e.rangeBand()).attr("x",function(a){return e(a.x)}).attr("y",function(a){return f(a.y)}).attr("height",function(a){return f.range()[0]-f(a.y)}).order(),k.select(".x.axis").attr("transform","translate(0,"+f.range()[0]+")").call(g)})}var a={top:0,right:0,bottom:20,left:0},b=960,c=500,d=d3.layout.histogram(),e=d3.scale.ordinal(),f=d3.scale.linear(),g=d3.svg.axis().scale(e).orient("bottom").tickSize(6,0);return h.margin=function(_){return arguments.length?(a=_,h):a},h.width=function(_){return arguments.length?(b=_,h):b},h.height=function(_){return arguments.length?(c=_,h):c},d3.rebind(h,d,"value","range","bins"),d3.rebind(h,g,"tickFormat"),h}