function d3_layout_hierarchyRebind(a,b){return d3.rebind(a,b,"sort","children","value"),a.links=d3_layout_hierarchyLinks,a.nodes=function(b){return d3_layout_hierarchyInline=!0,(a.nodes=a)(b)},a}function d3_layout_hierarchyChildren(a){return a.children}function d3_layout_hierarchyValue(a){return a.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}d3.layout.hierarchy=function(){function e(f,h,i){var j=b.call(g,f,h),k=d3_layout_hierarchyInline?f:{data:f};k.depth=h,i.push(k);if(j&&(m=j.length)){var l=-1,m,n=k.children=[],o=0,p=h+1;while(++l<m)d=e(j[l],p,i),d.parent=k,n.push(d),o+=d.value;a&&n.sort(a),c&&(k.value=o)}else c&&(k.value=+c.call(g,f,h)||0);return k}function f(a,b){var d=a.children,e=0;if(d&&(i=d.length)){var h=-1,i,j=b+1;while(++h<i)e+=f(d[h],j)}else c&&(e=+c.call(g,d3_layout_hierarchyInline?a:a.data,b)||0);return c&&(a.value=e),e}function g(a){var b=[];return e(a,0,b),b}var a=d3_layout_hierarchySort,b=d3_layout_hierarchyChildren,c=d3_layout_hierarchyValue;return g.sort=function(b){return arguments.length?(a=b,g):a},g.children=function(a){return arguments.length?(b=a,g):b},g.value=function(a){return arguments.length?(c=a,g):c},g.revalue=function(a){return f(a,0),a},g};var d3_layout_hierarchyInline=!1