function d3_transform(a){var b=[a.a,a.b],c=[a.c,a.d],d=d3_transformNormalize(b),e=d3_transformDot(b,c),f=d3_transformNormalize(d3_transformCombine(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*d3_transformDegrees,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*d3_transformDegrees:0}function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var b=Math.sqrt(d3_transformDot(a,a));return b&&(a[0]/=b,a[1]/=b),b}function d3_transformCombine(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}d3.transform=function(a){var b=document.createElementNS(d3.ns.prefix.svg,"g"),c={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(a){b.setAttribute("transform",a);var d=b.transform.baseVal.consolidate();return new d3_transform(d?d.matrix:c)})(a)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var d3_transformDegrees=180/Math.PI