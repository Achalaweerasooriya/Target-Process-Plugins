require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("d3.rgb");suite.addBatch({rgb:{topic:function(){return d3.rgb},"floors channel values":function(a){assert.rgbEqual(a(1.2,2.6,42.9),1,2,42)},"defaults to black for invalid inputs":function(a){assert.rgbEqual(a("invalid"),0,0,0),assert.rgbEqual(a("hasOwnProperty"),0,0,0),assert.rgbEqual(a("__proto__"),0,0,0)},"does not clamp channel values":function(a){assert.rgbEqual(a(-10,-20,-30),-10,-20,-30),assert.rgbEqual(a(300,400,500),300,400,500)},"converts string channel values to numbers":function(a){assert.rgbEqual(a("12","34","56"),12,34,56)},"converts null channel values to zero":function(a){assert.rgbEqual(a(null,null,null),0,0,0)},"exposes r, g and b properties":function(a){var b=a("#abc");assert.equal(b.r,170),assert.equal(b.g,187),assert.equal(b.b,204)},"changing r, g or b affects the string format":function(a){var b=a("#abc");b.r++,b.g++,b.b++,assert.equal(b+"","#abbccd")},'parses hexadecimal shorthand format (e.g., "#abc")':function(a){assert.rgbEqual(a("#abc"),170,187,204)},'parses hexadecimal format (e.g., "#abcdef")':function(a){assert.rgbEqual(a("#abcdef"),171,205,239)},'parses RGB format (e.g., "rgb(12, 34, 56)")':function(a){assert.rgbEqual(a("rgb(12, 34, 56)"),12,34,56)},'parses color names (e.g., "moccasin")':function(a){assert.rgbEqual(a("moccasin"),255,228,181),assert.rgbEqual(a("aliceblue"),240,248,255),assert.rgbEqual(a("yellow"),255,255,0)},'parses and converts HSL format (e.g., "hsl(60, 100%, 20%)")':function(a){assert.rgbEqual(a("hsl(60, 100%, 20%)"),102,102,0)},"can convert from RGB":function(a){assert.rgbEqual(a(d3.rgb(12,34,56)),12,34,56)},"can convert from HSL":function(a){assert.rgbEqual(a(d3.hsl(0,1,.5)),255,0,0)},"can convert to HSL":function(a){assert.hslEqual(a("red").hsl(),0,1,.5)},"can derive a brighter color":function(a){assert.rgbEqual(a("brown").brighter(),235,60,60),assert.rgbEqual(a("brown").brighter(.5),197,50,50),assert.rgbEqual(a("brown").brighter(1),235,60,60),assert.rgbEqual(a("brown").brighter(2),255,85,85)},"can derive a darker color":function(a){assert.rgbEqual(a("coral").darker(),178,88,56),assert.rgbEqual(a("coral").darker(.5),213,106,66),assert.rgbEqual(a("coral").darker(1),178,88,56),assert.rgbEqual(a("coral").darker(2),124,62,39)},"string coercion returns hexadecimal format":function(a){assert.strictEqual(a("#abcdef")+"","#abcdef"),assert.strictEqual(a("moccasin")+"","#ffe4b5"),assert.strictEqual(a("hsl(60, 100%, 20%)")+"","#666600"),assert.strictEqual(a("rgb(12, 34, 56)")+"","#0c2238"),assert.strictEqual(a(d3.rgb(12,34,56))+"","#0c2238"),assert.strictEqual(a(d3.hsl(60,1,.2))+"","#666600")}}}),suite.export(module)