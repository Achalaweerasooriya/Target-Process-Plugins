function d3_selection_classed(a,b){function f(){if(b=this.classList)return b.add(a);var b=this.className,d=b.baseVal!=null,e=d?b.baseVal:b;c.lastIndex=0,c.test(e)||(e=d3_collapse(e+" "+a),d?b.baseVal=e:this.className=e)}function g(){if(b=this.classList)return b.remove(a);var b=this.className,d=b.baseVal!=null,e=d?b.baseVal:b;e=d3_collapse(e.replace(c," ")),d?b.baseVal=e:this.className=e}function h(){(b.apply(this,arguments)?f:g).call(this)}var c=new RegExp("(^|\\s+)"+d3.requote(a)+"(\\s+|$)","g");if(arguments.length<2){var d=this.node();if(e=d.classList)return e.contains(a);var e=d.className;return c.lastIndex=0,c.test(e.baseVal!=null?e.baseVal:e)}return this.each(typeof b=="function"?h:b?f:g)}d3_selectionPrototype.classed=function(a,b){var c=a.split(d3_selection_classedWhitespace),d=c.length,e=-1;if(arguments.length>1){while(++e<d)d3_selection_classed.call(this,c[e],b);return this}while(++e<d)if(!d3_selection_classed.call(this,c[e]))return!1;return!0};var d3_selection_classedWhitespace=/\s+/g