require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("d3.geo.azimuthal");suite.addBatch({"azimuthal.stereographic":{topic:function(){return d3.geo.azimuthal().mode("stereographic").translate([0,0]).scale(100)},origin:function(a){var b=a([0,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},Arctic:function(a){var b=a([0,85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],-91.633117,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)},Antarctic:function(a){var b=a([0,-85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],91.633117,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],-85,1e-6)},Hawaii:function(a){var b=a([-180,0]);assert.equal(b[0],-Infinity),assert.isTrue(isNaN(b[1]))},Phillipines:function(a){var b=a([180,0]);assert.equal(b[0],Infinity),assert.isTrue(isNaN(b[1]))},"Inversion works for non-zero translation":function(){var a=d3.geo.azimuthal().mode("stereographic").translate([123,99]).scale(100),b=a([0,85]),c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)}},"azimuthal.orthographic":{topic:function(){return d3.geo.azimuthal().mode("orthographic").translate([0,0]).scale(100)},origin:function(a){var b=a([0,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},Arctic:function(a){var b=a([0,85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],-99.619469,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)},Antarctic:function(a){var b=a([0,-85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],99.619469,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],-85,1e-6)},Hawaii:function(a){var b=a([-180,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},Phillipines:function(a){var b=a([180,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},"Inversion works for non-zero translation":function(){var a=d3.geo.azimuthal().mode("orthographic").translate([123,99]).scale(100),b=a([0,85]),c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)}},"azimuthal.gnomonic":{topic:function(){return d3.geo.azimuthal().mode("gnomonic").translate([0,0]).scale(100)},origin:function(a){var b=a([0,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},Arctic:function(a){var b=a([0,85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],-1143.00523,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)},Antarctic:function(a){var b=a([0,-85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],1143.00523,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],-85,1e-6)},Hawaii:function(a){var b=a([-180,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},Phillipines:function(a){var b=a([180,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},"Inversion works for non-zero translation":function(){var a=d3.geo.azimuthal().mode("stereographic").translate([123,99]).scale(100),b=a([0,85]),c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)}},"azimuthal.equidistant":{topic:function(){return d3.geo.azimuthal().mode("equidistant").translate([0,0]).scale(100)},origin:function(a){var b=a([0,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},Arctic:function(a){var b=a([0,85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],-148.352986,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)},Antarctic:function(a){var b=a([0,-90]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],157.079632,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],-90,1e-6)},Hawaii:function(a){var b=a([-180,0]);assert.inDelta(b[0],-314.159265,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],-180,1e-6),assert.inDelta(c[1],0,1e-6)},Phillipines:function(a){var b=a([180,0]);assert.inDelta(b[0],314.159265,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],180,1e-6),assert.inDelta(c[1],0,1e-6)},"Inversion works for non-zero translation":function(){var a=d3.geo.azimuthal().mode("stereographic").translate([123,99]).scale(100),b=a([0,85]),c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)}},"azimuthal.equalarea":{topic:function(){return d3.geo.azimuthal().mode("equalarea").translate([0,0]).scale(100)},origin:function(a){var b=a([0,0]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],0,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],0,1e-6)},Arctic:function(a){var b=a([0,85]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],-135.118041,1e-6);var c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)},Antarctic:function(a){var b=a([0,-90]);assert.inDelta(b[0],0,1e-6),assert.inDelta(b[1],141.421356,1e-6);var c=a.invert(b);assert.inDelta(c[0],180,1e-6),assert.inDelta(c[1],-90,1e-6)},Hawaii:function(a){var b=a([-180,0]);assert.equal(b[0],-Infinity),assert.isTrue(isNaN(b[1]))},Phillipines:function(a){var b=a([180,0]);assert.equal(b[0],Infinity),assert.isTrue(isNaN(b[1]))},"Inversion works for non-zero translation":function(){var a=d3.geo.azimuthal().mode("stereographic").translate([123,99]).scale(100),b=a([0,85]),c=a.invert(b);assert.inDelta(c[0],0,1e-6),assert.inDelta(c[1],85,1e-6)}}}),suite.export(module)