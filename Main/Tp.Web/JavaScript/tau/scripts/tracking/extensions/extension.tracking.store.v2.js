define(["Underscore","./extension.tracking.base","tracking/stores/store.factory"],function(t,s,i){return s.extend({init:function(s){this._super(s),this.sid=s.sid,this.stores=[],t.each(s.store,function(t,s){try{var r=i.createTrackingStore(s,t);this.stores.push(r)}catch(a){}},this)},postData:function(s){if(t.isObject(s))for(var i=this,r=0;r<i.stores.length;r++){var a=i.stores[r];try{a.api.post(s,i.bus)}catch(c){}}},"bus data.track":function(t,s){this.postData(s)},"bus track.action":function(t,s){taus.track(s)},"bus track.action.id.sid":function(t,s){s["@"]=["action.id.sid"],taus.track(s)},"bus track.error":function(t,s){taus.error(s)},"bus track.statistics":function(t,s){taus.track("statistics",s)}})});