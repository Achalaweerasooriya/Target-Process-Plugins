require(["tp/date.utils"],function(du){(function(){module("date utils tests",{setup:function(){},teardown:function(){}}),test("should add days",function(){var date=new Date,tomorrow=du.addDays(date,1);equals(tomorrow.getDate(),(new Date(date.getTime()+864e5)).getDate(),"today + 1 = tomorrow")}),test("should get diff in days",function(){var date=new Date("2012-04-03"),nextWeek=new Date("2012-04-10"),diff=du.getDiffInDays(nextWeek,date);equals(diff,7,"can get dates difference in days")}),test("should determine if two dates are the same day",function(){var date=new Date(1333454851949),anotherDate=new Date(1333454869294);ok(du.sameDay(date,anotherDate),"two dates are the same day")}),test("should get date from JSON string",function(){var date=du.parseFromJSON("/Date(1333314000000+0300)/");equals(date-new Date("Mon Apr 02 2012 00:00:00 GMT+0300 (Kaliningrad Standard Time)"),0,"can get date from JSON string")})})()})