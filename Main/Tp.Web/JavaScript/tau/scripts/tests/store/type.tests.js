define(["Underscore","tau/core/types.targetprocess"],function(a,b){var c=function(){module("[targetprocess types]",{setup:function(){},teardown:function(){}}),test("process info refs",function(){var c=b.findByKeyword("processInfo");ok(c,"types is loaded"),ok(a.isEmpty(c.refs))}),test("context modifications",function(){var a=b.findByKeyword("context");ok(!a.refs.hasOwnProperty("culture"))}),test("custom fields in us",function(){var a=b.findByKeyword("story");ok(!a.hasOwnProperty("customFields"))}),test("required fields in general",function(){var a=b.findByKeyword("general");ok(a.discriminator.entityType,"entity type is required in general"),ok(a.isParentType)}),test("required fields in assignable",function(){var a=b.findByKeyword("assignable");ok(a.isParentType),ok(a.discriminator.entityType,"entity type is required in assignable")}),test("type detection",function(){var a=b.findByKeyword("assignable");ok(a.detectType({entityType:{id:1,name:"UserStory"}})==="UserStory")})};return{run:c}})