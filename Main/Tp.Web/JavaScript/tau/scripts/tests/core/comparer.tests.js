define(["Underscore","tau/core/comparer"],function(_,a){var b=function(){module("[comparer] tests"),test("plain new property",function(){var b={f:1},c={d:1},d=a.compare(b,c),e={value:1};same(e,d.changes.d,"new properties is registered in results")}),test("plain property value changed",function(){var b={d:1},c={d:2},d=a.compare(b,c),e={value:2};same(e,d.changes.d,"properties is registered in results")}),test("object property not changed",function(){var b={c:{d:2,v:8}},c={c:{d:2}},d=a.compare(b,c);same({},d.changes,"no changed properties")}),test("object property changed",function(){var b={c:{d:1,v:8}},c={c:{d:2}},d=a.compare(b,c),e={value:c.c};same(e,d.changes.c,"no changed properties registered in results")}),test("array equal",function(){var b={c:{d:[1],b:44}},c={c:{d:[1]}},d=a.compare(b,c);same({},d.changes,"no changed properties")}),test("array equal very complex",function(){var b={c:{d:[{r:1}],b:44}},c={c:{d:[{r:1}]}},d=a.compare(b,c);same({},d.changes,"no changed properties")}),test("array not equal very complex",function(){var b={c:{d:[{r:2}],b:44}},c={c:{d:[{r:1}]}},d=a.compare(b,c);same(1,_(d.changes).keys().length,"has changed properties")})};return{run:b}})