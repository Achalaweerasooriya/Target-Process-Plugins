define(["tau/core/termProcessor"],function(termProcessor){var innerRun=function(){module("[termProcessor] tests",{setup:function(){this.terms=[{name:"priority",value:"Business Value"},{name:"feature",value:"MMF"}],this.termProcessor=new termProcessor(this.terms)},teardown:function(){delete this.terms,delete this.termProcessor}}),test("Should resolve known term",function(){var actual=this.termProcessor.resolve(this.terms[0].name);equals(actual,this.terms[0].value,"Resolved Term is valid")}),test("Should resolve unknown term to itself",function(){var unknownTerm="lorem ipsum",actual=this.termProcessor.resolve(unknownTerm);equals(actual,unknownTerm,"Resolved Term is valid")}),test("Should resolve unknown term to default value if provided",function(){var unknownTerm="lorem ipsum",defaultValue="Lorem-Ipsum",actual=this.termProcessor.resolve(unknownTerm,defaultValue);equals(actual,defaultValue,"Resolved Term is valid")}),test("Should resolve null to null",function(){var unknownTerm=null,actual=this.termProcessor.resolve(unknownTerm);equals(actual,unknownTerm,"Resolved Term is valid")}),test("Should resolve null to default value if provided",function(){var unknownTerm=null,defaultValue="Unknown term",actual=this.termProcessor.resolve(unknownTerm,defaultValue);equals(actual,defaultValue,"Resolved Term is valid")}),module("[termProcessor]",{setup:function(){this.types=[{name:"project",terms:{name:"Project",names:"Projects",iconBig:"Project",iconSmall:"P"}},{name:"program",terms:{name:"Program",names:"Programs",iconBig:"Program",iconSmall:"P"}},{name:"release",terms:{name:"Release",names:"Releases",iconBig:"Release",iconSmall:"R"}},{name:"iteration",terms:{name:"Iteration",names:"Iterations",iconBig:"Iteration",iconSmall:"I"}},{name:"feature",terms:{name:"Feature",names:"Features",iconBig:"Feature",iconSmall:"F"}},{name:"userStory",terms:{name:"User Story",names:"User Stories",iconBig:"User Story",iconSmall:"S"}},{name:"task",terms:{name:"Task",names:"Tasks",iconBig:"Task",iconSmall:"T"}},{name:"bug",terms:{name:"Bug",names:"Bugs",iconBig:"Bug",iconSmall:"B"}},{name:"testCase",terms:{name:"Test Case",names:"Test Cases",iconBig:"Test Case",iconSmall:"C"}},{name:"testPlan",terms:{name:"Test Plan",names:"Test Plans",iconBig:"Test Plan",iconSmall:"P"}},{name:"testPlanRun",terms:{name:"Test Plan Run",names:"Test Plan Runs",iconBig:"Test Plan Run",iconSmall:"R"}},{name:"request",terms:{name:"Request",names:"Requests",iconBig:"Request",iconSmall:"R"}},{name:"build",terms:{name:"Build",names:"Builds",iconBig:"Build",iconSmall:"B"}},{name:"impediment",terms:{name:"Impediment",names:"Impediments",iconBig:"Impediment",iconSmall:"I"}}]},teardown:function(){delete this.types}}),test("should get default terms by entity type",function(){this.termProc=new termProcessor([]);for(var i=0,len=this.types.length;i<len;i++){var entityType=this.types[i].name,terms=this.termProc.getTerms(entityType);same(terms,this.types[i].terms,"Terms for type ["+entityType+"]")}}),test("should get overridden terms by entity type",function(){var contextTerms=[{name:"Release",value:"Overridden Release"},{name:"Releases",value:"Overridden Releases"},{name:"Release Big Icon Text",value:"Overridden Icon Release"},{name:"Release Small Icon Text",value:"Overridden R"}];this.termProc=new termProcessor(contextTerms);var terms=this.termProc.getTerms("release");equals(terms.name,contextTerms[0].value,"Type"),equals(terms.names,contextTerms[1].value,"Types"),equals(terms.iconBig,contextTerms[2].value,"Big icon"),equals(terms.iconSmall,contextTerms[3].value,"Small icon")})};return{run:innerRun}})