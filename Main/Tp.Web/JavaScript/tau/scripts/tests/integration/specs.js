define(["Underscore","tests/integration/lili"],function(a,b){var c=function(){var a=[];for(var b=0;b<100;b++)a.push({description:"Comment "+b});return a};return b.scenario("Add Project").project().save({$set:{name:b.unique("My Super Rest Project")}}).complete(),b.scenario("Title").project().save({$set:{name:b.unique("My Super Rest Project")}}).createContext().useComponent("title").bringToLiveComponent().sendMessage({name:"changeName",success:"afterSave",failure:"saveFailed",data:b.unique("AAA!!!")}).complete(),b.scenario("Description").project().save({$set:{name:b.unique("My Super Rest Project")}}).createContext().useComponent("description").bringToLiveComponent().sendMessage({name:"changeText",success:"afterSave",failure:"saveFailed",data:"Mine Super Description"}).complete(),b.scenario("Release Property").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").release().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Release")}},"first release").release().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Release")}},"second release").story().save({$set:{project:{id:"$lili/project/:root>.id"},release:{id:"$lili/first release/:root>.id"},name:b.unique("Story")}},"story").createContext().useComponent("property.release").bringToLiveComponent().useComponent("$lili/:root>.editorComponentConfig").bringToLiveComponent({successEvent:"listOptionsReady"}).click({path:".drop-down-option:last"}).sendMessage({name:"updateState",success:"afterSave",failure:"saveFailed",data:{id:null}}).complete(),b.scenario("Iteration Property").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").release().save({$set:{project:{id:"$lili/project/:root>.id"},startDate:"15 Oct 2010",name:b.unique("Release")}},"release").iteration().save({$set:{release:{id:"$lili/release/:root>.id"},startDate:"15 Oct 2010",project:{id:"$lili/project/:root>.id"},name:b.unique("Iteration")}},"iteration").story().save({$set:{project:{id:"$lili/project/:root>.id"},iteration:{id:"$lili/iteration/:root>.id"},name:b.unique("Story")}},"story").createContext().useComponent("property.iteration").bringToLiveComponent().useComponent("$lili/:root>.editorComponentConfig").bringToLiveComponent({successEvent:"listOptionsReady"}).click({path:".drop-down-option:last"}).sendMessage({name:"updateState",success:"afterSave",failure:"saveFailed",data:{id:null}}).complete(),b.scenario("Priority Property").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").story().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Story")}},"story").createContext().useComponent("property.priority").bringToLiveComponent().useComponent("state-list").bringToLiveComponent({type:"state-list",listType:"priority",successEvent:"listOptionsReady"}).click({path:".drop-down-option:first"}).complete(),b.scenario("State Property").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").story().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Story")}},"story").createContext().useComponent("property.entityState").bringToLiveComponent().useComponent("entityStateList").bringToLiveComponent({successEvent:"listOptionsReady"}).click({path:".drop-down-option:last"}).complete(),b.scenario("Severity Property").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").bug().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Bug")}},"bug").createContext().useComponent("property.severity").bringToLiveComponent().useComponent("$lili/:root>.editorComponentConfig").bringToLiveComponent({successEvent:"listOptionsReady"}).click({path:".drop-down-option:last"}).complete(),b.scenario("Build Property").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").build().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Build")}},"build").bug().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Bug")}},"bug").createContext().useComponent("property.build").bringToLiveComponent().useComponent("$lili/:root>.editorComponentConfig").bringToLiveComponent({successEvent:"dataRendered"}).sendMessage({name:"entitySelected",success:"afterSave",failure:"saveFailed",data:{entity:{id:"$lili/build/:root>.id"}}}).sendMessage({name:"entitySelected",success:"afterSave",failure:"saveFailed",data:{entity:{id:null}}}).complete(),b.scenario("Feature Property").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").feature().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Feature")}},"feature").story().save({$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Story")}},"story").createContext().useComponent("property.feature").bringToLiveComponent().useComponent("$lili/:root>.editorComponentConfig").bringToLiveComponent({successEvent:"dataRendered"}).sendMessage({name:"entitySelected",success:"afterSave",failure:"saveFailed",data:{entity:{id:"$lili/feature/:root>.id"}}}).sendMessage({name:"entitySelected",success:"afterSave",failure:"saveFailed",data:{entity:{id:null}}}).complete(),b.scenario("next page formed correctly").project().save({$set:{name:b.unique("My Super Rest Project")}},"project").story().save({fields:["id","name",{comments:["id","description"]}],$set:{project:{id:"$lili/project/:root>.id"},name:b.unique("Story"),comments:c()}},"story").story().refresh({id:"$lili/story/:root>.id",fields:["id","name",{comments:["id",{owner:["id"]},"description"]}]},"refreshStory").complete(),b})