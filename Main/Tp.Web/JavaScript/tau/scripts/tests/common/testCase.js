define(["Underscore","tau/configurator","tau/core/class","tests/common/service.mock","tau/models/dataprocessor/model.processor.context"],function(a,b,c,d,e){return c.extend({init:function(a){this.name=a},initModule:function(c,f,g,h){module(this.name,{setup:function(){this.initialData=c.data||[],this.serviceMock=new d,b.clear(),b.setApplicationPath(c.applicationPath||"/TP"),b.setCurrentDate(c.currentDate||new Date(1307600546192)),b.setService(this.serviceMock),b.setInitialData(this.initialData),g&&g.call(this);var h=c.componentConfig,i=a.clone(h);i.context=e(i.context),this.component=f.create(i),this.component.on("afterRender",function(a){this.element=a.data.element},this),this.component.initialize(c.componentConfig)},teardown:function(){b.clear(),h&&h(),this.component.destroy(),this.serviceMock.verify(),delete this.initialData}})},test:function(a,b){test(a,b)}})})