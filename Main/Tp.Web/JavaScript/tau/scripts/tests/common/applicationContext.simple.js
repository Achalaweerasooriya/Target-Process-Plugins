define(["Underscore","tau/core/class","tau/utils/utils.fixturesLoader","tau/models/dataprocessor/model.processor.context"],function(a,b,c,d){var e=b.extend({init:function(b){this.entity={id:7357,type:"bug"},this.defaultFixtures={context:{test:{acid:"56B47A374989E87FC3C87D817A69C46E",loggedUser:"u1",processes:["all"],selectedProjects:["p1"],culture:"en-US",edition:"Pro"}},users:{u1:{firstName:"Administrator",lastName:"Administrator",email:"admin@example.com",isActive:!0,isAdministrator:!0}},projects:{p1:{name:"Test Project",process:"all"}},process:{all:{id:777,name:"All Practices",practices:["planning","timeTracking","bugTracking","requirements","testCases","sourceControl","helpDesc","iterations"]}},processInfo:{all:{id:777,name:"All Practices",practices:["planning","timeTracking","bugTracking","requirements","testCases","sourceControl","helpDesc","iterations"]}},practices:{planning:{name:"Planning",effortPoints:"Hour",isStoryEffortEqualsSumTasksEffort:!1},timeTracking:{name:"Time Tracking",isCloseAssignableIfZeroTimeRemaining:!1,isTimeDescriptionFieldVisible:!0,isTimeDescriptionRequired:!0,isRequiredShowRoleDropDown:!1},bugTracking:{name:"Bug Tracking"},requirements:{name:"Requirements"},testCases:{name:"Test Cases"},sourceControl:{name:"Source Control"},helpDesc:{name:"Help Desk"},iterations:{name:"Iterations"}},cultures:{"en-US":{name:"en-US",timePattern:"g:i A",shortDateFormat:"M/d/yyyy",longDateFormat:"dddd, MMMM dd, yyyy",decimalSeparator:"."}}};var d=new c({generateId:!0,setType:!0,copyAdditionalFields:!0}),e=d.load(this.defaultFixtures);this.defaultData=e;var f=this;a.forEach(e.context.test,function(a,b){})},selectDefaultProject:function(){this.selectedProjects=[this.defaultData.project.p1],this.processes=[this.defaultData.project.p1.process]},selectProject:function(b,c){b.process?b.process.practices.length==0&&(b.process.practices=this.defaultData.process.all.practices):b.process=this.defaultData.process.all,c&&a.forEach(b.process.practices,function(d,e){a.inArray(d.name.toLowerCase(),c)&&b.process.practices.splice(e,1)}),this.selectedProjects=[b],this.processes=[b.process]},excludePractices:function(b){if(b){var c=this;a.forEach(this.processes[0].practices,function(d,e){a.inArray(d.name,b)&&c.processes[0].practices.splice(e,1)})}},loginAs:function(a){this.loggedUser=a},setEntity:function(a){this.entity={id:a.id,type:a.type?a.type:a.__type?a.__type:"assignable"}},setEdition:function(a){this.defaultData.context.test.edition=a},process:function(){a.defaults(this.entity,{id:7357,type:"bug"});var b=this.defaultData.context.test;b.processes=[b.selectedProjects[0].process];var c={entity:this.entity,applicationContext:b};return d(c)}});return e})