define(["jQuery","tau/configurator","tests/performance/list.datapoint"],function($,a,b){function c(){$('<span>Iterations: </span><input type="text" id="iterations" value="10" />').appendTo("#toolbarContainer"),$('<span>Items count: </span><input type="text" id="itemsCount" value="100" />').appendTo("#toolbarContainer"),$("<button>Clean and run cycle</button>").click(f(!0)).appendTo("#toolbarContainer"),$("<button>Run without clean</button>").click(f(!1)).appendTo("#toolbarContainer"),$('<table id="result" border="1" cellpadding="1" cellspacing="1" width="30%"><thead><th>#</th><th>Size</th><th>Prepare</th><th>Register</th></thead></table>').appendTo("#resultsContainer")}function d(b){var c=a.getStore().config.proxy;c.registerData(b,!0)}function e(a){var c=[];c.push(+(new Date));var e=b.prepareTestData(a),f=JSON.stringify(e);return c.push(+(new Date)),d(e),c.push(+(new Date)),{size:f.length,points:c}}function f(b){return function(){var c=$("#iterations").val(),d=$("#itemsCount").val();for(var f=0;f<c;f++){b&&a.clear();var g=e(d),h=g.points;$("<tr></tr>").append("<td>"+f+"</td>").append("<td>"+g.size+"</td>").append("<td>"+(h[1]-h[0])+"</td>").append("<td>"+(h[2]-h[1])+"</td>").appendTo("#result")}}}return{run:c}})