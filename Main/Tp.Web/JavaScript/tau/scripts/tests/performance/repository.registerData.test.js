define(["jQuery","tau/configurator","tests/performance/list.datapoint"],function(a,b,c){function d(){a('<span>Iterations: </span><input type="text" id="iterations" value="10" />').appendTo("#toolbarContainer"),a('<span>Items count: </span><input type="text" id="itemsCount" value="100" />').appendTo("#toolbarContainer"),a("<button>Clean and run cycle</button>").click(g(!0)).appendTo("#toolbarContainer"),a("<button>Run without clean</button>").click(g(!1)).appendTo("#toolbarContainer"),a('<table id="result" border="1" cellpadding="1" cellspacing="1" width="30%"><thead><th>#</th><th>Size</th><th>Prepare</th><th>Register</th></thead></table>').appendTo("#resultsContainer")}function e(a){var c=b.getStore().config.proxy;c.registerData(a,!0)}function f(a){var b=[];b.push(+(new Date));var d=c.prepareTestData(a),f=JSON.stringify(d);return b.push(+(new Date)),e(d),b.push(+(new Date)),{size:f.length,points:b}}function g(c){return function(){var d=a("#iterations").val(),e=a("#itemsCount").val();for(var g=0;g<d;g++){c&&b.clear();var h=f(e),i=h.points;a("<tr></tr>").append("<td>"+g+"</td>").append("<td>"+h.size+"</td>").append("<td>"+(i[1]-i[0])+"</td>").append("<td>"+(i[2]-i[1])+"</td>").appendTo("#result")}}}return{run:d}})