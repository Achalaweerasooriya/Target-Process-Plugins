define(["Underscore","jQuery","tau/configurator","tau/core/profile.methods","tests/common/service.mock","tests/performance/profile.tree.visualizer","tau/components/component.list.editable","tests/performance/list.datapoint","tau/models/dataProviders/model.provider.items.tasks_bugs","tau/models/dataProviders/model.provider.groups.tasks_bugs","tau/ui/templates/list_/grid.entity/ui.template.list.grid.entity","tau/components/component.title","tau/components/component.property.severity","tau/components/component.property.priority","tau/components/component.property.entityState","tau/components/component.property.effort","tau/components/component.progressBar.small","tau/components/component.assignmentsList","tau/components/component.entity.actions","tau/components/component.property.release",,"tau/components/component.property.iteration",,"tau/components/component.property.build",,"tau/components/component.property.build.testPlanRun",,"tau/components/component.property.lastStatus",,"tau/components/component.property.lastRunDate.list",,"tau/components/component.steps",,"tau/components/component.success",,"tau/components/component.menu.testPlanRun"],function(a,b,c,d,e,f,g,h,i,j){function k(){b('<span>Amount: </span><input type="text" id="amount" value="100" />').appendTo("#toolbarContainer"),b("<button>Initialize</button>").click(n()).appendTo("#toolbarContainer");var a=b("<thead></thead>").append("<th>#</th>").append("<th>Prepare data</th>").append("<th>Register data</th>").append("<th>Create comp</th>").append("<th>Initialize</th>"),c=b('<table id="result" border="1" cellpadding="1" cellspacing="1" width="30%"></table>').append(a);c.appendTo("#resultsContainer");var d=b('<div id="visualResult"></div>');d.appendTo("#resultsContainer")}function l(a,b){a.setService(new e);var c=a.getStore().config.proxy;c.registerData(b),c.markRecordSetAsCompleteLoaded("severity"),c.markRecordSetAsCompleteLoaded("entityState"),c.markRecordSetAsCompleteLoaded("priority"),c.markRecordSetAsCompleteLoaded("process"),c.markRecordSetAsCompleteLoaded("project")}function m(a){var b={};b.start=+(new Date);var d={id:370,entityType:{name:"userStory"}},e={applicationContext:{selectedProjects:[{id:1}],processes:[{id:1,name:"Kanban",terms:[{name:"Bug",value:"Issue"},{name:"Bugs",value:"Issues"}],practices:[{name:"Planning",effortPoints:"Hour",isStoryEffortEqualsSumTasksEffort:!1},{name:"Time Tracking",isCloseAssignableIfZeroTimeRemaining:!1,isTimeDescriptionFieldVisible:!0,isTimeDescriptionRequired:!0,isRequiredShowRoleDropDown:!1},{name:"Bug Tracking"},{name:"Requirements"},{name:"Test Cases"},{name:"Source Control"},{name:"Help Desk"},{name:"Iterations"}]}]},entity:d,assignable:d,general:d,getTimeTrackingPolicies:function(){return{disableSpentRemain:!0}},isPracticeAvailable:function(){return!0},getEffortPoint:function(){return"h"},getTerms:function(){return[]}},f={context:e,itemsDataProvider:i,groupsDataProvider:j,groupBy:"entityState.name",multiprojects:!0,views:[{type:"grid.entity",group:{dataIndex:"name"}}]},k=h.prepareTestData(a);b.prepareTestData=+(new Date),l(c,k),b.registerData=+(new Date);var m=g.create(f);return b.createComponent=+(new Date),m.initialize(),b.initialize=+(new Date),{points:b}}function n(){return function(){c.clear();var a=b("#amount").val(),e=m(a),g=d.accumulate.result();f.build(g).appendTo("#resultsContainer");var h=e.points;b("<tr></tr>").append("<td>1</td>").append("<td>"+(h.prepareTestData-h.start)+"</td>").append("<td>"+(h.registerData-h.prepareTestData)+"</td>").append("<td>"+(h.createComponent-h.registerData)+"</td>").append("<td>"+(h.initialize-h.createComponent)+"</td>").appendTo("#result")}}return{run:k}})