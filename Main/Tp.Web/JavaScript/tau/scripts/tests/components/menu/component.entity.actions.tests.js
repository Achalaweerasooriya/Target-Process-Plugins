define(["Underscore","jQuery","tau/configurations/factory.container.config","tau/components/component.entity.actions","tests/components/component.specs","tests/common/testData","tests/components/common/common.setup","tests/common/applicationContext"],function(_,$,a,b,c,d,e,f){var g=function(){function a(a){var d=e.create("[component.entity.actions]["+a+"]",{},b),g=[{name:"should render valid markup",test:function(){var a=this.$el,b=a.find(".tau-entity-actions-target");ok(b.hasClass("tau-bubble-target")),b.click();var c=$("body").find(".tau-bubble__inner > .ui-menu-actions > .drop-down-list > .ui-menu__item");ok(c.size()>0,"Menu items are shown on click")}}],h={context:{type:a,id:15}},i=new f(h);h.context.applicationContext=i,c.create(d,h).viewShouldFollowDataComponentLifeCycle().viewShouldPassTests(g).done()}function d(a){var d=a.entityTypeName,g=a.practiceName,h=a.menuItemTitle,i=a.practiceEnabled,j={context:{type:d,id:15}},k=new f(j);if(!i)k.processes[0].practices=_(k.processes[0].practices).select(function(a){return a.name!==g});else{var l=_(k.processes[0].practices).select(function(a){return a.name===g});if(!l.length)throw{message:"["+g+"] practice not found"}}j.context.applicationContext=k;var m=e.create("[component.entity.actions]["+d+"]["+g+":"+i+"]",{},b,null,k),n=[{name:"should render valid markup",test:function(){var a=this.$el,b=a.find(".tau-entity-actions-target");ok(b.hasClass("tau-bubble-target")),b.click();var c=$("body").find(".tau-bubble__inner > .ui-menu-actions > .drop-down-list > .ui-menu__item"),d=c.find(":contains('"+h+"')"),e=i?1:0;equals(d.size(),e,"Practice is applied")}}];c.create(m,j).viewShouldPassTests(n).done()}a("bug"),a("userStory"),a("feature"),a("release"),d({entityTypeName:"userStory",practiceName:"Bug Tracking",menuItemTitle:"Add Issue",practiceEnabled:!0}),d({entityTypeName:"userStory",practiceName:"Bug Tracking",menuItemTitle:"Add Issue",practiceEnabled:!1}),d({entityTypeName:"release",practiceName:"Iterations",menuItemTitle:"Add Iteration",practiceEnabled:!0}),d({entityTypeName:"release",practiceName:"Iterations",menuItemTitle:"Add Iteration",practiceEnabled:!1})};return{run:g}})