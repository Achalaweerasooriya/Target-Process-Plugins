define(["jQuery","tau/configurator","tests/common/testCase","tests/common/componentConfigCreator","tau/components/component.property.effort","tests/common/datapoint/test.common.datapoint"],function($,a,b,c,d,e){var f=function(){var a=e.userStories()[0],f=e.projects()[0],g=new c;g.setEntityIDAndType(a.id,a.__type),g.setSelectedProjects([f]),g.setProcesses(e.processes());var h=g.getConfig(),i=new b("[component.property.effort][popup-editor]");h.entitiesCount=2,i.initModule({componentConfig:h,data:a},d),i.test("should render valid markup",function(){var a=this.element;equals(a.find(".entity-effort").text(),"56h","Effort value"),ok(a.find(".entity-effort").hasClass("tau-bubble-target"),"Popup editor")});var j=new c;j.setEntityIDAndType(a.id,a.__type),j.setSelectedProjects([f]),j.setProcesses(e.processes());var k=j.getConfig(),l=new b("[component.property.effort][inline-editor]");k.entitiesCount=0,l.initModule({componentConfig:k,data:a},d),l.test("should render valid markup",function(){var a=this.element;equals(a.find(".entity-effort").text(),"56h","Effort value"),ok(a.find(".entity-effort").hasClass("editableText"),"Inline editor")});var m=$.extend(!0,{},a);m.effort=0,_(m.roleEfforts).each(function(a){a.role.hasEffort=!1});var n=new c;n.setEntityIDAndType(m.id,m.__type),n.setSelectedProjects([f]),n.setProcesses(e.processes());var o=n.getConfig(),p=new b("[component.property.effort][no-roles-has-effort]");o.entitiesCount=0,p.initModule({componentConfig:o,data:m},d),p.test("should render valid markup",function(){var a=this.element,b=a.find(".entity-effort");equals(b.text(),"0h","Effort value"),ok(!b.hasClass("editableText"),"Editor is disabled"),ok(!b.hasClass("tau-bubble-target"),"Editor is disabled"),ok(!b.hasClass("ui-link"),"Editor is disabled")})};return{run:f}})