define(["Underscore","tests/components/list/specific/component.list.spec.base","tau/models/dataProviders/request/request.model.provider.related_entities.items","tau/ui/templates/list_/grid.entity/ui.template.list.grid.entity"],function(_,a,b){var c=function(){var c=a.Testcase.create("[list.request.related_entities]",b,null,function(){this.componentConfig={itemsDataProvider:this.providers.items,sortable:!1,views:[{rowTemplateName:"list-grid-entity__row_related_entity",type:"grid.entity"}]};var a={request:"Request",us:"UserStory",bug:"Bug",feature:"Feature",task:"Task"},b={us_open:"Open",bug_open:"Open",task_open:"Open",feature_open:"Open"},c={kanban:"Kanban",scrum:"Scrum"},d={p_kanban:{name:"Project Kanban",process:"kanban"},p_scrum:{name:"Project Scrum",process:"scrum"}},e={r1:{name:"Do something",relatedEntities:["us2","us1","t2","b1","f1","f2"],project:"p_kanban",process:"kanban"}},f={us1:{name:"US1",entityType:"us",entityState:"us_open"},us2:{name:"US2",entityType:"us",entityState:"us_open"}},g={t1:{name:"Task1",entityType:"task",entityState:"task_open"},t2:{name:"Task2",entityType:"task",entityState:"task_open"}},h={b1:{name:"Bug1",entityType:"bug",entityState:"bug_open"},b2:{name:"Bug2",entityType:"bug",entityState:"bug_open"}},i={f1:{name:"Feature1",entityType:"feature",entityState:"feature_open"},f2:{name:"Feature2",entityType:"feature",entityState:"feature_open"}};this.loadFixtures({entityType:a,entityState:b,processes:c,projects:d,requests:e,features:i,userStories:f,tasks:g,bugs:h}),this.setProject(this.data.project.p_kanban),this.setEntity(this.data.request.r1)});c.add(new a.Test({name:"should render valid markup view",test:function(){var a=c.data,b=this.$el,d=[{items:["US2","US1","Task2","Bug1","Feature1","Feature2"]}],e=b.find("[role=group]");equals(e.length,d.length,"Groups amount");var f=b.find("[role=list]");for(var g=0;g<f.length;g++){var h=f.eq(g),i=h.find("[role=item]");equals(i.length,6,"Items correct");for(var j=0;j<i.length;j++){var k=i.eq(j).find(".tau-list__table__cell"),l=_.trim(k.eq(2).text()),m=d[g].items[j];equals(l,m,"Name Data column")}}}})),c.run()};return{run:c}})