define(["Underscore","tau/configurator","jQuery","tau/models/dataprocessor/model.processor.context","tau/components/component.list","tests/common/testData","tests/common/applicationContext","tests/components/common/common.setup","tests/components/component.specs","tests/common/checker","tau/models/dataProviders/model.provider.items.user_stories","tau/models/dataProviders/model.provider.groups.user_stories","tau/ui/templates/list_/grid.entity/ui.template.list.grid.entity"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=function(){function o(a,b,c){var d={id:b,nested:!0,fields:["id"]},e={};e[c]=["id","name","tags",Similar.to({priority:["id","name","importance"]}),"effort","effortCompleted","effortToDo","timeSpent","timeRemain",Similar.to({entityState:["id","name","isInitial","isFinal"]}),Similar.to({roleEfforts:["id",Like.is({role:["id","name"]})]}),Similar.to({assignments:["id",Like.is({role:["id"]}),Similar.to({generalUser:["id","firstName","lastName"]})]}),Similar.to({project:["id"]})],d.fields.push(Similar.to(e));var f=Similar.to({name:"get",type:a,config:Similar.to(d)});return f}var a=new g,c=f.registerTestDataForUserStoriesListModel(),j=f.getStatesForProcess(),l=[],m=c.data;m.userStories=[];var n={context:{type:"feature",id:15}},p={items:[],groups:[],isEmpty:!0,config:{views:[{type:"grid.entity",emptyMessage:"No features found",timeTrackingPolicies:{disableSpentRemain:!1}}],currentView:{type:"grid.entity",emptyMessage:"No features found",timeTrackingPolicies:{disableSpentRemain:!1}}}},q=o("feature",15,"userStories"),r=function(){b.getProxy().markRecordSetAsCompleteLoaded("priority")},s=[{name:"should render valid markup view",preSetup:r,test:function(){var a=this.data,b=this.$el,c=b.find("[role=group]");equals(c.length,0,"Groups amount"),equals(b.find(".tau-list__empty-message").length,1,"Empty message"),equals(b.find(".tau-list__empty-message").text(),"No features found","Empty message")}}],t={context:{applicationContext:a},itemsDataProvider:k,views:[{type:"grid.entity",emptyMessage:"No features found"}]};d(t.context);var u=h.create("[component.list][user_stories.empty]",[m,j],e,t);i.create(u,n).viewShouldFollowDataComponentLifeCycle(r).viewShouldPassTests(s).done()};return{run:m}})