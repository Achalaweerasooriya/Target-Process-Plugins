define(["Underscore","tests/components/list/specific/component.list.spec.base","tau/models/dataProviders/testplanrun/testplanrun.model.provider.testcaseruns.items","tau/ui/templates/list_/grid.entity/ui.template.list.grid.entity"],function(a,b,c){var d=function(){var d=b.Testcase.create("[list.testplanrun.testcaseruns]",c,null,function(){this.componentConfig={itemsDataProvider:this.providers.items,views:[{rowTemplateName:"list-grid-entity__rowtestcaserun",type:"grid.entity"}]};var a={tcr:"TestCaseRun"},b={kanban:"Kanban",scrum:"Scrum"},c={p1:"Good",p2:"Very Good"},d={p_kanban:{name:"Project Kanban",process:"kanban"},p_scrum:{name:"Project Scrum",process:"scrum"}},e={tpr1:{name:"Test Plan Run",testCaseRuns:["tcr1","tcr2","tcr3"],project:"p_kanban",process:"kanban"}},f={tcr1:{runDate:"12-Dec-2012",testCases:["tc1"],passed:!0},tcr2:{runDate:"13-Dec-2012",testCases:["tc2"],passed:!1},tcr3:{runDate:"11-Dec-2012",testCases:["tc3"],passed:null}},g={tc1:{name:"TC1",priority:"p1",numericPriority:10},tc3:{name:"TC3",priority:"p2",numericPriority:30},tc2:{name:"TC2",priority:"p2",numericPriority:20}};this.loadFixtures({entityType:a,projects:d,priorities:c,testPlanRuns:e,testCaseRuns:f,testCases:g,processes:b}),this.setProject(this.data.project.p_kanban),this.setEntity(this.data.testPlanRun.tpr1)});d.add(new b.Test({name:"should render valid markup view",test:function(){var b=d.data,c=a.values(b.testCaseRun),e=this.$el,f=[{items:["TC1","TC2","TC3"]}],g=e.find("[role=group]");equals(g.length,f.length,"Groups amount");var h=e.find("[role=list]");for(var i=0;i<h.length;i++){var j=h.eq(i),k=j.find("[role=item]");for(var l=0;l<k.length;l++){var m=k.eq(l).find(".tau-list__table__cell"),n=c[l],o=n.testCases[0];equals(a.trim(m.eq(1).text()),o.id,"ID Data column -- testcase");var p=m.eq(1).find(".tau-entitylink").attr("href");equals(p,"#testcase/"+o.id,"Link to testcase");var q=m.eq(1).find(".tau-entitylink").attr("title"),r=f[i].items[l];equals(q,r,"Name Data column"),q=m.eq(2).text(),equals(q,r,"Name Data column");var s=m.eq(3);equals(s.length,1,"Priority Cell");var t=s.text();equals(t,o.priority.name,"Priority Data column");var u=m.eq(4);equals(u.length,1,"Status Cell");var v=a.trim(u.text());n.passed===!0?equals(v,"Passed"):n.passed===!1?equals(v,"Failed"):n.passed===null&&equals(v,"Skipped")}}}})),d.run()};return{run:d}})