define(["Underscore","tests/components/list/specific/component.list.spec.base","tau/models/dataProviders/testplanrun/testplanrun.model.provider.testcaseruns.items","tau/ui/templates/list_/grid.entity/ui.template.list.grid.entity"],function(_,a,b){var c=function(){var c=a.Testcase.create("[list.testplanrun.testcaseruns]",b,null,function(){this.componentConfig={itemsDataProvider:this.providers.items,views:[{rowTemplateName:"list-grid-entity__rowtestcaserun",type:"grid.entity"}]};var a={tcr:"TestCaseRun"},b={kanban:"Kanban",scrum:"Scrum"},c={p1:"Good",p2:"Very Good"},d={p_kanban:{name:"Project Kanban",process:"kanban"},p_scrum:{name:"Project Scrum",process:"scrum"}},e={tpr1:{name:"Test Plan Run",testCaseRuns:["tcr1","tcr2","tcr3"],project:"p_kanban",process:"kanban"}},f={tcr1:{runDate:"12-Dec-2012",testCases:["tc1"],passed:!0,executed:!0},tcr2:{runDate:"13-Dec-2012",testCases:["tc2"],passed:!1,executed:!0},tcr3:{runDate:"11-Dec-2012",testCases:["tc3"],passed:null},tcr4:{runDate:null,testCases:["tc4"],passed:null,executed:!1}},g={tc1:{name:"TC1",priority:"p1",numericPriority:10},tc3:{name:"TC3",priority:"p2",numericPriority:30},tc2:{name:"TC2",priority:"p2",numericPriority:20},tc4:{name:"TC4",priority:"p2",numericPriority:40}};this.loadFixtures({entityType:a,projects:d,priorities:c,testPlanRuns:e,testCaseRuns:f,testCases:g,processes:b}),this.setProject(this.data.project.p_kanban),this.setEntity(this.data.testPlanRun.tpr1)});c.add(new a.Test({name:"should render valid markup view",test:function(){var a=c.data,b=_.values(a.testCaseRun),d=this.$el,e=[{items:["TC1","TC2","TC3","TC4"]}],f=d.find("[role=group]");equals(f.length,e.length,"Groups amount");var g=d.find("[role=list]");for(var h=0;h<g.length;h++){var i=g.eq(h),j=i.find("[role=item]");for(var k=0;k<j.length;k++){var l=j.eq(k).find(".tau-list__table__cell"),m=b[k],n=m.testCases[0];equals(_.trim(l.eq(1).text()),n.id,"ID Data column -- testcase");var o=l.eq(1).find(".tau-entitylink").attr("href");equals(o,"#testcase/"+n.id,"Link to testcase");var p=l.eq(1).find(".tau-entitylink").attr("title"),q=e[h].items[k];equals(p,q,"Name Data column"),p=l.eq(2).text(),equals(p,q,"Name Data column");var r=l.eq(3);equals(r.length,1,"Priority Cell");var s=r.text();equals(s,n.priority.name,"Priority Data column");var t=l.eq(4);equals(t.length,1,"Status Cell");var u=_.trim(t.text());m.runDate?m.passed===!0?equals(u,"Passed"):m.passed===!1?equals(u,"Failed"):m.passed===null&&equals(u,"Skipped"):equals(u,"")}}}})),c.run()};return{run:c}})