define(["jQuery","tests/common/testkit","tau/configurator","tau/components/component.property.program"],function($,a,b,c){var d=function(){var b=new a("[component.property.program]",c),d={p1:{name:"Preved",program:"pr1"}},e={pr1:"Do It",pr2:"Go Fuck yourself",pr3:"Innah"},f=b.loadFixtures({projects:d,programs:e});return b.setData(f),b.setEntity(f.project.p1),b.selectDefaultProject(),b.addTest({name:"should render valid markup",test:function(){var a=this.$el;equal(a.find(".tau-property__value").text(),"Do It"),equal(a.find("a").length,0,"No URL")}}),b.addTest({name:"should allow to edit",test:function(){var a=this.$el,c=a.find(".tau-property__value");c.click();var d=$(".tau-bubble");equal(d.size(),1,"Count of bubbles");var e=d.find(".drop-down-option");equals(e.length,2,"Options"),b.getService().registerSaveCommand({config:{$set:{program:{id:f.program.pr2.id}},fields:["id"],id:f.project.p1.id},returnedData:{id:f.project.p1.id,program:{id:f.program.pr2.id}}}),e.eq(0).click(),b.getService().verify()}}),b.run()};return{run:d}})