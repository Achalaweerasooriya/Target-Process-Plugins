define(["jQuery","tests/common/testkit","tau/configurator","tau/components/component.property.program"],function(a,b,c,d){var e=function(){var c=new b("[component.property.program]",d),e={p1:{name:"Preved",program:"pr1"}},f={pr1:"Do It",pr2:"Go Fuck yourself",pr3:"Innah"},g=c.loadFixtures({projects:e,programs:f});return c.setData(g),c.setEntity(g.project.p1),c.selectDefaultProject(),c.addTest({name:"should render valid markup",test:function(){var a=this.$el;equal(a.find(".tau-property__value").text(),"Do It"),equal(a.find("a").length,0,"No URL")}}),c.addTest({name:"should allow to edit",test:function(){var b=this.$el,d=b.find(".tau-property__value");d.click();var e=a(".tau-bubble");equal(e.size(),1,"Count of bubbles");var f=e.find(".drop-down-option");equals(f.length,2,"Options"),c.getService().registerSaveCommand({config:{$set:{program:{id:g.program.pr2.id}},fields:["id"],id:g.project.p1.id},returnedData:{id:g.project.p1.id,program:g.program.pr2.id}}),f.eq(0).click(),c.getService().verify()}}),c.run()};return{run:e}})