define(["tau/core/tau","tau/components/component.requestList","tests/common/testData","tests/components/common/common.setup","tests/components/component.specs"],function(a,b,c,d,e){var f=function(){function n(a,b){ok(a.find(".entity-type > .ui-type-icon-request").length,"Type is valid"),equal(a.find(".id").text(),b.id.toString(),"Id is valid");var c=a.find(".id > a");equal(c.attr("href"),b.url,"url is valid"),equal(a.find(".name").text(),b.name,"Name is valid"),equal(a.find(".state").text(),b.state.name,"Name is valid")}function k(a){return Similar.to({name:"get",type:"request",config:Similar.to({id:a,fields:["id","name",Similar.to({entityState:["id","name"]})]})})}var a=c.getTestDataForRequestList(),f=[Similar.to({name:"get",type:"userStory",config:Like.is({id:15,fields:["id",Like.is({requests:["id"],list:!0})]})})],g=a[0].requests,h=g.length,i=[];for(var j=0;j<h;j++)i.push(k(g[j].id));var l={context:{type:"story",id:15}},m={items:[{__type:"request",id:55,name:"The complex logic should be added",state:{name:"Closed"},url:"#request/55"},{__type:"request",id:71,name:"The iteractions quality is not good enough",state:{name:"Closed"},url:"#request/71"},{__type:"request",id:100,name:"The galaxy points are not displayed correctly",state:{name:"Closed"},url:"#request/100"},{__type:"request",id:107,name:"I can not see green stars",state:{name:"Closed"},url:"#request/107"},{__type:"request",id:182,name:"Non-linear Stars Evolution",state:{name:"Closed"},url:"#request/182"}]},o=[{name:"should render valid markup",test:function(){var a=this.$el,b=a.find("table.request-list tbody > tr"),c=this.data.items,d=c.length;equals(b.length,d,"Count of rows is valid");var e=Math.min(b.length,d);for(var f=0;f<e;f++)n(b.eq(f),c[f])}}],p=d.create("[component.requestList]",a,b);e.create(p,l).viewShouldFollowDataComponentLifeCycle().modelShouldReturnData(m,[f,i]).viewShouldPassTests(o).viewShouldContainEmptyMessage("No requests found").done()};return{run:f}})