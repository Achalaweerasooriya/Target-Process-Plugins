define(["Underscore","jQuery","tests/components/templates/jqote2.custom.template","tau/components/component.creator"],function(_,$,a,b){var c=function(){module("[jqote2 template engine]",{setup:function(){this.component=b.create({template:a},{})},teardown:function(){this.component.destroy(),delete this.component}}),test("render valid template",function(){var a=null,b=[{id:1,name:"Test 1",deep:!0},{id:2,name:"Test 2",deep:!1},{id:3,name:"Test 3",deep:!0}];this.component.on("afterRender",function(b){a=b.data.element}),this.component.initialize(),this.component.fire("dataBind",{id:22,title:"jqote2-test-title",items:b});var c=a.find(".title");equals(c.attr("id"),"22","ID is valid"),equals(c.text(),"jqote2-test-title","Title is valid");var d=a.find(".items > .sub"),e=d.size();equals(e,b.length,"Items count");for(var f=0;f<e;f++){var g=d.eq(f);equals(g.find(".sub-text").text(),b[f].id+":"+b[f].name,"Text is valid"),equals(g.find(".sub-deep").text(),"Deep:"+b[f].deep,"Deep is valid")}})};return{run:c}})