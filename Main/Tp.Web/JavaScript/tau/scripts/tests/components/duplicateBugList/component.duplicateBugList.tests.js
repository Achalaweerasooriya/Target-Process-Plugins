function checkBug(a,b){var c=a.find(".ui-type-icon.ui-type-icon-bug");equal(c.text(),b.id.toString(),"Id is valid");var d=c.parent("a");equal(d.attr("href"),"#bug/"+b.id,"url is valid"),equal(a.find(".name").text(),b.name,"Name is valid"),equal(a.find(".state").text(),b.entityState.name,"Name is valid")}define(["Underscore","jQuery","tau/components/component.duplicateBugList","tests/common/testData.Generator","tests/common/componentConfigCreator","tests/common/testCase"],function(a,b,c,d,e,f){var g=function(){var b=new d;b.initDefaultData();var g=b.getData(),h=b.getBugs(),i=h[0],j=b.getUsers()[0],k=b.getImpediments(),l=new e;l.setEntityIDAndType(i.id,i.__type),l.setSelectedProjects([g.selectByType("project")[0]]),l.setProcesses(g.selectByType("process")),l.setLoggedUser(j);var m=l.getConfig(),n=new f("[component.duplicateBugList]");n.initModule({componentConfig:m,data:g,loggedUser:j},c,function(){this.serviceMock.registerFindCommand({config:{fields:["id","name",{entityState:["id","name"]}],$query:{tags:{$contains:"duplicateOf#25"}}},returnedData:[h[0],h[1],h[2]]})}),n.test("should render valid markup",function(){var b=this.element,c=b.find("table.base-info-list tbody > tr");equal(c.size(),3,"Count of duplicate bug"),checkBug(c.eq(0),a.extend(a.clone(h[0]),{entityState:{name:"Planned"}})),checkBug(c.eq(1),a.extend(a.clone(h[1]),{entityState:{name:"Planned"}})),checkBug(c.eq(2),a.extend(a.clone(h[2]),{entityState:{name:"Done"}}))})};return{run:g}})