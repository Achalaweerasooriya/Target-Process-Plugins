define(["Underscore"],function(a){var b=[],c=function(){var a=this;this.component.on("afterRender",function(b){a.$el=b.data.element}),this.component.on("dataBind",function(b){a.data=b.data})};return{addViewTestToArray:function(a){return b.concat(a)},addModelTestsToArray:function(b,c,d,e){var f=[{name:"model should return valid data on initialize",preSetup:function(b){b.mockRepository(this);var c=e||[];for(var f=0;f<c.length;f++)this.repositoryMock.expects().on(c[f],TypeOf.isA(Function)).andStub(this.repository.on.tauCreateDelegate(this.repository));var g=d.length;for(var h=0;h<g;h++)if(d[h]._operation=="on"){var i=this.repositoryMock.expects(),j=d[h].command;a.isArray(j)?i=i.on.apply(i,j):i=i.on(j,TypeOf.isA(Function)),i.andStub(this.repository.on.tauCreateDelegate(this.repository))}else this.repositoryMock.expects().execute(d[h]).andStub(this.repository.execute.tauCreateDelegate(this.repository))},setup:function(){var a=this;a.data={},this.component.on("dataBind",function(b){a.data=b.data})},test:function(){var a=this.data;same(a,c,"Data returned from model is valid")}}];return f.concat(b)},addPermissionTestToArray:function(a,b){var c=[{name:"should fire permissionsReady",setup:function(){var a=this;a.permissions={},this.component.on("permissionsReady",function(b){a.permissions=b.data})},test:function(){var a=this.permissions;same(a,b,"Permissions is valid")}}];return c.concat(a)},addUITestToArray:function(a,b,d){function e(a,b,c){a[c]&&(b[c]=a[c])}if(!b)return;for(var f=0,g=b.length;f<g;f++){var h={name:b[f].name,setup:b[f].setup||d||c,test:b[f].test};e(b[f],h,"context"),e(b[f],h,"preSetup"),e(b[f],h,"init"),a.push(h)}}}})