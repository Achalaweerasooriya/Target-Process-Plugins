define(["tau/configurator","tests/common/service.mock","tau/components/component.quick.add","tests/components/common/common.setup","tests/components/component.specs","tests/common/applicationContext","tests/common/testData.Generator"],function(configurator,ServiceMock,component,commonSetup,componentSpecs,AppContext,TestDataGenerator){var innerRun=function(){var testDataGenerator=new TestDataGenerator;testDataGenerator.initDefaultData();var data=testDataGenerator.getData(),story=data.selectByType("userStory")[3],config={manualContext:!0,context:{entityType:{name:story.__type},id:story.id}},appContext=new AppContext(config.context);data.push(appContext),appContext.processes[0].customFields=[],config.entityType="task",config.label="Add Task";var setup=commonSetup.create("[component.quick.add]",data,component,config),fnPreSetup=function(){var service=this.service=new ServiceMock;configurator.setService(service)},viewTests=[{name:"element should be rendered to provided element",preSetup:fnPreSetup,test:function(){var $addLink=this.$el.find(".ui-quick-add-link");ok($addLink,"element is rendered"),equals($addLink.text(),"Add Task")}}];componentSpecs.create(setup,config).viewShouldFollowBasicComponentLifeCycle(fnPreSetup).viewShouldPassTests(viewTests).done()};return{run:innerRun}})