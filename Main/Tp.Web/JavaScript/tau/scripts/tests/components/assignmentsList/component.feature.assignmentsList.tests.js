define(["Underscore","jQuery","tau/configurator","tau/components/component.feature.assignmentList","tests/common/testCase","tests/common/componentConfigCreator","tests/common/testData.Generator"],function(_,$,configurator,FeatureAssignmentsListComponent,TestCase,ConfigCreator,testDataGenerator){var innerRun=function(){var generator=new testDataGenerator;generator.clear(),generator.initDefaultData();var featureList=generator.getFeatures(),data=generator.getData(),roles=generator.getRoles(),states=generator.getEntityStates(),entity=featureList[0],entityId=entity.id,configCreator=new ConfigCreator;configCreator.setEntityIDAndType(entityId,"Feature"),configCreator.setSelectedProjects([data.selectByType("project")[0]]);var process=data.selectByType("process");configCreator.setProcesses(process);var config=configCreator.getConfig(),testCase=new TestCase("[component.feature.assignmentsList]");config.editable=!0,testCase.initModule({componentConfig:config,data:data},FeatureAssignmentsListComponent),testCase.test("should render valid markup for feature",function(){var $el=this.element,$roles=$el.find(".role-title");equals($roles.size(),2,"Count of roles is valid"),equals($el.find("> tbody > tr.total-row").size(),0,"No total row"),equals($el.find("> tbody > tr").size(),1,"Single row"),equals($el.find("> tbody > tr > td.user-list").size(),1,"User list cell only")})};return{run:innerRun}})