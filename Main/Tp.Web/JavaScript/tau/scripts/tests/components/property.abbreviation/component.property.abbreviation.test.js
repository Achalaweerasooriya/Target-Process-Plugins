define(["jQuery","tau/configurator","tests/common/testCase","tests/common/componentConfigCreator","tau/components/component.property.abbreviation","tests/common/testData.Generator"],function($,a,b,c,d,e){var f=function(){var a=new e;a.initDefaultData();var f=a.getData(),g=a.getProjects(),h=g[1],i=new c;i.setEntityIDAndType(h.id,h.__type),i.setSelectedProjects([f.selectByType("project")[0]]),i.setProcesses(f.selectByType("process"));var j=i.getConfig(),k=new b("[component.property.abbreviation]");j.editable=!0,k.initModule({componentConfig:j,data:f},d),k.test("should render valid markup",function(){var a=this.element;equal(a.find(".property-text").text(),"XZ","Project abbr")}),k.test("should allow change",function(){var a=this.element,b=a.find(".property-text");b.click(),this.serviceMock.registerSaveCommand({config:{$set:{abbreviation:"FCK"},fields:["id","abbreviation"],id:h.id},returnedData:{id:h.id,abbreviation:"FCK"}}),b.focus(),b.text("FCK"),b.blur();var a=this.element;equal(a.find(".property-text").text(),"FCK","Changed");var b=a.find(".property-text");ok(b.hasClass("ui-validationerror")==0,"Validation"),b.click(),b.focus(),b.text("PIKACHU"),b.blur(),ok(b.hasClass("ui-validationerror"),"Validation")})};return{run:f}})