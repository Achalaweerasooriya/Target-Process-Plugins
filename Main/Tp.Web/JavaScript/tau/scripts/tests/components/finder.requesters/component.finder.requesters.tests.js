define(["jQuery","tests/common/testkit","tau/configurator","tau/components/component.finder.requesters"],function($,a,b,c){var d=function(){var b=new a("[component.finder.requesters]",c),d={r1:"Evil Request"},e={u1:{id:777,firstName:"Ron",lastName:"Jeremy",kind:"User",isActive:!0},u2:{firstName:"Sasha",lastName:"Grey",kind:"User",isActive:!0,deleteDate:"12-Dec-2012"},u3:{firstName:"Max",lastName:"Hardcore",kind:"Requester",isActive:!1},u4:{firstName:"Bree",lastName:"Olson",kind:"User",isActive:!0},u5:{firstName:"Jenna",lastName:"Jameson",kind:"Requester",isActive:!0}},f=b.loadFixtures({generalUsers:e,requests:d});return b.setData(f),b.setEntity(f.request.r1),b.selectDefaultProject(),b.addTest({name:"should render valid markup",preSetup:function(){b.getService().registerGetCommand({type:"company",config:{fields:["id","name"]},returnedData:[]}),b.getService().registerFindCommand({type:"generalUser",config:{fields:["id","firstName","lastName","email","login"],$skip:0,$limit:15,$query:{isActive:!0,deleteDate:null},$orderByDesc:"id"},returnedData:_.values(f.generalUser)})},test:function(){var a=this.$el,c=a.find("[role=option]");equal(c.length,3),b.getService().verify()}}),b.run()};return{run:d}})