define(["jQuery","tests/common/testkit","tau/configurator","tau/components/component.property.iteration"],function($,ComponentTestKit,configurator,Component){var run=function(){var TestCase=new ComponentTestKit("[component.property.iteration]",Component),projects={p1:{name:"Preved",iterations:["i1","i2"]},p2:{name:"Medved",iterations:["i3"]}},releases={r1:{name:"Do It"},r2:{name:"Go Fuck yourself"}},iterations={i1:{name:"Gogogo",release:"r1"},i2:{name:"Do something",release:"r1"},i3:{name:"Dumbass",release:"r2"}},userStories={us1:{name:"US1",project:"p1",release:"r1"},us2:{project:"p1",release:null},us3:{project:"p2",release:null,iteration:null}},data=TestCase.loadFixtures({projects:projects,releases:releases,iterations:iterations,userStories:userStories});return TestCase.setData(data),TestCase.setEntity(data.userStory.us3),TestCase.selectProject(data.project.p1),TestCase.addTest({name:"should show on edit depends on entity project",test:function(){var $el=this.$el,$trigger=$el.find(".tau-property__value");$trigger.click();var $list=$(".tau-bubble");equal($list.size(),1,"Count of bubbles");var $options=$list.find(".drop-down-option");equals($options.length,1,"Options"),equals($options.eq(0).text(),"Dumbass")}}),TestCase.run()};return{run:run}})