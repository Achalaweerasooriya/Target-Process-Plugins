define(["tests/components/customField/component.customField.specification.base","tau/components/component.customField.url.editor"],function(baseSpecification,customFieldComponent){var innerRun=function(){baseSpecification.run("url.editor",customFieldComponent,{name:"CF URL",type:"url",required:!1,listed:!0},{url:"http://targetprocess.com/",label:"CF link"},[{name:"Should render",test:function(){var dataItem=this.data,$el=this.$el,$inputs=$el.find(":text");equals($inputs.length,2,"Edit link in form"),equals($inputs.eq(0).val(),dataItem.value.url,"Edit url"),equals($inputs.eq(1).val(),dataItem.value.label,"Edit label");var $buttons=$el.find(":button");equals($buttons.length,2,"Has buttons on form")}},{name:"Should validate",preSetup:baseSpecification.shouldSave("CF URL",Similar.to({url:null,label:null})),test:function(){function checkUrl(value,isValid){var $inp=$inputs.eq(0);$inp.val(value),$buttons.eq(0).simulate("click"),isValid=!!isValid,equals($inp.hasClass("ui-validationerror"),!isValid,value+" is "+(isValid?"correct url":"invalid url"))}var dataItem=this.data,$el=this.$el,$inputs=$el.find(":text"),$buttons=$el.find(":button:first");checkUrl("",!0),checkUrl("http://googlecomfaq",!1),checkUrl("zzz.com",!1),checkUrl("zzz",!1)}},{name:"Should validate 2",preSetup:baseSpecification.shouldSave("CF URL",Similar.to({url:"http://google.com",label:"CF link"})),test:function(){function checkUrl(value,isValid){var $inp=$inputs.eq(0);$inp.val(value),$buttons.eq(0).click(),isValid=!!isValid,equals($inp.hasClass("ui-validationerror"),!isValid,value+" is "+(isValid?"correct url":"invalid url"))}var dataItem=this.data,$el=this.$el,$inputs=$el.find(":text"),$buttons=$el.find(":button:first");checkUrl("http://google.com",!0)}},{name:"Should validate 3",preSetup:baseSpecification.shouldSave("CF URL",Similar.to({url:"http://google.com/faq",label:"CF link"})),test:function(){function checkUrl(value,isValid){var $inp=$inputs.eq(0);$inp.val(value),$buttons.eq(0).click(),isValid=!!isValid,equals($inp.hasClass("ui-validationerror"),!isValid,value+" is "+(isValid?"correct url":"invalid url"))}var dataItem=this.data,$el=this.$el,$inputs=$el.find(":text"),$buttons=$el.find(":button:first");checkUrl("http://google.com/faq",!0)}},{name:"Should validate 4",preSetup:baseSpecification.shouldSave("CF URL",Similar.to({url:"ftp://google.com/faq",label:"CF link"})),test:function(){function checkUrl(value,isValid){var $inp=$inputs.eq(0);$inp.val(value),$buttons.eq(0).click(),isValid=!!isValid,equals($inp.hasClass("ui-validationerror"),!isValid,value+" is "+(isValid?"correct url":"invalid url"))}var dataItem=this.data,$el=this.$el,$inputs=$el.find(":text"),$buttons=$el.find(":button:first");checkUrl("ftp://google.com/faq",!0)}},{name:"Should edit and save",preSetup:baseSpecification.shouldSave("CF URL",Similar.to({url:"http://pr0n.com",label:"Best Pr)n evar"})),test:function(){var dataItem=this.data,$el=this.$el,$inputs=$el.find(":text");$inputs.eq(0).val("http://pr0n.com"),$inputs.eq(1).val("Best Pr)n evar"),$el.find(":button:first").click()}},{name:"Should correct save empty",preSetup:baseSpecification.shouldSave("CF URL",Similar.to({label:null,url:null})),test:function(){var dataItem=this.data,$el=this.$el,$inputs=$el.find(":text");$inputs.eq(0).val(""),$el.find(":button:first").click()}}])};return{run:innerRun}})