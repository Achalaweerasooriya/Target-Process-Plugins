define(["jQuery","tests/common/testkit","tau/components/component.customField.checkbox"],function($,a,b){var c=function(){var c=new a("[component.customField.checkbox]",b),d={us1:{name:"US1",customFields:[{name:"Yop",type:"Checkbox",value:!1}]}},e=c.loadFixtures({userStories:d});return c.setData(e),c.setEntity(e.userStory.us1),c.selectDefaultProject(),c.appContext.processes[0].customFields=[{name:"Yop",type:"Checkbox",required:!1,listed:!1,value:null}],c.addTest({name:"should render valid markup",test:function(){var a=this.$el;equals(a.find(".ui-customfield__label").text().trim(),"Yop","Name is valid");var b=a.find(".ui-customfield__value");ok(b.length===1,"Has icon element");var c="ui-customfield__value_unchecked";ok(b.hasClass(c),"Expected css class is valid")}}),c.addTest({name:"should allow to edit",test:function(){var a=this.$el,b=e.userStory.us1;c.getService().registerSaveCommand({config:{$set:{customFields:[{name:"Yop",type:"Checkbox",value:!0}]},fields:["id","customFields"],id:b.id},returnedData:{id:b.id,customFields:[{name:"Yop",type:"Checkbox",value:!0}]}}),ok(a.hasClass("ui-customfield_editable_true"),"Editable highlighting is applied");var d=a.find(".ui-customfield__value"),f="ui-customfield__value_checked";d.click(),ok(d.hasClass(f),"Expected css is changed")}}),c.run({customField:{type:"Checkbox",name:"Yop"}})};return{run:c}})