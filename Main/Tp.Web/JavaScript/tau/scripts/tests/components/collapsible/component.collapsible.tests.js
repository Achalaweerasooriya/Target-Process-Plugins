define(["tau/components/component.collapsible","tests/components/common/common.setup","tests/components/component.specs","tests/components/component1","tests/components/component2"],function(a,b,c){var d=function(){var d=function(a){return{context:{type:"bug",id:1},settings:{collapsed:a,header:[],items:[{path:"tests/components/component1",x:3,y:5},{path:"tests/components/component2",x:3,y:5}]}}},e=[{name:"should has child controls",test:function(){var a=this.$el,b=this.config.collapsed;equals(a.find(".ui-collapsible-header").length,1,"Collapsible header component is rendered");var c=b?0:1;equals(a.find(".component1").length,c,'Amount of "Component 1" child is valid'),equals(a.find(".component2").length,c,'Amount of "Component 2" child is valid')}}],f=e.concat([{name:"should collapse on click",test:function(){var a=this.$el,b=a.find(".ui-collapsible-header"),c=a.find(".component1").parent();ok(c.css("display")!=="none","Inner container is visible before click"),b.click(),ok(c.css("display")==="none","Inner container is hidden after click")}}]),g=b.create("[component.collapsible][expanded]",{},a);c.create(g,d(!1)).viewShouldFollowBasicComponentLifeCycle().viewShouldPassTests(f).done();var h=e.concat([{name:"should expand on click",test:function(){var a=this.$el,b=a.find(".ui-collapsible-header"),c=b.next();ok(c.css("display")==="none","Inner container is hidden before click"),b.click(),ok(c.css("display")!=="none","Inner container is visible after click"),equals(a.find(".component1").length,1,'Amount of "Component 1" child is valid'),equals(a.find(".component2").length,1,'Amount of "Component 2" child is valid')}}]),g=b.create("[component.collapsible][collapsed]",{},a);c.create(g,d(!0)).viewShouldFollowBasicComponentLifeCycle().viewShouldPassTests(h).done()};return{run:d}})