define(["Underscore","jQuery","tau/core/event","tau/core/external.fake","tests.async/testkit/testkit.component","tau/components/component.board.collapser.aside","tests/common/remoteConstants"],function(_,$,Event,FakeExternalService,TestKit,Component,Constants){var testKit=new TestKit(Component);testKit.registerSetup("fixtures",function(test,next){var fixtures={};test.set("fixtures",fixtures),next()}),testKit.registerSetup("component.initialize",function(test,next){var configuratorInstance=test.get("configurator");configuratorInstance.setExternalService(new FakeExternalService),configuratorInstance.getSettingsManager().sources.splice(0,1);var componentBus=test.get("componentBus"),componentConfig={context:{configurator:configuratorInstance}};componentBus.initialize(componentConfig),next()});var testcase={name:"component.board.collapser.aside"};return testcase["should render list"]=testKit.test(function(test){var bus=test.get("bus"),testFlow={bus:bus,"bus afterRender[0]":function(evt){var $el=evt.data.element,$button=$el.find("[role=collapser]");test.equals($button.length,1,"Render btn"),$button.click(),test.equals($button.hasClass("tau-collapsed"),!0,"Switch btn"),$button.click(),test.equals($button.hasClass("tau-collapsed"),!1,"Switch btn"),test.done()}};Event.subscribeOn(testFlow)}),testcase})