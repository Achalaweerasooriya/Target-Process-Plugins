define(["Underscore","jQuery","tau/core/event.queued","tau/ui/extensions/board.plus/ui.board.plus.utils","tests.async/testkit/testkit.component.board","tau/components/component.board.plus"],function(_,$,Event,BoardPlusUtils,TestKit,ComponentBoardPlus){var definition={cells:{types:["UserStory"]}},testKit=new TestKit(ComponentBoardPlus,definition),testcase={name:"component.board.plus.cellsonly"};return testcase["should render skeleton without axes"]=testKit.test(function(test){var bus=test.get("bus");test.expect(395);var testFlow={bus:bus,"bus view.skeleton.built[0]":function(evt){var $skeleton=evt.data.element,$gridView=$skeleton.find(".tau-board-grid-view");test.ok($gridView.hasClass("tau-no-rows"),"Has class no-rows"),test.ok($gridView.hasClass("tau-no-cols"),"Has class no-cols"),test.equals($skeleton.find("[role=header]").size(),0,"Board without headers"),test.equals($skeleton.find("[role=header]").size(),0,"Board without headers");var $rowsHeader=$skeleton.find(".tau-rows-header");test.equals($rowsHeader.size(),0,"No rows header");var $colsHeader=$skeleton.find(".tau-cols-header");test.equals($colsHeader.size(),0,"No cols header");var $grid=$skeleton.find("[role=grid]");test.ok($grid.hasClass("tau-grid"),"grid css class");var $cell=$grid.find("[role=cell]");test.equals($cell.size(),1,"Single cell board");var expectedCellData={x:null,y:null};test.same($cell.data(),expectedCellData,"Cell data")},"bus view.build.skeleton[0]+view.skeleton.built[0]+view.cell.skeleton.built[0]":function(evt){var evtBoardSkeleton=evt["view.skeleton.built[0]"].data,evtCellSkeleton=evt["view.cell.skeleton.built[0]"].data,$skeletonCellNode=evtCellSkeleton.element,$skeletonCell=evtBoardSkeleton.element.find("[role=cell]");test.equals($skeletonCellNode[0],$skeletonCell[0],"Built cell inserted into the board skeleton");var registeredData=test.get("data"),expectedCardsCount=_(registeredData.userStory).keys().length,$cards=$skeletonCell.find("[role=card]");test.equals($cards.size(),expectedCardsCount,expectedCardsCount+" cards on the board");var cellStories=_(registeredData.userStory).values();for(var i=0;i<cellStories.length;i++){var us=cellStories[i],type=us.entityType.name,cardId=BoardPlusUtils.getCardIds({id:us.id})[0],$card=$skeletonCell.find("#"+cardId),$cardId=$card.find(".tau-id");test.equal($cardId.text(),us.id,"Card id "+us.id),test.equal($cardId.attr("href").indexOf("#"+type.toLowerCase()+"/"+us.id)>=0,!0,"Card id reference "+us.id),test.equal($cardId.attr("href").indexOf("TpView.aspx?acid=")>=0,!0,"Card id reference "+us.id),test.equal($card.find(".tau-name").text(),us.name,"Card name "+us.name);var cardData=$card.data();cardData.entityType=cardData.entityType.toLowerCase(),test.equal(cardData.entityId,us.id,"Card data"),test.equal(cardData.entityType,type.toLowerCase(),"Card data")}test.done()}};Event.subscribeOn(testFlow)}),testcase})