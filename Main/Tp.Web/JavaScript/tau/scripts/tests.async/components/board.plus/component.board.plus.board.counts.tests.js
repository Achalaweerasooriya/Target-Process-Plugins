define(["Underscore","jQuery","tau/core/event","tau/ui/extensions/board.plus/ui.board.plus.utils","tests.async/testkit/testkit.component.board","tau/components/component.board.plus"],function(_,$,Event,BoardPlusUtils,TestKit,ComponentBoardPlus){var testDataCfg={boardSize:2,cardsPerCell:23},testKit=new TestKit(ComponentBoardPlus,{viewMode:"board",zoomLevel:1,x:{filter:"?It is not None",types:["release"]},y:{types:["feature"],filter:"?It is not None"}},testDataCfg),testcase={name:"component.board.plus.board.counts"};return testcase["axes counts are triggered on events"]=testKit.test(function(test){var bus=test.get("bus"),testFlow={bus:bus,"bus overview.board.ready[0] + view.axes.counters.updated[0]":function(e,overview){var $element=overview.element,$counts=$(".tau-cards-count",$element);test.equals(4,$counts.length,"bubble elements count is correct"),_.each($counts,function(cnt){var $count=$(cnt),$title=$count.parent().children(".tau-label"),expectedCount=46,axisName=$title.text();test.equals($count.text(),expectedCount,"value for header "+axisName+" is correct")}),test.get("componentBus").fire("view.card.batch.move.completed",$())},"bus overview.board.ready[0] + view.axes.counters.updated[1]":function(e,overview){var $element=overview.element;test.ok(!0,"Counters update is triggered on [view.card.batch.move.completed]"),test.get("componentBus").fire("view.cell.skeleton.updated",{element:$element.find(".i-role-grid .i-role-cell").eq(0)})},"bus overview.board.ready[0] + view.axes.counters.updated[2]":function(e,overview){var $element=overview.element;test.ok(!0,"Counters update is triggered on [view.cell.skeleton.updated]"),test.done()}};Event.subscribeOn(testFlow)}),testcase})