define(["jQuery","tests.async/testkit/testkit.component","tau/components/component.tabs"],function($,TestKit,Component){var testKit=new TestKit(Component);testKit.registerSetup("fixtures",function(test,next){test.set("fixtures",{}),next()}),testKit.registerSetup("componentBus",function(test,next){var componentConfig={stateName:"superTabs",context:{configurator:test.get("configurator")}};test.set("componentBus",test.get("componentClass").create(componentConfig)),next()}),testKit.registerSetup("component.initialize",function(test,next){var componentBus=test.get("componentBus"),configurator=test.get("configuratorInstance"),componentSettings=configurator.getBoardSettingsFactory().createComponentSettings({id:"noentity",cache:!1});componentSettings.sources.splice(1),componentSettings.setDef({set:{superTabs:"t2"}}).done(function(){configurator.getRestStorage()._cache={},componentSettings.fieldsRetrieved=[],componentBus.initialize({name:"superTabs",stateName:"superTabs",context:{configurator:configurator,componentSettings:componentSettings},tabs:[{label:"t1",selected:!0,header:[{type:"label",text:"TAB1"}],items:[{type:"label",text:"TAB1 text"},{type:"label",text:"TAB1 text too"}]},{label:"t2",header:[{type:"label",text:"TAB2"}],items:[{type:"label",text:"TAB2 text"},{type:"label",text:"TAB2 text too"}]},{label:"t3",header:[{type:"label",text:"TAB3"}],items:[{type:"label",text:"TAB3 text"},{type:"label",text:"TAB3 text too"}]}]}),next()})});var testcase={name:"component.tabs.classic.state"};return testcase["should render valid default markup"]=testKit.test(function(test){testKit.flow(test,{"bus afterRender[0]":function(evt,renderData){var $el=renderData.element;test.equals($el.length,1,"Render el"),test.equals($el.hasClass("tau-container"),!0,"Valid markup");var $tabheaders=$el.find("li");test.equals($tabheaders.length,3,"Three Headers"),test.equals($tabheaders.eq(1).is("li.tab-item.selected"),!0,"second header is selected"),test.done()}})}),testcase})