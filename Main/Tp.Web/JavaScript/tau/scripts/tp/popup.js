define(["jQuery"],function($){$.widget("ui.popup",$.ui.dialog,{options:{modal:!0,position:"center",draggable:!1,resizable:!1,fitToWindow:!0,horizontalPadding:20,verticalPadding:20},_create:function(){$.ui.dialog.prototype._create.apply(this);var a=$.proxy(this._resize,this),b=$.proxy(this.close,this);this.element.bind("popupopen",function(){$(window).bind("resize",a),$(".ui-widget-overlay").click(b)}),this.element.unbind("popupclose",function(){$(window).unbind("resize",a),$("ui-widget-overlay").unbind("click",b)});var c=this;this.element.bind("popupresize",function(){c.uiDialog.width()<c.options.minWidth&&c.uiDialog.width(c.options.minWidth),c.element.width()!=c.uiDialog.width()&&c.element.width(c.uiDialog.width())})},close:function(){$.ui.dialog.prototype.close.apply(this)},_init:function(){$.ui.dialog.prototype._init.apply(this),this.element.parent().addClass("tau-dialog-container"),this._resize()},destroy:function(){$.ui.dialog.prototype.destroy.apply(this)},open:function(){$.ui.dialog.prototype.open.apply(this,arguments),this._resize()},_setOption:function(a,b){$.ui.dialog.prototype._setOption.apply(this,arguments)},_resize:function(){if(this.options.fitToWindow){var a=$(window).width(),b=Math.max(this.options.minWidth,a-2*this.options.horizontalPadding);this.uiDialog.width(b),this.element.width(b);var c=$(window).height(),d=Math.max(this.options.minHeight,c-2*this.options.verticalPadding);this.uiDialog.height(d),this.element.height(d-this.uiDialog.find(".ui-dialog-titlebar").outerHeight(!1))}this._setOption("position",this._getOffset()),this._trigger("resize")},_getOffset:function(){var a=$("body"),b=a.width(),c=a.height(),d=(b-this.element.width())/2,e=Math.max((c-this.element.height())/2,50);return{top:e,left:d}}})})