define(["jQuery"],function($){function Gateway(){}return Gateway.prototype={postJSON:function(url,data,success,fail,error){$.ajax({url:url,data:data?JSON.stringify(data):data,success:success,error:$.proxy(function(response){if(!response||!response.getResponseHeader)return;var contentType=response.getResponseHeader("content-type");if(!contentType)return;contentType.indexOf("application/json")!=-1?response.status==400&&fail?fail(response):response.status==500&&error&&error(response):error&&error(response)},this),type:"POST",dataType:"json",contentType:"application/json"})},getJSON:function(url,success){$.ajax({url:url,dataType:"json",contentType:"application/json",success:success})}},new Gateway})