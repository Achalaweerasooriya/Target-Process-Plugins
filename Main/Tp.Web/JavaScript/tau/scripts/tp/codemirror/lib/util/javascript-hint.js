(function(){function forEach(arr,f){for(var i=0,e=arr.length;i<e;++i)f(arr[i])}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;while(i--)if(arr[i]===item)return!0;return!1}return arr.indexOf(item)!=-1}function getCompletions(token,context){function maybeAdd(str){str.indexOf(start)==0&&!arrayContains(found,str)&&found.push(str)}function gatherCompletions(obj){typeof obj=="string"?forEach(stringProps,maybeAdd):obj instanceof Array?forEach(arrayProps,maybeAdd):obj instanceof Function&&forEach(funcProps,maybeAdd);for(var name in obj)maybeAdd(name)}var found=[],start=token.string;if(context){var obj=context.pop(),base;obj.className=="variable"?base=window[obj.string]:obj.className=="string"?base="":obj.className=="atom"&&(base=1);while(base!=null&&context.length)base=base[context.pop().string];base!=null&&gatherCompletions(base)}else{for(var v=token.state.localVars;v;v=v.next)maybeAdd(v.name);gatherCompletions(window),forEach(keywords,maybeAdd)}return found}CodeMirror.javascriptHint=function(editor){var cur=editor.getCursor(),token=editor.getTokenAt(cur),tprop=token;/^[\w$_]*$/.test(token.string)||(token=tprop={start:cur.ch,end:cur.ch,string:"",state:token.state,className:token.string=="."?"property":null});while(tprop.className=="property"){tprop=editor.getTokenAt({line:cur.line,ch:tprop.start});if(tprop.string!=".")return;tprop=editor.getTokenAt({line:cur.line,ch:tprop.start});if(!context)var context=[];context.push(tprop)}return{list:getCompletions(token,context),from:{line:cur.line,ch:token.start},to:{line:cur.line,ch:token.end}}};var stringProps="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),arrayProps="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),funcProps="prototype apply call bind".split(" "),keywords="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" ")})()