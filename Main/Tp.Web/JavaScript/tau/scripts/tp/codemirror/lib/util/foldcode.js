CodeMirror.braceRangeFinder=function(a,b){var c=a.getLine(b),d=c.lastIndexOf("{");if(d<0||c.lastIndexOf("}")>d)return;var e=a.getTokenAt({line:b,ch:d}).className,f=1,g=a.lineCount(),h;a:for(var i=b+1;i<g;++i){var j=a.getLine(i),k=0;for(;;){var l=j.indexOf("{",k),m=j.indexOf("}",k);l<0&&(l=j.length),m<0&&(m=j.length),k=Math.min(l,m);if(k==j.length)break;if(a.getTokenAt({line:i,ch:k+1}).className==e)if(k==l)++f;else if(!--f){h=i;break a}++k}}if(h==null||h==b+1)return;return h},CodeMirror.newFoldFunction=function(a,b){function d(a,b){for(var d=0;d<c.length;++d){var e=a.lineInfo(c[d].start);if(!e)c.splice(d--,1);else if(e.line==b)return{pos:d,start:e.line,end:e.line+c[d].size}}}var c=[];return b==null&&(b='<span style="color:#600">&#x25bc;</span>%N%'),function(e,f){e.operation(function(){var g=d(e,f);if(g){c.splice(g.pos,1),e.clearMarker(g.start);var h=[];for(var i=g.start;i<g.end;++i){h.length||e.showLine(i),i==h[0]&&h.shift();var j=d(e,i);j&&h.unshift(j.end-1)}}else{var k=a(e,f);if(k==null)return;for(var i=f+1;i<k;++i)e.hideLine(i);var l=e.setMarker(f,b);c.push({start:l,size:k-f})}})}}