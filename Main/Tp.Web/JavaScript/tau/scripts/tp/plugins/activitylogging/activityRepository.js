define(["jQuery","tp/plugins/profileNameSource","app.path"],function(t,e,i){function r(){this._create()}return r.prototype={_getGetActivityLogUrlBase:"/api/v1/Plugins.asmx/{PluginName}/Profiles/{ProfileName}/Commands/GetActivityLog",_getClearActivityLogUrlBase:"/api/v1/Plugins.asmx/{PluginName}/Profiles/{ProfileName}/Commands/ClearActivityLog",_pluginName:null,_create:function(){this._pluginName=e.getPluginName()},_getGetActivityLogUrl:function(t){return this._getUrl(this._getGetActivityLogUrlBase,t)},_getClearActivityLogUrl:function(t){return this._getUrl(this._getClearActivityLogUrlBase,t)},_getUrl:function(t,e){var r=t.replace(/{PluginName}/g,this._pluginName).replace(/{ProfileName}/g,e);return new i.tp.WebServiceURL(r).url},_post:function(e,i,r,a,l){t.ajax({url:e,data:JSON.stringify(r),success:a,error:l,type:"POST",dataType:"json"})},getActivityLog:function(t,e,i,r){this._post(this._getGetActivityLogUrl(t),t,e,i,r)},clearActivityLog:function(t,e,i,r){this._post(this._getClearActivityLogUrl(t),t,e,i,r)}},r});