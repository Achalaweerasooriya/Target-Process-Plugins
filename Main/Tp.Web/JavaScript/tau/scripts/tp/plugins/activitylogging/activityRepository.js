define(["libs/jquery/jquery","tp/plugins/profileNameSource"],function(a,b){function c(){this._create()}return c.prototype={_getGetActivityLogUrlBase:"/api/v1/Plugins.asmx/{PluginName}/Profiles/{ProfileName}/Commands/GetActivityLog",_getClearActivityLogUrlBase:"/api/v1/Plugins.asmx/{PluginName}/Profiles/{ProfileName}/Commands/ClearActivityLog",_pluginName:null,_create:function(){this._pluginName=b.getPluginName()},_getGetActivityLogUrl:function(a){return this._getUrl(this._getGetActivityLogUrlBase,a)},_getClearActivityLogUrl:function(a){return this._getUrl(this._getClearActivityLogUrlBase,a)},_getUrl:function(a,b){var c=a.replace(/{PluginName}/g,this._pluginName).replace(/{ProfileName}/g,b);return(new Tp.WebServiceURL(c)).url},_post:function(b,c,d,e,f){a.ajax({url:b,data:JSON.stringify(d),success:e,error:f,type:"POST",dataType:"json"})},getActivityLog:function(a,b,c,d){this._post(this._getGetActivityLogUrl(a),a,b,c,d)},clearActivityLog:function(a,b,c,d){this._post(this._getClearActivityLogUrl(a),a,b,c,d)}},c})