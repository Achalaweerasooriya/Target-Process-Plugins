define(["jQuery","tp/jquery.utils"],function(){function e(){}return $.widget("ui.error",{messageTemplate:'<span class="error">${message}</span>',_create:function(){this.element.focus($.proxy(this.clear,this)),this.element.addClass("ui-error"),this.element.addClass("error"),this.errorSpan=$.tmpl(this.messageTemplate,this.options),this.element.prev("p").append(this.errorSpan)},clear:function(){this.errorSpan.remove(),this.element.removeClass("error"),this.element.removeClass("ui-error"),this.destroy()}}),$.widget("ui.synchronizeUser",{_create:function(){this._synchronizeId(),this._synchronizeName(),this.element.blur($.proxy(this._synchronizeId,this))},userId:function(e){return e&&this.element.attr("userId",e),this.element.attr("userId")},userName:function(e){return e&&this.element.val(e),this.element.val()},_synchronizeName:function(){var e=this.userId();if(null!=e&&-1!=e){var t=$.grep(this.options.source,function(t){return t.Id==e});t.length>0?this.userName(t[0].Name):this._userDeleted()}},_userDeleted:function(){this.element.enabled(!1),this.element.parents(".users-block").find(".svnuser").enabled(!1)},_synchronizeId:function(){var e=this,t=$.grep(this.options.source,function(t){return t.Name==e.userName()});t.length>0&&this.userId(t[0].Id)}}),$.widget("ui.tpUserInput",{_create:function(){this.element.trigger("mappingadded"),this.element.change(function(){$(this).attr("userId",-1)}),this.element.bind("validate",function(){""!=$(this).val()&&(null==$(this).attr("userId")||-1==$(this).attr("userId"))&&$(this).error({message:""})})},validate:function(){this.element.trigger("validate")}}),$.widget("ui.success",{_create:function(){this.successElement=$('<p class="message-ok"><span>Connection was established successfully</span></p>'),this.element.before(this.successElement)},clear:function(){this.successElement.remove(),this.destroy()}}),$.widget("ui.editorAnimation",{animation:{appendTo:function(e,t){e.hide(),e.appendTo(t),e.show("blind",{direction:"vertical"},500)},remove:function(e){e.hide("blind",{direction:"vertical"},500),e.remove()
}},noAnimation:{appendTo:function(e,t){e.appendTo(t)},remove:function(e){e.remove()}},_create:function(){},_getStrategy:function(){return e.prototype.turnedOn?this.animation:this.noAnimation},appendTo:function(e){this._getStrategy().appendTo(this.element,e)},remove:function(){this._getStrategy().remove(this.element)}}),e.prototype={turnedOn:!1},e});