define(["jQuery","app.path"],function(t,s){function i(){this._ctor()}return i.prototype={_ctor:function(){this.statusBox=t('<div class="plugins info-block"><div></div></div>'),this.currentTimeout=null,this.defaultTimeout=3e3},hide:function(s,i){this.statusBox.find("div").removeClass("_opened");var e=this;i?this.statusBox.slideUp(s||"slow").queue(function(){clearTimeout(e.currentTimeout),e.currentTimeout=null,i(),t(this).dequeue()}):this.statusBox.slideUp(s||"slow")},custom:function(s,i,e,u){0==t("body .plugins.info-block").length&&this.statusBox.appendTo(t("body"));var o=this,n=function(){var n=function(){return Math.floor(50*(1-t(o.statusBox).width()/t(document).width()))};o.statusBox.find("div").attr("class",s).html(i),o.statusBox.css("left",n()+"%"),o.currentTimeout=setTimeout(t.proxy(o.hide,o),e?e:o.defaultTimeout),o.statusBox.slideDown(u||"slow",function(){o.statusBox.find("div").addClass("_opened")}).queue(function(){t(this).dequeue()})};this.currentTimeout?this.hide(u,n):n()},success:function(t,s){this.custom("success",t,s)},profileSavedSuccessfully:function(t){this.success("Profile saved successfully",t)},error:function(t,s){this.custom("error",t,s||1e4)},saving:function(t){var i=new s.tp.URL(s.get()+"/Javascript/tau/css/images/loader-yellow.gif");this.custom("saving",'<img src="'+i.url+'" /><span>Saving...</span>',t||3e4,"fast")}},new i});