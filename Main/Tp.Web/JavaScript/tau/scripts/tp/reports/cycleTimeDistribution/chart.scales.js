define(["Underscore","libs/d3/d3","tp/reports/chart.scales"],function(_,d3,scales){function Scales(){}return Scales.prototype={get:function(data,settings,size){var xAxis=d3.scale.linear().range([size.margin,size.width-size.margin]).domain([0,d3.max(data,function(d){return d.values.length})]);xAxis.label=settings.mapping.x.label;var max=d3.max(data,function(d){return d3.max(d.values,function(d1){return d1.y})});max=d3.min([max*1.2,1]);var yAxis=d3.scale.linear().range([size.height-size.margin,size.margin]).domain([0,max]);yAxis.label=settings.mapping.y.label;var probabilityAxis=d3.scale.linear().range([size.height-size.margin,size.margin]).domain([0,1]),widthAxis=function(w){return xAxis(w)-xAxis(0)},heightAxis=function(h){return yAxis.range()[0]-yAxis(h)};return{x:xAxis,y:yAxis,fill:scales.type(),probability:probabilityAxis,width:widthAxis,height:heightAxis,axisMargin:20}}},Scales.xMax=200,Scales})