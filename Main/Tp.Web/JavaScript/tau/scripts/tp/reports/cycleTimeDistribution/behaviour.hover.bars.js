define(["jQuery","libs/d3/d3","tp/reports/cycleTimeDistribution/chart.axes.format"],function(t,e,o){return{create:function(a){var n=t('<div class="tau-chart-tooltip" style="position:absolute"></div>').appendTo(a.placeholder).tauBubble({content:"",className:"tau-chart-tooltip",onPositionConfig:function(t){t.my="left bottom"},onBeforeShow:function(t){function e(){return["<div>"+o.days(n.values[0].x)+"</div>"].concat(n.values.map(function(t){return'<div><span class="'+i.scales.fill(t.fill)+'"><strong>'+o.y(t.y)+"</strong> of all "+a.contextProvider.getTerms(t.fill).names.toLowerCase()+"</span><span> ("+t.length+" of "+t.count+")</span></div>"})).join("")}var n=this.$target.data("d"),i=this.$target.data("context");t.find('[role="content"]').html(e())}});return{mouseover:function(o,a){var i=t(this).offset();i.top+=1,i.left+=a.scales.width(.5),n.data("d",e.select(this).datum()),n.data("context",a),n.offset(i).tauBubble("show")},mouseout:function(){n.data("ui-tauBubble")&&n.tauBubble("hide")}}}}});