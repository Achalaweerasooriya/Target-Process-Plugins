define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(e,n,t){return t.extend({whenFilterResolved:function(e){var t=n.Deferred();this.fire("filter.resolve",t),t.then(e)},whenOnlyWithRelationsFilterResolved:function(e){var t=n.Deferred();this.fire("onlyWithRelations.resolve",t),t.then(e)},"bus $form.ready:last + onlyWithRelations.resolve":function(e,n,t){t.resolve(n.find("#onlyWithRelations").is(":checked"))},unbindSettings:function(){var e=this;e.whenFilterResolved(function(t){e.whenOnlyWithRelationsFilterResolved(function(i){e.fire("formData.changed",n.extend(t,{onlyWithRelations:i}))})})},"bus afterRender":function(e,n){var t=this,i=n.element;this.fire("$form.ready",i.find(".i-role-settings")),this.fire("view.dom.ready",i),i.find("#onlyWithRelations").change(function(){t.unbindSettings()}),this.unbindSettings()},"bus filter.form.changed":function(){this.unbindSettings()}})});