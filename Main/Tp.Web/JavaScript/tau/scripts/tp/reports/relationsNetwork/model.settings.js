define(["Underscore","tp/reports/settings/model.settings","tp/reports/settings/definitionBuilder","tp/reports/settings/templateDataBuilder"],function(e,t,i,s){return t.extend({NAME_CHART:"Relations Network",DESCRIPTION:["This network is a visualization of direct and hidden dependency relations between any entities in Targetprocess (e.g. projects, user stories, features, bugs, tasks, etc.)"],defaultData:{entities:JSON.stringify(["userstory"]),filter:"?Iteration is Current",onlyWithRelations:!1,isShowSettings:!0,isShowLegend:!0},saveSettings:function(t,i){var s={filter:i.filter,useFilter:i.useFilter,onlyWithRelations:i.onlyWithRelations,entities:JSON.stringify(e.map(i.entities,function(e){return e.id}))};t({scope:"Public",userData:s}).done(),this._super(t,s)},setSettings:function(e,t,s){var n=i.getWithRelations(e,t,s),r={strategy:"page",parameters:n.definition,layouts:n.layouts,configurator:s};this.fire("settings.changed",r)},"bus configurator.ready:last + model.ready":function(t,i,n){var r=i.getFeaturesService().isEnabled("tp2.application")?s.tp2generals(n):s.generals(n);this.fire("dataBind",{onlyWithRelations:n.onlyWithRelations,types:r,filter:s.filter(n,"?Iteration is Current"),useFilter:e.isUndefined(n.useFilter)?!0:n.useFilter,isShowSettings:n.isShowSettings,name:this.NAME_CHART,description:this.DESCRIPTION})}})});