define(["jQuery","tp/reports/report","tp/reports/burndown/filter","tp/reports/burndown/dataProvider","tp/reports/burndown/idealLine","tp/reports/burndown/forecastLine","tp/reports/burndown/lineChart","tau/components/component.creator","tp/reports/extension.context","tp/reports/extension.navigator","tau/components/extensions/component.extension.base","tau/components/extensions/error/extension.errorBar"],function($,Report,Filter,DataProvider,idealLine,forecastLine,LineChart,ComponentCreator,ContextExtension,NavigatorExtension,ExtensionBase,ErrorBarExtension){var ReportExtension=ExtensionBase.extend({"bus afterInit":function(){var filter=new Filter;$(filter).on("afterRender",$.proxy(function(){this.fire("filter.afterRender",filter)},this)),this.fire("filter.ready",filter)},"bus afterRender + contextProvider.ready + navigator.ready + filter.ready":function(e,data,contextProvider,navigator,filter){var dataProvider=new DataProvider;$(dataProvider).on("data-error",$.proxy(function(e,data){this.fire("error",data.Message)},this));var report=new Report({height:$(window).height()*.7,placeholder:data.element,filter:filter,dataProvider:dataProvider,charts:[idealLine,new LineChart,forecastLine],contextProvider:contextProvider,navigator:navigator});$(report).on("afterInit",$.proxy(function(){data.element.find(".tableTitle").hide(),this.fire("plot.afterInit",report)},this)),$(report).on("afterRender",$.proxy(function(){this.fire("plot.afterRender",report)},this)),$(report).on("details.afterRender",$.proxy(function(e,data){this.fire("details.afterRender",data)},this)),report.render()}});return{create:function(config){var creatorConfig={extensions:[ContextExtension,NavigatorExtension,ReportExtension,ErrorBarExtension],template:{engine:"jqote2",name:"reports-template",markup:['<div class="tau-chart tp2-chart i-role-burnDown">',"</div>"]}},component=ComponentCreator.create(creatorConfig,config);return component.fire("dataBind",{}),component}}})