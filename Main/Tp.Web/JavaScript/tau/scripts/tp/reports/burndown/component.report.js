define(["jQuery","tp/reports/report","tp/reports/burndown/filter","tp/reports/burndown/dataProvider","tp/reports/burndown/idealLine","tp/reports/burndown/forecastCaption","tp/reports/burndown/forecastLine","tp/reports/burndown/lineChart","tau/components/component.creator","tp/reports/extension.context","tp/reports/extension.navigator","tau/components/extensions/component.extension.base","tau/components/extensions/error/extension.errorBar"],function(e,t,r,n,i,o,a,d,s,c,p,f,u){var l=f.extend({"bus afterInit + afterRender + contextProvider.ready + navigator.ready":function(s,c,p,f,u){var l=new n;e(l).on("data-error",function(e,t){this.fire("error",t.Message)}.bind(this)),f.onReady().then(function(){var n=new o,s=new t({configurator:this.config.context.configurator,height:.7*e(window).height(),placeholder:p.element.find(".report-chart"),dataProvider:l,charts:[i,new d,a],captions:[n],contextProvider:f,navigator:u});e(s).on({afterInit:function(){p.element.find(".tableTitle").hide(),this.fire("plot.afterInit",s)}.bind(this),afterRender:function(){this.fire("plot.afterRender",s)}.bind(this),"details.afterRender":function(e,t){this.fire("details.afterRender",t)}.bind(this)}),s.render();var h=p.element.find("#report-filter"),v=new r({featureService:this.config.context.configurator.getFeaturesService(),storage:c.config.storage,contextProvider:f,placeholder:h,dataProvider:l,onUpdate:s.update.bind(s)});e(v).on("afterRender",function(){this.fire("filter.afterRender",v)}.bind(this)),n.initialize({filter:v}),v.initialize()}.bind(this))}});return{create:function(e){var t={extensions:[c,p,l,u],template:{engine:"jqote2",name:"reports-template",markup:['<div class="tau-chart tp2-chart i-role-burnDown">','<div class="burnDownReport _burnDownReport">','<span class="tableTitle">Burn Down</span>',"<div>",'<div id="report-filter" class="chart-filter">',"</div>","</div>",'<div id="report-chart" class="tau-chart-plot report-chart">',"</div>","</div>","</div>"]}},r=s.create(t,e);return r.fire("dataBind",{}),r
}}});