define(["tau/core/class","tau/storage/api","Underscore"],function(e,t,n){return e.extend({init:function(e){this.api=new t,this.groupName=e.groupName,this.key="setting"},scopeData:"userData",savePlannableFilter:function(e){var t={scope:"Public"};t[this.scopeData]=e,this.api.data(this.groupName,this.key,t)},fields:["includeWeekends","showBugs","isInPoints","burnDownType","plannableId","projectIds"],findPlannableFilter:function(e){this.api.select(this.groupName,{$where:{key:this.key},$fields:n.map(this.fields,function(e){return this.scopeData+"."+e},this)}).done(function(t){var n=null;t.data.length>0&&t.data[0].burnDownType&&(n=t.data[0],n.burnDownType=n.burnDownType.toLowerCase()),e(n)})}})});