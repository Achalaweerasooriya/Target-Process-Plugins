define(["tau/core/class","tau/storage/api","Underscore"],function(e,n,t){return e.extend({init:function(e){this.api=new n,this.groupName=e.groupName,this.key="setting"},scopeData:"userData",savePlannableFilter:function(e){var n={scope:"Public"};n[this.scopeData]=e,this.api.data(this.groupName,this.key,n)},fields:["includeWeekends","showBugs","isInPoints","burnDownType","plannableId"],findPlannableFilter:function(e){this.api.select(this.groupName,{$where:{key:this.key},$fields:t.map(this.fields,function(e){return this.scopeData+"."+e},this)}).done(function(n){var t=null;n.data.length>0&&n.data[0].burnDownType&&(t=n.data[0],t.burnDownType=t.burnDownType.toLowerCase()),e(t)})}})});