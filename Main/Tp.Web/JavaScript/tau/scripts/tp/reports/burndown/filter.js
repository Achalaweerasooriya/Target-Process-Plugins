define(["jQuery","tp/reports/burndown/dataProvider","tp/reports/filterProvider"],function($,dataProvider,filterProvider){function Filter(){this.dataProvider=new dataProvider,this.template='<div class="chart-filter">\n    <span class="pr-10">\n        <label><span class="divider">Burn Down Type&nbsp;&nbsp;</span><span class="_burnDownType iterations-caret iterations-caret-disabled"></span></label>\n    </span>\n    <span class="pr-10">\n        <label><span class="divider">&nbsp;&nbsp;</span><span class="_selectedIteration iterations-caret iterations-caret-disabled"></span></label>\n    </span>\n    <span class="ui-dateeditor pr-10">\n        <label><span class="divider">Start Date&nbsp;&nbsp;</span><input type="text" name="StartDate" class="_startDate hasDatePicker" maxlength="20"></label>\n    </span>\n    <span class="divider">\n        <label class="pr-10"><input type="checkbox" name="Weekends" class="_weekends" checked="checked">Weekends</label>\n    </span>    \n    <span class="divider _bugsOption">\n        <label><input type="checkbox" name="dont-count-bugs" class="_include-bugs" checked="checked">Include {1}</label>\n    </span>\n    <div class="button-group _unitsOption">\n        <a class="button middle selected _inPoints" href="javascript:void(0);">In points</a>\n        <a class="button middle _inHours" href="javascript:void(0);">In hours</a>\n    </div>\n</div>',this.filterProvider=new filterProvider,$(this.filterProvider).on("afterRender",$.proxy(function(){$(this).trigger("afterRender")},this))}return Filter.prototype={initialize:function(config){config.template=this.template,this.filterProvider.initialize(config)},getData:function(){var plannable=this.filterProvider._getSelectedPlannable(),startDate=this.filterProvider._getStartDate();if(plannable&&startDate){var result={startDate:startDate,includeWeekends:this.filterProvider._getIncludeWeekends(),isInPoints:this.filterProvider.isInPoints(),showBugs:this.filterProvider.isShowBugs(),units:plannable.isPointsAvailable&&this.filterProvider.isInPoints()?"p":"h",plannableId:plannable.id,burnDownType:plannable.typeName};return result}return null}},Filter})