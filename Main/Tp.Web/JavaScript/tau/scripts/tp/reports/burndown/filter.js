define(["jQuery","tp/reports/burndown/dataProvider","tp/reports/filterProvider"],function(e,t,n){function i(i){this.dataProvider=new t,this.template='<div class="chart-filter">\n    <span class="pr-10">\n        <label><span class="divider">Burn Down for&nbsp;&nbsp;</span><span class="_burnDownType iterations-caret iterations-caret-disabled"></span></label>\n    </span>\n    <span class="pr-10">\n        <label><span class="divider">&nbsp;&nbsp;</span><span class="_selectedIteration iterations-caret iterations-caret-disabled"></span></label>\n    </span>\n    <span class="ui-dateeditor pr-10">\n        <label><span class="divider">Start Date&nbsp;&nbsp;</span><input type="text" name="StartDate" class="_startDate hasDatePicker" maxlength="20"></label>\n    </span>\n    <span class="divider">\n        <label class="pr-10"><input type="checkbox" name="Weekends" class="_weekends" checked="checked">Weekends</label>\n    </span>    \n    <span class="divider _bugsOption">\n        <label><input type="checkbox" name="dont-count-bugs" class="_include-bugs" checked="checked">Include {1}</label>\n    </span>\n    <div class="button-group _unitsOption">\n        <a class="button middle selected _inPoints" href="javascript:void(0);">In points</a>\n        <a class="button middle _inHours" href="javascript:void(0);">In hours</a>\n    </div>\n</div>',this.filterProvider=new n(i),e(this.filterProvider).on("afterRender",e.proxy(function(){e(this).trigger("afterRender")},this))}return i.prototype={initialize:function(e){e.template=this.template,this.filterProvider.initialize(e)},getData:function(){var e=this.filterProvider._getSelectedPlannable(),t=this.filterProvider._getStartDate();if(e&&t){var n={startDate:t,includeWeekends:this.filterProvider._getIncludeWeekends(),isInPoints:this.filterProvider.isInPoints(),showBugs:this.filterProvider.isShowBugs(),units:e.isPointsAvailable&&this.filterProvider.isInPoints()?"p":"h",plannableId:e.id,burnDownType:e.typeName,manuallySetVelocity:this.filterProvider.getManuallySetVelocity()};
return n}return null},update:function(){this.filterProvider.update()}},i});