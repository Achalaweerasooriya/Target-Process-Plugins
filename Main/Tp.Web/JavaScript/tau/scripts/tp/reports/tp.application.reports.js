define(["jQuery","application.creator","tau/services/service.navigator","tp/reports/service.chart.size"],function($,AppCreator,ServiceNavigator,ServiceChartSize){var APP_ID="appReports",initializeApplication=function(configurator){configurator._id=_.uniqueId("report_charts_viewer"),configurator.isBoardEdition=!0;var ROUTING_PATTERNS=[{pattern:/reports$/,adapter:function(){this.resolve({id:null,entity:"reports"})},type:"tau/components/component.page.reports",host:"tau/components/component.master.empty"},{pattern:/reports\/(\w+)/,adapter:function(reportType){this.resolve({id:null,entity:"reports",reportType:reportType})},type:"tau/components/component.page.reports",host:"tau/components/component.master.empty"},{pattern:/(\w+)\/([0-9]+)($|\s|&)/,adapter:function(entityType,entityId,tail){this.resolve({id:parseInt(entityId),entity:entityType,action:"show"})},type:"tau/components/component.page.entity",host:"tau/components/component.master.empty"},{pattern:/(\w+)\/([0-9]+)\/(\w+)[&|]*.*/,adapter:function(entityType,entityId,action){this.resolve({id:parseInt(entityId),entity:entityType,action:action})},type:"tau/components/component.page.entity",host:"tau/components/component.master.empty"}],appConfig={name:"application charts",applicationId:APP_ID,routes:ROUTING_PATTERNS,configurator:configurator,options:{routing:{silent:!0}},integration:{disableProgressIndicator:!0,showInPopup:!0,keepAlive:!1}};return AppCreator.create(appConfig).pipe(function(appBus){var $return=$.Deferred();return appBus.on("innerContentRendered",function(e,renderData){var $el=renderData.element,$applicationRoleNode=$el.parents(".i-role-application")}),appBus.initialize(appConfig),$return.resolve(appBus),$return})},initialize=function(parentConfigurator,parameters){var configurator=parentConfigurator.createChild();configurator.getExternal().setFakeWindow(),configurator.registerService("chart.size",new ServiceChartSize),configurator.registerService("navigator",new ServiceNavigator(configurator,{parameterName:APP_ID})),configurator.service("navigator").to("reports/"+parameters.active),initializeApplication(configurator)};return{initialize:initialize}})