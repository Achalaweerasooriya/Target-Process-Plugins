define(["jQuery","libs/d3/d3","tp/reports/processControl/chart.axes.format"],function($,d3,format){function setAlign(val){return function(config){return config.my=val,config}}return{create:function(config){var tooltip=$('<div class="tau-chart-tooltip" style="position:absolute"></div>').appendTo(config.placeholder).tauBubble({content:"",className:"tau-chart-tooltip",onPositionConfig:setAlign("left bottom")});return tooltip.on("show",function(e,evtData){var d=evtData.target.data("d");evtData.popup.find('[role="content"]').html("<div>"+d.data.name+"</div><div>"+format.timerange("d","h","min")(d.y)+", "+d3.time.format("%d %b")(d.x)+"</div>")}),{mouseover:function(d){var offset=$(this).offset();offset.top+=1,offset.left+=4,tooltip.data("d",d),tooltip.offset(offset).tauBubble("show")},mouseout:function(d){tooltip.tauBubble("hide")}}}}})