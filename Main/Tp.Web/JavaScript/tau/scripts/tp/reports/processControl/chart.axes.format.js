define(["libs/d3/d3","tau/models/model.leadCycleTime"],function(t,e){function n(t){return function(e){for(var n=t.length-1,r=t[n];!r[1](e);)r=t[--n];return r[0](e)}}var r=function(t){return[[t.year,function(){return!0}],[t.month,function(t){return t.getMonth()}],[t.date,function(t){return 1!=t.getDate()}],[t.day,function(t){return t.getDay()&&1!=t.getDate()}],[t.time,function(t){return t.getHours()}]]},i=n(r({year:t.time.format("%Y"),month:t.time.format("%b %Y"),date:t.time.format("%b %e %Y"),day:t.time.format("%b %e %Y"),time:t.time.format("%b %e %Y")})),m=n(r({year:t.time.format("%Y"),month:t.time.format("%b"),date:t.time.format("%b %e"),day:t.time.format("%a %e"),time:t.time.format("%I %p")})),o=new e({});return{time:function(t,e){return 0==e?i(t):m(t)},timerange:function(t,e,n){return function(r){return o.getTimeWithAbbreviation(r,t,e,n)}}}});