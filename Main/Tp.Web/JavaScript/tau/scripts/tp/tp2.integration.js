require(["all.components"],function(){require(["tau/service.container","Underscore","tau/core/bus.reg","tau/utils/utils.urlBuilder.service.tp2"],function(t,e,a,r){var i=new t,n=new r(i).getDashboardUrl(),u='<div class="tau-menu-item tau-menu-item-tp2"><a class="tau-back-to-old-ui tau-extension-board-tooltip" data-title="Go back to the TP2 interface" href="'+n+'">TP2</a></div>';a.getByName("board.main.menu").done(function(t){t.on("afterRenderAll",function(t,e){e.element.find(".tau-menu-section").first().append($(u))})})})}),define("tp/tp2.integration",function(){}),define("tau/utils/utils.urlBuilder.service.tp2",["jQuery","tau/utils/utils.urlBuilder.service","tau/core/tau"],function(t,e,a){return e.extend({getNewViewUrl:function(t,e,r){var i={path:this.getApplicationPath()+this.pages.view,params:{},hash:""},n=r===!0?this.getCurrentAcid():r;return n&&(i.params.acid=n),a.getValueFromQueryString("rmnav")&&(i.params.rmnav="1"),i.hash=e.toLowerCase()+"/"+t,this._buildUrl(i)},getDashboardUrl:function(){return this.getApplicationPath()+"/default.aspx"},getShortViewUrl:function(t){var e=a.getValueFromQueryString("rmnav")?"":"tp2/";return this.getApplicationPath()+"/"+e+"entity/"+t.id},_buildUrl:function(e){var a=e.path,r=t.param(e.params);return r&&(a=a+"?"+r),e.hash&&(a=a+"#"+e.hash),a}})});