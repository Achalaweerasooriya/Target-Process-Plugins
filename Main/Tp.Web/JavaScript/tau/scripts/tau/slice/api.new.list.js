define(["Underscore","jQuery","tau/slice/slice.space.cached","tau/models/board.customize.units/board.customize.cards.builderSelector","tau/services/customize/service.customize.card.layout.factory.newlist","tau/models/board.customize.units/const.card.sizes"],function(e,r,i){return i.extend({init:function(r,i,t){this._super(r,i),this._newListSliceOptions=t,this.innerLevelsDefinitionChanged=e.Callbacks()},getSliceParams:function(){var r=this._super();return e.extend(r,{boardId:this._newListSliceOptions.boardId}),r},setInnerLevelsDefinition:function(e){this.config.definition.innerLevels=e,this.innerLevelsDefinitionChanged.fire(e)},treeView:function(e){return this.resolveDeferred("treeView",e)},treeViewPossibleActions:function(e){return this.resolveDeferred("treePossibleActions",e)},treeViewPossibleActionsSparse:function(e){return this.resolveDeferred("treePossibleActionsSparse",e)},treeViewCounts:function(e){return this.resolveDeferred("counts",e)},treeViewCountsSparse:function(e){return this.resolveDeferred("countsSparse",e)},treeViewCards:function(e){return this.resolveDeferred("cards",e)},treeViewExpand:function(e){return this.resolveDeferred("expand",e)},treeViewCollapse:function(e){return this.resolveDeferred("collapse",e)},treeViewPrioritizeBatch:function(e){return this.resolveDeferred("prioritizeBatch",e)},treeViewByLevel:function(e){return this.resolveDeferred("sort",e)},resolveDeferred:function(e,r){var i=this._prepareCommand({method:e,config:r});return this._super(i.method,i.config)},_createApiRequestConfig:function(e,r){var i=this._super(e,r);return i.parameters.definition.innerLevels=this.config.definition.innerLevels,i},_prepareCommand:function(e){return e.config=r.extend(!0,e.config,{$set:{boardId:this._newListSliceOptions.boardId}}),e}})});