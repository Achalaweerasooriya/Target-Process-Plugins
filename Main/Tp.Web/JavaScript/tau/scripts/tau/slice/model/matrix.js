define(["tau/core/model-base","tau/slice/data/service","Underscore"],function(a,b,_){var c=a.extend({onInit:function(){var a=this;b.getData(function(b){var c={x:_.unique(_.pluck(b,"X")),y:_.unique(_.pluck(b,"Y"))};c.getDroppableAttribute=function(a,b){return a!=null&&b!=null?"droppable":""};var d=function(a,c){var d=[],e=_.select(b,function(b){return b.X==a&&b.Y==c});return _.each(e,function(a){d=d.concat(a.Dynamic)}),d};c.getInfo=function(a,b){var c=[];return a!=null&&b!=null?c:d(a,b)},c.getContent=function(a,b){var c=[];return a===null||b===null?c:d(a,b)},a.bus.fire("dataBind",c)})},"bus move":function(a){var c=a.data,d=this;b.move(c,function(a){var b={saga:c,data:a};d.bus.fire("moveCompleted",b)},function(a){var b={saga:c,data:a};d.bus.fire("moveFailed",b)})}});return c})