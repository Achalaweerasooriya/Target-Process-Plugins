define(["tau/core/model-base","tau/slice/data/service","Underscore"],function(e,t,n){var a=e.extend({onInit:function(){var e=this,a=new Date;t.getData(function(t){var i=new Date-a,l={renderTime:new Date,x:[null].concat(n.unique(n.pluck(t.x.items,"x"))),y:[null].concat(n.unique(n.pluck(t.y.items,"y")))};l.getDroppableAttribute=function(e,t){return null!=e&&null!=t?"droppable":""};for(var r=t.cells.items.length,u=0,s=0;r>s;s++){var o=t.cells.items[s];u+=o.dynamic.items.length,l[o.x+"_"+o.y]={data:o.dynamic.items,info:[]}}for(r=t.x.items.length,s=0;r>s;s++)o=t.x.items[s],l[o.x+"_null"]={info:o.dynamic.items,data:[]};for(r=t.y.items.length,s=0;r>s;s++)o=t.y.items[s],l["null_"+o.y]={info:o.dynamic.items,data:[]};var m=l.x.length+" x "+l.y.length+" ["+u+"]";m+="<br/>server: "+i+"ms",l.null_null={info:[{data:{name:m}}],data:[]},e.bus.fire("dataBind",l)})},"bus move":function(e){var n=e.data,a=this;t.move(n,function(e){var t={saga:n,data:e};a.bus.fire("moveCompleted",t)},function(e){var t={saga:n,data:e};a.bus.fire("moveFailed",t)})}});return a});