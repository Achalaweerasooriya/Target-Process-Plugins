define(["require","jQuery","tau/core/class","tp/plugins/commandGateway","tau/store/header"],function(e){var t=e("jQuery"),i=e("tau/core/class"),o=e("tp/plugins/commandGateway"),n=new o({pluginName:"Following"}),a=e("tau/store/header");return i.extend({init:function(e){this._configurator=e},loadModifications:function(e,i){var o=t.Deferred(),r=function(){o.reject()},c=this._configurator.getApplicationPath()+"/GetUserFollowedEntities?&acid="+e;return t.ajax({type:"POST",url:c,dataType:"json"}).done(function(e){return e.length?(i.generals=e,void n.executeForSpecificProfile("FollowingProfile","GetModifications",i,function(e){var t=a.formatObject(e);o.resolve(t.data)},r,r)):void o.resolve([])}.bind(this)).fail(r),o}})});