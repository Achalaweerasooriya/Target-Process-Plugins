define(["jQuery","Underscore","tp/reports/report","tp/reports/burndown/dataProvider","tp/reports/burndown/idealLine","tp/reports/burndown/forecastLine","tp/reports/burndown/lineChart","tau/components/extensions/component.extension.base","tp/reports/burndown/filterDataProvider"],function(e,t,r,n,a,i,o,d,s){return d.extend({"bus afterInit + afterRender + navigator.ready":function(t,d,s,l){var p=e(d.config.placeholder);this.dataProvider=new n,e(this.dataProvider).on("data-error",function(e,t){this.fire("error",t.Message)}.bind(this));var f=p.width(),c=s.element.find(".report-chart"),u=new r({width:f,placeholder:c,dataProvider:this.dataProvider,charts:[a,new o,i],captions:[],navigator:l,showLegend:!1,axes:d.config.axes,emptyTemplate:d.config.emptyTemplate,loaderTemplate:d.config.loaderTemplate});e(u).on({afterInit:function(){s.element.find(".tableTitle").hide(),this.fire("plot.afterInit",u)}.bind(this),afterRender:function(){s.element.find("#report-caption").hide(),this.fire("plot.afterRender",u)}.bind(this),"details.afterRender":function(e,t){this.fire("details.afterRender",t)}.bind(this)}),p.append(s.element),this.fire("report.ready",u)},"bus contextProvider.ready + report.ready:last":function(e,t,r){r.contextProvider=t,r.render()},"bus contextProvider.ready:last + report.ready:last + settings.changed:last":function(e,r,n,a){var i=r.getProjectIds();this.dataProvider.getPlannable({projectIds:i,teamIds:r.getTeamIds()}).then(function(e){var o=new s({contextProvider:r,plannables:e}),d=t.any(o.allIterations,function(e){return e.id===a.plannableId}),l=d?a:o.getDefaultFilterData(a),p=t.clone(l);p.projectIds=t.filter(l.projectIds,function(e){return t.any(i,function(t){return e===t})}),n.update(p)}.bind(this))},"bus report.ready:last + resize + plot.afterRender:last":function(e,t,r){t.resize(r)}})});