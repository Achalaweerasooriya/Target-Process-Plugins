define(["jQuery","Underscore","tp/reports/report","tp/reports/burndown/dataProvider","tp/reports/burndown/idealLine","tp/reports/burndown/forecastLine","tp/reports/burndown/lineChart","tau/components/extensions/component.extension.base","tp/reports/burndown/filterDataProvider"],function(e,t,r,n,i,a,o,d,s){return d.extend({"bus afterInit + afterRender + navigator.ready":function(t,d,s,f){var l=e(d.config.placeholder);this.dataProvider=new n,e(this.dataProvider).on("data-error",function(e,t){this.fire("error",t.Message)}.bind(this));var p=l.width(),c=s.element.find(".report-chart"),u=new r({width:p,placeholder:c,dataProvider:this.dataProvider,charts:[i,new o,a],captions:[],navigator:f,showLegend:!1,axes:d.config.axes});e(u).on({afterInit:function(){s.element.find(".tableTitle").hide(),this.fire("plot.afterInit",u)}.bind(this),afterRender:function(){s.element.find("#report-caption").hide(),this.fire("plot.afterRender",u)}.bind(this),"details.afterRender":function(e,t){this.fire("details.afterRender",t)}.bind(this)}),l.append(s.element),this.fire("report.ready",u)},"bus contextProvider.ready + report.ready:last":function(e,t,r){r.contextProvider=t,r.render()},"bus contextProvider.ready:last + report.ready:last + settings.changed:last":function(e,r,n,i){var a=r.getProjectIds();this.dataProvider.getPlannable({projectIds:a,teamIds:r.getTeamIds()}).then(function(e){var o=new s({contextProvider:r,plannables:e}),d=t.any(o.allIterations,function(e){return e.id===i.plannableId}),f=d?i:o.getDefaultFilterData(i),l=t.clone(f);l.projectIds=t.filter(f.projectIds,function(e){return t.any(a,function(t){return e===t})}),n.update(l)}.bind(this))},"bus report.ready:last + resize + plot.afterRender:last":function(e,t,r){t.resize(r)}})});