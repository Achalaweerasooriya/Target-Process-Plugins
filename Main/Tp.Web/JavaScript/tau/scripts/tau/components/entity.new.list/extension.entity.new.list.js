define(["Underscore","jQuery","tau/components/board.new.list/extension.base.new.list","tau/slice/entity.new.list.factory","tau/components/board.new.list/new.list.quickAdd.component.builder"],function(t,e,i,n,o){return i.extend({_defaultOnPage:20,_quickAddOptions:{positionConfig:{collision:"fit flip"}},init:function(t,e,i,n){var s=new o(t.bus,t.context.configurator,n,this._quickAddOptions);this._super(t,e,i,n,s),n.expansionStateChanged.add(this.fire.bind(this,"expansion.state.changed"))},"bus start.lifecycle":function(){this._skeletonView.treeViewCreated.add(function(t){this.fire("newListTreeView.ready",{skeletonView:this._skeletonView,treeView:t})}.bind(this))},"bus afterInit + start.lifecycle":function(t,e){this._initViewNewListSettings(e.config),this._initSliceFactory(e.config)},"bus afterRender":function(){this.fire("view.dom.ready",{})},_initViewNewListSettings:function(t){var e=this._createViewNewListSettings(t);this.fire("boardSettings.ready",{boardSettings:e})},_initSliceFactory:function(t){var e={prefix:"EntityTreeView",entityId:t.context.entity.id},i=new n(this._configurator.getSliceFactoryOptions(),e);this.fire("sliceFactory.ready",i)},_createViewNewListSettings:function(e){var i=e.context.entity,n=i.entityType.name.toLowerCase(),o=[n,i.id.toString(),e.name.toLowerCase()].join(""),s=t.extend(e.definition,{id:o,viewMode:"newlist",x:{types:[n]},cellPaging:{onPage:this._defaultOnPage}});return this._configurator.getBoardSettingsFactory().createStaticSettings(s)},_getAppStateStore:function(){return this._configurator.getBoardSettingsFactory().createStaticSettings({acid:null})}})});