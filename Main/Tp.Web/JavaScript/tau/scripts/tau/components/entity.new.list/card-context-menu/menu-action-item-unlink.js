define(["jQuery","Underscore","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-base"],function(t,e,n){return n.extend({name:"Unlink",className:"i-role-card-context-menu-unlink",itemClickCallback:function(t){return this.onUnlink(t)},onUnlink:function(t){var e=t.$trigger,n=e.data(),i=e.data("__objectId")||n.dataItem.__objectId,a=this.settings.listModel.findCardNode(n.entityId,n.entityType,i),d=this._getPath(a);this.settings.sliceReady.treeViewUnassign({$set:{path:d,item:{itemId:n.id}}}).done(this._deleteCard.bind(this,this.settings.listModel,n,d)),t.$menu.trigger("contextmenu:hide")},_getPath:function(t){var e=t.parent;return e?e.hierarchy.getPath():[]},_deleteCard:function(t,e,n){t.deleteCardWithPath(e.entityId,e.entityType,n)}})});