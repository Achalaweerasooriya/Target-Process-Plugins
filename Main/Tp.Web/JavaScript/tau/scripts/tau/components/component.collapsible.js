define(["Underscore","tau/core/component-base","tau/views/view.collapsible","tau/components/extensions/component.creator.extension","tau/ui/extensions/collapsible/ui.extension.collapsible","tau/ui/extensions/collapsible/ui.extension.collapsible.state","tau/ui/extensions/layout/ui.extension.layout","tau/ui/templates/container/ui.template.container.list"],function(_,ComponentType,ViewType,ComponentCreatorExtension,CollapsibleExtension,CollapsibleStateExtension,LayoutExtension,template){return{create:function(stConf){var config=_.clone(stConf)||{};_.defaults(config,{store:config.context.configurator.getStore(),template:template,cssClass:"ui-collapsible",layout:"list",collapsed:!0});var component=new ComponentType(config);return _.isArray(config.extensions)&&_.each(config.extensions,function(extension){component.attach(extension)}),component.attach(ComponentCreatorExtension).attach(CollapsibleExtension).attach(LayoutExtension).attach(CollapsibleStateExtension).attach(ViewType).bus}}})