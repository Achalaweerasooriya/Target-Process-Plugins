define(["require","tau/components/extensions/component.extension.base","template!tau/components/customReport.toolbar/templates/customReport.toolbar.actions.menu.template","tau/services/boards/view.types"],function(e){var t=e("tau/components/extensions/component.extension.base"),o=e("template!tau/components/customReport.toolbar/templates/customReport.toolbar.actions.menu.template"),n=e("tau/services/boards/view.types");return t.extend({"bus boardSettings.ready:last + afterRender":function(e,a,s){var i=s.element.find("[role=actions-button]"),c={target:i,cleanupOnHide:!0,className:"tau-board-actions-bubble",stackName:"actionsReport",showOnCreation:!0,zIndex:42,componentsConfig:{components:[{name:"report-actions-bubble",layout:"selectable",model:s.data,extensions:[t.extend({"bus childComponentCreated":function(e,t){t.fire("boardSettings.ready",a)}})],children:_.compact([s.data.isEditable?{selector:".remove-report-button",type:"board.remove",itemType:n.REPORT}:!1,{selector:".clone-report-button",type:"board.clone",itemType:n.REPORT}]),type:"container",template:o}]},onShow:function(e){i.addClass("tau-checked"),e.on("click.settings",".tau-btn-settings",function(){i.tauBubble("hide"),a.boardSettings.set({set:{edit:!0}})})},onHide:function(e){e.off("click.settings",".tau-btn-settings"),i.removeClass("tau-checked")}};i.on("click",function(){this.fire("initBubble",c)}.bind(this))}})});