define(["jQuery","Underscore","tau/configurator","tau/core/bus.reg","tau/components/component.creator","tau/ui/templates/diagnostics/ui.template.diagnostics.store","tau/components/extensions/diagnostics/extension.diagnostics.base"],function(e,t,n,s,i,a,r){return{create:function(s){var o=r.extend({_getData:function(){this.startMonitoringWithOutRefresh(),this.listeners={},t.each(t.values(n.getProxy().__subscriptions),function(e){t.isObject(e)&&t.each(e,function(e){t.isObject(e)&&t.each(e,this._addListener,this)},this)},this);var e=t.values(this.listeners);return this.listeners=null,{data:e}},_addListener:function(e){var n=e.config.eventName+"["+e.config.type+"]";t.has(this.listeners,n)||(this.listeners[n]={name:n,items:[]}),this.listeners[n].items.push({name:this._getListenerName(e.config.listener),sub:e})},_getListenerName:function(e){return e&&e.bus&&e.bus.name?e.bus.name:e&&e.name?e.name:"unknown"},_onDetailsClick:function(t){var n=e(t.target);console.log(n.data("details"))},_signUpOnClick:function(t){var n=e(t.data.element);n.data("tau-store-listener")||n.on("click.tau-store-listener",".tau-store-listener",this._onDetailsClick).data("tau-store-listener",!0)},"bus elementRefreshedWithData":function(e){this._signUpOnClick(e)},"bus afterRender":function(e){this._signUpOnClick(e)}}),u={extensions:[o],template:a};return i.create(u,s)}}});