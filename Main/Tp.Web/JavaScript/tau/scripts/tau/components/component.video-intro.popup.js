define(["jQuery","Underscore","tau/components/component.factory"],function(e,t,r){return new(r.extend({getCreatorConfig:function(){return{template:{engine:"jqote2",name:"video-intro.popup",markup:["<div>",'<iframe width="853" height="480" src="<%= this.url %>?rel=0" frameborder="0" allowfullscreen=""></iframe>',"<% if (this.showNextButton) { %>",'<p class="tau-help-video-header">We recommend to watch this quick intro video before the experiments.</p>','<p class="tau-help-continue"><button class="i-role-next tau-btn tau-primary">Thanks for the video! Continue to Targetprocess 3</button></p>',"<%} else {%>",'<p class="tau-help-video-header">Contact your admin if you want to try Targetprocess 3.</p>',"<% } %>","</div>"]}}},create:function(r){r=t.defaults(r,{render:e.Deferred(),destroy:e.Deferred()});var o=this._super(r);return o.on("destroy",function(){r.destroy.resolve()}),o.on("afterRender",function(t,n){var i=n.element,a=e("<div></div>");a.tauPopup({hideOnEscape:!1,enableClose:!1,className:"tau-help-video-intro",destroy:function(){o.fire("destroy")}}),a.tauPopup("show"),a.tauPopup("widget").append(i),i.on("click",".i-role-next",function(){a.tauPopup("destroy")}),r.render.resolve(i)}),o.initialize(),o.fire("dataBind",r),o}}))});