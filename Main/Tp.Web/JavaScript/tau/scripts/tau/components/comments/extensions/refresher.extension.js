define(["require","tau/components/extensions/component.extension.base"],function(e){var t=e("tau/components/extensions/component.extension.base");return t.extend({init:function(){this._super.apply(this,arguments),this.bus.getGlobalBus().on("bugWasMarkedAsDuplicate",this.onBugWasMarkedAsDuplicate,this)},destroy:function(){this.bus.getGlobalBus().removeListener("bugWasMarkedAsDuplicate",this.onBugWasMarkedAsDuplicate,this),this._super.apply(this,arguments)},refresh:function(){var e=this.config.context.entity;this.config.store.evictProperties(e.id,e.entityType.name,["comments"]),this.fire("refresh")},onBugWasMarkedAsDuplicate:function(e){var t=this.config.context.entity.id;(t===e.data.bugId||t===e.data.duplicateBugId)&&this.refresh()}})});