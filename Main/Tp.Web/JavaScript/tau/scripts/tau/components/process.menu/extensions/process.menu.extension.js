define(["require","tau/core/extension.base","jQuery","../controllers/process.menu.controller"],function(e){var t=e("tau/core/extension.base"),o=e("jQuery"),n=e("../controllers/process.menu.controller");return t.extend({"bus afterInit":function(e,t){this._configurator=t.config.context.configurator,this.fire("dataBind")},"bus afterRender":function(e,t){t.element.on("click",".i-role-close",this.fire.bind(this,"process.setup.close"))},"bus afterInit:last + afterRender:last + processes.config.ready:last + _process.setup.start":function(e,t,r,i,s){var c=r.element[0];this._controller=new n(t.config.context.configurator,i.serviceScope,c,this.openEntityViewAction.bind(this),s),o.contains(document.documentElement,c)&&this._controller.markAsInDom()},"bus view.dom.ready":function(){this._controller&&this._controller.markAsInDom()},"bus _process.changed":function(e,t){this._controller&&this._controller.updateActivePage(t)},"bus _process.setup.close":function(){this._controller&&(this._controller.destroy(),this._controller=null)},openEntityViewAction:function(e,t){var n=o("body").tauProgressIndicator().tauProgressIndicator("show");this._configurator.getEntityViewService().showEntityViewSilent({entityId:e,entityType:t}).always(function(){n.tauProgressIndicator("hide")})}})});