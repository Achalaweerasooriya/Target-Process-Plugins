define(["Underscore","tau/components/component.creator","tau/ui/extensions/list/extension.list.prioritize","tau/ui/extensions/list/extension.list.prioritize.comment","tau/ui/extensions/list/extension.list.groups","tau/ui/extensions/list/extension.list.overlay","tau/ui/extensions/list/extension.list.state","tau/ui/extensions/ui.extension.tooltip","tau/ui/extensions/list/extension.list.handleAction","tau/ui/extensions/list/extension.list.handleAction.generator","tau/models/model.list","tau/models/model.list.editable","tau/views/view.list","tau/ui/extensions/list/external.refresh.extension"],function(_,creator,SortableExtension,SortableExtensionComment,GroupsExtension,OverlayExtension,StateExtension,TitleTooltipExtension,globalActionsHandler,globalActionsHandlerGenerator,Model,ModelEditable,DefaultView,ExtRefresh){return{create:function(config){config=config||{},config.views=config.views||[{}],_(config.views).each(function(view){view.emptyMessage=view.emptyMessage||"No items found",view.rowTemplateName=view.rowTemplateName||"list-grid-entity__row"});var viewConfig=config.views[0];viewConfig.type=viewConfig.type||"grid",config.multiprojects&&(viewConfig.multiprojects=config.multiprojects),viewConfig.timeTrackingPolicies=config.context.getTimeTrackingPolicies();var extensions=[ModelEditable,GroupsExtension,OverlayExtension,StateExtension,TitleTooltipExtension,ExtRefresh,globalActionsHandler,globalActionsHandlerGenerator("bugWasMarkedAsDuplicate","duplicateBugId"),globalActionsHandlerGenerator("entityWasMovedToProject","entity:id"),globalActionsHandlerGenerator("entityWasCopiedToProject","entity:id")];config.sortable!==!1&&(extensions.push(SortableExtension),extensions.push(SortableExtensionComment));var creatorConfig={extensions:extensions.concat(config.extensions||[]),ModelType:Model,ViewType:config.ViewType||DefaultView};return config.template&&(creatorConfig.template=config.template),creator.create(creatorConfig,config)}}})