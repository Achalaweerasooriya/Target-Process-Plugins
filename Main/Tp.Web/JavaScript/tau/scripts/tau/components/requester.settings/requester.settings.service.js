define(["require","jQuery","Underscore","app.path","tau/services/data.service"],function(e){var r=e("jQuery"),t=e("Underscore"),n=e("app.path"),s=e("tau/services/data.service");return s.extend({getRequester:function(e){return this._findOne("requester",{select:["id","firstName","lastName","createDate","login","email","sourceType","company.id as companyId","phone","notes"],where:{id:e}})},getCompanies:function(){return this._find("company",{select:["id","name"]})},updateSettings:function(e,r){return this._store.saveDef("requester",{id:e,$set:r}).fail(this._handleStoreErrorResponse.bind(this))},deleteRequester:function(e){return this._store.removeDef("requester",{id:e}).fail(this._handleStoreErrorResponse.bind(this))},generateAndSendPassword:function(e){return this._ajaxPost("/api/generalUserActions/GenerateAndSendPassword?generalUserId="+e)},isGenerateAndSendPasswordAvailable:function(e){return this._ajaxPost("/api/generalUserActions/IsGenerateAndSendPasswordAvailable?generalUserId="+e).then(t.property("isAvailable"))},_ajaxPost:function(e){return r.ajax({url:n.get()+e,type:"POST",dataType:"json",contentType:"application/json"}).fail(this._handleXhrErrorResponse.bind(this))}})});