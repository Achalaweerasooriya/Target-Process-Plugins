define(["Underscore","tau/core/component-base","tau/core/view-base","tau/ui/extensions/ui.extension.domOperationsBase","tau/ui/ui.templateFactory"],function(e,t,n,a,r){return{create:function(o,s){var i=s||{};o=o||{},e.defaults(i,{name:o.name}),o.template&&(i.template=o.template),i.template&&i.template.markup&&(i.template=r.register(i.template));var p=new t(i);i=p.config;var u=i.context.configurator;e.defaults(i,{store:u.getStore()});var c=o.ViewType||n;if(p.attach(c),o.ModelType&&p.attach(o.ModelType),p.attach(a),o.extensions&&e.isArray(o.extensions))for(var m=0;m<o.extensions.length;m++){var f=o.extensions[m];if(!f)throw new Error("Extension ["+m+"] for component "+i.name+" is not defined");f.hasOwnProperty("type")&&f.hasOwnProperty("config")?p.attach(f.type,f.config):p.attach(f)}var g=p.bus;return u.getComponentBusRegistry().register(g),g.on("destroy",function(){u.getComponentBusRegistry().unregister(this)}),g}}});