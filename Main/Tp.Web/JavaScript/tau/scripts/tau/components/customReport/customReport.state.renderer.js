define(["require","jQuery","Underscore","tau/core/class"],function(e){var t=e("jQuery"),r=e("Underscore"),n=e("tau/core/class"),i=n.extend({init:function(e,t,r){this._chart=e,this._container=t,this._renderWithNewSettings=r},rerender:function(e){return this.destroy(),this._renderWithNewSettings(e).then(function(e){this._chart=e}.bind(this))},resize:function(e){setTimeout(function(){this._chart&&this._chart.resize(e)}.bind(this),0)},destroy:function(){this._chart&&this._chart.destroy()}});return n.extend({init:function(e){this._renderer=e},renderCustomReportAndGetState:function(e,n,s){var o=t.Deferred(),c=function(t){return this._renderer.renderCustomReport(e,t,s).then(r.property("chart"))}.bind(this);return c(n).done(function(t){o.resolve(new i(t,e[0],c))}).fail(function(){o.resolve(new i(null,e[0],c))}),o.promise()}})});