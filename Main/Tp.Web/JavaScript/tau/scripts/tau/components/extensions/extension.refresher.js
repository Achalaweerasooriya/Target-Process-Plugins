define(["Underscore","tau/components/extensions/component.extension.base"],function(a,b){return b.extend({init:function(a){this._super.apply(this,arguments),this.bus.getGlobalBus().on("entityWasMovedToProject",this.onEntityWasMovedToProject,this),this.bus.getGlobalBus().on("refreshMainEntity",this.refresh,this)},destroy:function(){this.bus.getGlobalBus().removeListener("entityWasMovedToProject",this.onEntityWasMovedToProject,this),this.bus.getGlobalBus().removeListener("refreshMainEntity",this.refresh,this),this._super.apply(this,arguments)},"bus onContextRetrieved":function(b){var c=b.data,d=this;a.each(c.processes[0].practices,function(a){d.practices.push(a.name)})},onEntityWasMovedToProject:function(a){var b=this.config.context.id;b==a.data.entity.id&&(this.fire("evictData"),this.fire("refresh"))},refresh:function(){this.fire("evictData"),this.fire("refresh")}})})