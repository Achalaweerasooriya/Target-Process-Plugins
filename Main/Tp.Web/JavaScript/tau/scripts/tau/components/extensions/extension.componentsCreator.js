define(["Underscore","tau/components/extensions/component.extension.base"],function(_,ExtensionBase){var Extension=ExtensionBase.extend({"bus afterInit:last+createComponents":function(evt){var configurator=_.values(evt)[0].data.config.context.configurator,componentsConfig=_.values(evt)[1].data,schemas=componentsConfig.components,componentsContext=componentsConfig.context,self=this;configurator.getComponentsCreator().create(schemas,{onComponentCreateBefore:function(component,schema){schema.component=component,schema.context=componentsContext},onComponentCreateAfter:function(componentBus,schema){self.fire("componentCreated",{component:componentBus})},onComponentsCreateAfter:function(buses,schemas){var res=[];_.forEach(schemas,function(schema,i){res[i]={component:buses[i],config:schema}}),self.fire("componentsCreated",res)}})}});return Extension})