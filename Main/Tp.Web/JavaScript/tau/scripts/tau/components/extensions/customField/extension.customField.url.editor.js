define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/ui/behaviour/customField/ui.behaviour.customField.url.editor"],function(_,$,a){return a.extend({category:"edit","bus dataBind+afterRender":function(a){var b=this,c=a.dataBind.data,d=a.afterRender.data.element;this.$widget=d,d.find("[name=url]").val(c.value.url),d.find("[name=label]").val(c.value.label),d.behaviourUrlEditor({onSave:function(a){b.bus.fire("save",{customFields:[{name:c.name,type:"URL",value:a}]})}}),d.find(":button:eq(1)").click(function(){b.bus.fire("reset")})},"bus validate":function(){this.$widget.behaviourUrlEditor("resetValidationErrors")},"bus afterValidate":function(a){this.$widget.behaviourUrlEditor("setValue",a.data.validation.instance.value)},"bus validationFailed":function(a){var b={};_.each(a.data.validation.errors,function(a){_.each(["url","label"],function(c){_.indexOf(a.path,c)!==-1&&(b[c]=a.description)})}),this.$widget.behaviourUrlEditor("setValidationErrors",b)}})})