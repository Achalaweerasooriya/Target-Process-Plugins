define(["Underscore","jQuery","tau/components/extensions/bubble/extension.bubble.creator"],function(_,$,BaseExtension){return BaseExtension.extend({category:"edit","bus afterInit":function(){this.onEditActivated()},"bus afterRender+applyPopups":function(evt,renderData,configs){var $el=renderData.element,self=this;_.forEach(configs,function(config){var $t=$el.find(config.target),$alignTo=$el.find(config.alignTo);$t.each(function(i){var $realTarget=$(this);$realTarget.addClass("tau-bubble-target");var realConfig=_.deepClone(config);realConfig.targetCssClass&&$realTarget.addClass(realConfig.targetCssClass),realConfig.target=$realTarget,realConfig.alignTo=$realTarget.find(realConfig.alignTo),realConfig.alignTo=realConfig.alignTo.length?realConfig.alignTo:$alignTo.eq(i),realConfig.componentsConfig.components[0].data=_.deepClone($realTarget.tmplItem().data),self.fire("initBubble",realConfig)})})},onEditActivated:function(config){var self=this,configs=self.config.popupEditorContainer;self.fire("applyPopups",configs)}})})