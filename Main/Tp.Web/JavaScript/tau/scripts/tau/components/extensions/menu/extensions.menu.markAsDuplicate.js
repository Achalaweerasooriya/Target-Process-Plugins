define(["tau/components/extensions/component.extension.base"],function(e){return e.extend({"bus markAsDuplicate":function(e){var t=e.data.generalID;this.markAsDuplicate(t)},markAsDuplicate:function(e){var t=this.config.context.configurator;Ext.WindowMgr.zseed=99999;for(var o=[],r=0;r<_projectContext.length;r++)o.push(_projectContext[r].id);var n=this,a=function(){var e=$.Deferred();if(Tp&&Tp.controls&&Tp.controls.Duplicate)e.resolve();else{var o=t.getApplicationPath();require([o+"/JavaScript/ExtJs/Controls/Duplicate/MarkAsDuplicatePopup.js",o+"/JavaScript/ExtJs/Controls/Duplicate/BugView.js",o+"/JavaScript/ExtJs/Controls/Duplicate/ToolbarFilter.js"],function(){e.resolve()})}return e};a().done(function(){var r=Tp.controls.Duplicate.CreatePopup(o,e,void 0,{onMarkDelegate:function(e){var t=n.config.context.configurator.getStore(),o=t.freeze();n.fire("bugWasMarkedAsDuplicate",e),o.unfreeze()}});r.show(o,e),t.getKeyBoardManager().pushHandler({handleKeyDown:function(e){27==e.which&&(t.getKeyBoardManager().popHandler(),r.hide(),r.destroy())}})})}})});