define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/ui/behaviour/checkbox/ui.behaviour.checkboxToggle"],function(a,b,c){return c.extend({category:"edit","bus permissionsReady+afterRender":function(a){var c=this,d=a.afterRender.data.data,e=a.permissionsReady.data;if(e.editable){var f=a.afterRender.data.element,g=f.find(".ui-customfield__value");g.checkboxToggle({classNames:{checked:"ui-customfield__value_checked",unchecked:"ui-customfield__value_unchecked"},onSave:function(a){c.bus.fire("elementUpdated"),c.bus.fire("save",{customFields:[{name:d.name,value:a}]})}}),f.behaviourCustomFieldRow({onActivate:function(a){a.stopPropagation(),b(a.target).hasClass("ui-customfield__value")==!1&&g.checkboxToggle("activate")}}),f.addClass("ui-customfield_editable_true")}}})})