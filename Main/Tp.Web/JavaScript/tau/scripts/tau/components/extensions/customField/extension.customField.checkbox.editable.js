define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/ui/behaviour/checkbox/ui.behaviour.checkboxToggle","tau/ui/behaviour/customField/ui.behaviour.customField.row"],function(_,$,a){return a.extend({category:"edit","bus permissionsReady+afterRender":function(a){var b=this,c=a.afterRender.data.data,d=a.permissionsReady.data;if(d.editable){var e=a.afterRender.data.element,f=e.find(".ui-customfield__value");f.checkboxToggle({classNames:{checked:"ui-customfield__value_checked",unchecked:"ui-customfield__value_unchecked"},onSave:function(a){f.removeClass("ui-validationerror"),b.bus.fire("elementUpdated"),b.bus.fire("save",{customFields:[{name:c.name,type:c.type,value:a}]})}}),e.behaviourCustomFieldRow({onActivate:function(a){a.stopPropagation(),$(a.target).hasClass("ui-customfield__value")==0&&f.checkboxToggle("activate")}}),e.addClass("ui-customfield_editable_true")}}})})