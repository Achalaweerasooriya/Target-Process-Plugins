define(["Underscore","jQuery","tau/core/class","tau/core/event","tau/core/types","tau/configurator"],function(a,b,c,d,e,f){return c.extend({init:function(b){this.config=b,this.bus=b.bus,this.globalBus=this.bus.getGlobalBus(),f.getWindow().document&&(this.defaultTitle=f.getWindow().document.title),d.subscribeOn(this);var c=function(a){var b=f.getHistory().getCurrent();b&&b.title&&(f.getWindow().document.title=b.title)};this._currentHandler=a.bind(c,this),f.getHistory().on("setCurrent",this._currentHandler,this)},"bus controller.preExecute":function(a){f.getHistory().process()},"bus controller.postExecute":function(a){},clearCurrent:function(){f.getHistory().current=null},"bus destroy":function(){f.getWindow().document&&(f.getWindow().document.title=this.defaultTitle),this.clearCurrent(),f.getHistory().stack=[],f.getHistory().removeAllListeners(this)}})})