define(["Underscore","tau/components/extensions/component.extension.base","tau/configurator"],function(_,a,b){var c=a.extend({"bus beforeInit":function(a){this._super(a);var b=this.config.store,c=this;b.unbind(this),b.on({eventName:"failure",listener:c},function(){c.onFailure.apply(c,arguments)})},onFailure:function(a){var b="Looks like application is not available. Please check your connection or server availability";a.data&&a.data.data&&(a.data.data.Message&&(b=a.data.data.Message),a.data.data.response&&(a.data.data.response.Message&&(b=a.data.data.response.Message),_.isArray(a.data.data.response)&&(b=a.data.data.response[1])));var c=0;a.data&&a.data.data&&(c=a.data.data.status||0),c===500&&window.appIsInDebugMode===!1&&(b="Looks like application is not available. Please check your connection or server availability"),this.fire("error",{message:b}),(c>=400||c===0)&&this.bus.fire("globalFailure"),a.data&&a.data.cmd&&(a.data.cmd.name!=="get"?this.bus.fire("refresh"):c===0&&this.bus.fire("destroy"))},destroy:function(){this.config.store.unbind(this),this._super()}});return c})