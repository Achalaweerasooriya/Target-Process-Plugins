define(["Underscore","tau/components/extensions/component.extension.base"],function(a,b){var c=b.extend({"bus beforeInit":function(a){this._super(a);var b=this.config.store,c=this;b.on({eventName:"failure",listener:c},c.onFailure.tauCreateDelegate(c))},onFailure:function(b){var c="Looks like application is not available. Please check your connection or server availability";b.data&&b.data.data&&(b.data.data.Message&&(c=b.data.data.Message),b.data.data.response&&(b.data.data.response.Message&&(c=b.data.data.response.Message),a.isArray(b.data.data.response)&&(c=b.data.data.response[1])));var d=0;b.data&&b.data.data&&(d=b.data.data.status||0),this.fire("error",{message:c}),(d>=400||d===0)&&this.bus.fire("globalFailure"),b.data&&b.data.cmd&&(b.data.cmd.name!=="get"?this.bus.fire("refresh"):d===0&&this.bus.fire("destroy"))},destroy:function(){this.config.store.unbind(this),this._super()}});return c})