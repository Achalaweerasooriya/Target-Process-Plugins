define(["tau/components/extensions/component.extension.base"],function(t){return t.extend({init:function(t){this._super(t);var e=this.bus.getGlobalBus();e.on("requestWasAttachedToEntity",this.onRequestsUpdates,this),e.on("requestIsDetachedFromEntity",this.onRequestsUpdates,this),e.on("bugWasMarkedAsDuplicate",this.onBugWasMarkedAsDuplicate,this)},destroy:function(){var t=this.bus.getGlobalBus();t.removeListener("requestWasAttachedToEntity",this.onRequestsUpdates,this),t.removeListener("requestIsDetachedFromEntity",this.onRequestsUpdates,this),t.removeListener("bugWasMarkedAsDuplicate",this.onBugWasMarkedAsDuplicate,this),this._super()},refreshComponentIfEntityFromCurrentContext:function(t){this.isEntityInContext(t)&&this.refresh()},onRequestsUpdates:function(t){this.refreshComponentIfEntityFromCurrentContext(t)},onBugWasMarkedAsDuplicate:function(t){var e=this.config.context.entity.id;e===t.data.bugId&&this.refresh()},refresh:function(){this.fire("evictProperty"),this.fire("refresh")}})});