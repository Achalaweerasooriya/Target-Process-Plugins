define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(t,e,n){return n.extend({"bus afterRender":function(t){this._$element=t.data.element,this._data=t.data.data,this._render()},_render:function(){if(this._timeLoadWasReported()){var e=this._calculateMaxSpentTime(),n=this._$element.find(".tau-historyGrid td.tau-historyItem");t.each(this._data.historyItems,function(t,a){var i=t.spentTime,r=n.eq(a).find(".tau-date"),s=this._calculateRelatedRoundedSpentTime(e,i);if(!isNaN(s)){var d=r.attr("title");r.addClass("tau-timeLoad-"+s).attr("title",d+" ("+i+" hours)")}},this)}},_timeLoadWasReported:function(){return t.any(this._data.historyItems,function(t){return t.spentTime>0})},_calculateMaxSpentTime:function(){return t.max(this._data.historyItems,function(t){return t.spentTime}).spentTime},_calculateRelatedRoundedSpentTime:function(t,e){var n=100*e/t,a=10*Math.round(n/10);return a}})});