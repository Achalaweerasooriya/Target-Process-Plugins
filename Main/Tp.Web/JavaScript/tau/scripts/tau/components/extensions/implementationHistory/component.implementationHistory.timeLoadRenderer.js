define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(a,b,c){return c.extend({"bus afterRender":function(a){this._$element=a.data.element,this._data=a.data.data,this._render()},_render:function(){if(this._timeLoadWasReported()){var b=this._calculateMaxSpentTime(),c=this._$element.find(".tau-historyGrid td.tau-historyItem");a.each(this._data.historyItems,function(a,d){var e=a.spentTime,f=c.eq(d).find(".tau-date"),g=this._calculateRelatedRoundedSpentTime(b,e);if(!isNaN(g)){var h=f.attr("title");f.addClass("tau-timeLoad-"+g).attr("title",h+" ("+e+" hours)")}},this)}},_timeLoadWasReported:function(){return a.any(this._data.historyItems,function(a){return a.spentTime>0})},_calculateMaxSpentTime:function(){return a.max(this._data.historyItems,function(a){return a.spentTime}).spentTime},_calculateRelatedRoundedSpentTime:function(a,b){var c=b*100/a,d=Math.round(c/10)*10;return d}})})