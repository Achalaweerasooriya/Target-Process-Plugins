define(["Underscore","tau/components/extensions/menu/extensions.menu.generalAction.menu.base","tau/ui/behaviour/menu/ui.behaviour.menu.actions","libs/jquery/jquery.ui.tauConfirm"],function(n,o){return o.extend({init:function(o){this._super.call(this,n.extend(o,{actionName:"convert"}))},setClickHandler:function(n,o,e,i,t){var a=this,s=n.find(o);s.each(function(){var o=$(this);if("convertToTask"!=o.data("alias")){var e=o.data("name"),s=o.data("id"),u={id:s,name:e},r=i.getTerms(e).name;o.tauConfirm({content:["<h3>Do you really want to convert "+t+" to "+r+"?</h3>"].join(""),onPositionConfig:function(n){n.my="left center",n.at="right center+20",n.collision="flip flip"},onArrowPositionConfig:function(n){n.offset="0 +6"},onHide:function(){n.toggleClass("sub-ui-menu_dont-hide",!1),o.find(".drop-down-option").toggleClass("drop-down-option_hover",!1)},onShow:function(){n.toggleClass("sub-ui-menu_dont-hide",!0),o.find(".drop-down-option").toggleClass("drop-down-option_hover",!0)},callbacks:{success:function(){a.fire(a.config.actionName,{entityType:u})}},zIndex:10002})}})}})});