define([],function(){function n(n,e){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;r>t;t++)if(e[t]===n)return t;return-1}var e=Object.prototype.toString,t=function(n,e){return r(e)==n},r=function(n){if("undefined"==typeof n)return"undefined";if(null===n)return"null";var t=e.call(n).match(/^\[object\s(.*)\]$/)[1]||"";switch(t){case"Number":return isNaN(n)?"nan":"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return t.toLowerCase()}return"object"==typeof n?"object":void 0},i=function(){function r(n){return'"'+n.toString().replace(/"/g,'\\"')+'"'}function i(n){return n+""}function o(n,e,t){var r=f.separator(),i=f.indent(),o=f.indent(1);return e.join&&(e=e.join(","+r+o)),e?[n,o+e,i+t].join(r):n+t}function u(n,e){var t=n.length,r=Array(t);for(this.up();t--;)r[t]=this.parse(n[t],void 0,e);return this.down(),o("[",r,"]")}var a=/^function (\w+)/,f={parse:function(e,t,r){r=r||[];var i=this.parsers[t||this.typeOf(e)];t=typeof i;var o=n(e,r);if(-1!=o)return"recursion("+(o-r.length)+")";if("function"==t){r.push(e);var u=i.call(this,e,r);return r.pop(),u}return"string"==t?i:this.parsers.error},typeOf:function(n){var r;return r=null===n?"null":"undefined"==typeof n?"undefined":t("RegExp",n)?"regexp":t("Date",n)?"date":t("Function",n)?"function":void 0!==typeof n.setInterval&&"undefined"!=typeof n.document&&"undefined"==typeof n.nodeType?"window":9===n.nodeType?"document":n.nodeType?"node":"[object Array]"===e.call(n)||"number"==typeof n.length&&"undefined"!=typeof n.item&&(n.length?n.item(0)===n[0]:null===n.item(0)&&"undefined"==typeof n[0])?"array":typeof n},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(n){if(!this.multiline)return"";var e=this.indentChar;return this.HTML&&(e=e.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(n||0)).join(e)},up:function(n){this._depth_+=n||1},down:function(n){this._depth_-=n||1},setParser:function(n,e){this.parsers[n]=e},quote:r,literal:i,join:o,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(n){var e="function",t="name"in n?n.name:(a.exec(n)||[])[1];
return t&&(e+=" "+t),e+="(",e=[e,f.parse(n,"functionArgs"),"){"].join(""),o(e,f.parse(n,"functionCode"),"}")},array:u,nodelist:u,arguments:u,object:function(n,e){var t=[];f.up();for(var r in n){var i=n[r];t.push(f.parse(r,"key")+": "+f.parse(i,void 0,e))}return f.down(),o("{",t,"}")},node:function(n){var e=f.HTML?"&lt;":"<",t=f.HTML?"&gt;":">",r=n.nodeName.toLowerCase(),i=e+r;for(var o in f.DOMAttrs){var u=n[f.DOMAttrs[o]];u&&(i+=" "+o+"="+f.parse(u,"attribute"))}return i+t+e+"/"+r+t},functionArgs:function(n){var e=n.length;if(!e)return"";for(var t=Array(e);e--;)t[e]=String.fromCharCode(97+e);return" "+t.join(", ")+" "},key:r,functionCode:"[code]",attribute:r,string:r,date:r,regexp:i,number:i,"boolean":i},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0};return f}();return i});