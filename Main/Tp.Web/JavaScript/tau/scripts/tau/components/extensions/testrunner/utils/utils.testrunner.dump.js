define([],function(){function f(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=f(c.childNodes));return b}function g(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1}var a=Object.prototype.toString,b=Object.prototype.hasOwnProperty,c=function(a,b){return d(b)==a},d=function(b){if(typeof b=="undefined")return"undefined";if(b===null)return"null";var c=a.call(b).match(/^\[object\s(.*)\]$/)[1]||"";switch(c){case"Number":return isNaN(b)?"nan":"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return c.toLowerCase()}return typeof b=="object"?"object":undefined},e=function(){function b(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}function d(a){return a+""}function e(a,b,c){var d=i.separator(),e=i.indent(),f=i.indent(1);return b.join&&(b=b.join(","+d+f)),b?[a,f+b,e+c].join(d):a+c}function f(a,b){var c=a.length,d=Array(c);this.up();while(c--)d[c]=this.parse(a[c],undefined,b);return this.down(),e("[",d,"]")}var h=/^function (\w+)/,i={parse:function(a,b,c){c=c||[];var d=this.parsers[b||this.typeOf(a)];b=typeof d;var e=g(a,c);if(e!=-1)return"recursion("+(e-c.length)+")";if(b=="function"){c.push(a);var f=d.call(this,a,c);return c.pop(),f}return b=="string"?d:this.parsers.error},typeOf:function(b){var d;return b===null?d="null":typeof b=="undefined"?d="undefined":c("RegExp",b)?d="regexp":c("Date",b)?d="date":c("Function",b)?d="function":typeof b.setInterval!==undefined&&typeof b.document!="undefined"&&typeof b.nodeType=="undefined"?d="window":b.nodeType===9?d="document":b.nodeType?d="node":a.call(b)==="[object Array]"||typeof b.length=="number"&&typeof b.item!="undefined"&&(b.length?b.item(0)===b[0]:b.item(0)===null&&typeof b[0]=="undefined")?d="array":d=typeof b,d},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;return this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(a||0)).join(b)},up:function(a){this._depth_+=a||1},down:function(a){this._depth_-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:b,literal:d,join:e,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(a){var b="function",c="name"in a?a.name:(h.exec(a)||[])[1];return c&&(b+=" "+c),b+="(",b=[b,i.parse(a,"functionArgs"),"){"].join(""),e(b,i.parse(a,"functionCode"),"}")},array:f,nodelist:f,arguments:f,object:function(a,b){var c=[];i.up();for(var d in a){var f=a[d];c.push(i.parse(d,"key")+": "+i.parse(f,undefined,b))}return i.down(),e("{",c,"}")},node:function(a){var b=i.HTML?"&lt;":"<",c=i.HTML?"&gt;":">",d=a.nodeName.toLowerCase(),e=b+d;for(var f in i.DOMAttrs){var g=a[i.DOMAttrs[f]];g&&(e+=" "+f+"="+i.parse(g,"attribute"))}return e+c+b+"/"+d+c},functionArgs:function(a){var b=a.length;if(!b)return"";var c=Array(b);while(b--)c[b]=String.fromCharCode(97+b);return" "+c.join(", ")+" "},key:b,functionCode:"[code]",attribute:b,string:b,date:b,regexp:d,number:d,"boolean":d},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0};return i}();return e})