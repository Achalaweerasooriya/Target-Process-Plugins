define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,ExtensionBase){return ExtensionBase.extend({category:"edit","bus permissionsReady+afterRender":function(eventData){var self=this,permissions=this.permissions=eventData.permissionsReady.data;if(permissions.editable){var config=this.config,$el=this.$el=eventData.afterRender.data.element,$widget=$el.hasClass("property-text")?$el:$el.find(".property-text");self.$widget=$widget,$widget.editableText({restoreText:config.restoreText?!0:!1,mask:(config||{}).mask,onSave:function(date){var $set={};$set[self.config.propertyName]=date;var savedData={$set:$set};savedData.$include=[self.config.propertyName],self.bus.fire("save",savedData)}})}},"bus edit":function(){this.permissions.editable&&this.$el.find(".property-text").editableText("activate")}})})