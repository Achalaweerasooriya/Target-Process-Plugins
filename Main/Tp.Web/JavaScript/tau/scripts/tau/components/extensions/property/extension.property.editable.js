define(["Underscore","tau/components/extensions/component.extension.base"],function(a,b){return b.extend({category:"edit","bus permissionsReady+afterRender+dataBind":function(b){var c=this,d=this.element=b.afterRender.data.element;b.afterRender.data.element.find(".external-view").click(function(a){a.stopPropagation()});var e=this.permissions=b.permissionsReady.data,f=b.dataBind.data;(!f.text||!f.text.length)&&d.find(".property").addClass("editable");if(e.editable){var g={components:[a.extend({data:f,v2:!0},this.config.editorComponentConfig)],context:c.config.context},h={target:d,componentsConfig:g,alignTo:d.find(this.config.alignElementSelector||"")};this.fire("initBubble",h)}},"bus edit":function(){this.permissions.editable&&this.fire("toggleBubble")}})})