define(["Underscore","tau/components/extensions/component.extension.base","tau/ui/behaviour/checkbox/ui.behaviour.checkboxToggle"],function(_,ExtensionBase){return ExtensionBase.extend({category:"edit","bus permissionsReady+afterRender+dataBind":function(eventData){var self=this,$element=this.element=eventData.afterRender.data.element,permissions=this.permissions=eventData.permissionsReady.data,data=eventData.dataBind.data;if(permissions.editable){var $widget=$element.find(".property .ui-checkbox");$widget.checkboxToggle({classNames:{checked:"checked",unchecked:"unchecked"},onSave:function(checked){self.fire("elementUpdated");var $cmd={};$cmd[self.config.propertyName]=checked,self.fire("save",$cmd)}})}},"bus edit":function(){this.permissions.editable&&this.element.find(".property .ui-checkbox").checkboxToggle("toggle")}})})