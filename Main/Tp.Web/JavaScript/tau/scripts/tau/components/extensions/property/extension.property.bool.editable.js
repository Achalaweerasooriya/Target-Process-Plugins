define(["Underscore","tau/components/extensions/component.extension.base","tau/ui/behaviour/checkbox/ui.behaviour.checkboxToggle"],function(a,b){return b.extend({category:"edit","bus permissionsReady+afterRender+dataBind":function(a){var b=this,c=this.element=a.afterRender.data.element;a.afterRender.data.element.find(".external-view").click(function(a){a.stopPropagation()});var d=this.permissions=a.permissionsReady.data,e=a.dataBind.data;if(d.editable){var f=c.find(".property .ui-checkbox");f.checkboxToggle({classNames:{checked:"checked",unchecked:"unchecked"},onSave:function(a){b.bus.fire("elementUpdated");var c={};c[b.config.propertyName]=a,b.bus.fire("save",c)}})}},"bus edit":function(){this.permissions.editable&&this.element.find(".property .ui-checkbox").checkboxToggle("toggle")}})})