define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,ComponentExtensionBase){return ComponentExtensionBase.extend({"bus afterRender":function(evt){var $attachmentsContainer=evt.data.element;$attachmentsContainer.delegate("[role=attachment]","click",$.proxy(this,"_onAttachmentClick"))},_onAttachmentClick:function(evt){var $target=$(evt.target),isTargetElementInsideToolbarElement=$target.closest(".toolbar").size()!=0;if(!isTargetElementInsideToolbarElement){evt.preventDefault();var $attachment=$target.closest(".ui-attach");this.bus.fire("attachmentSelected",{attachment:$attachment.data().tmplItem.data,index:$attachment.index()})}}})})