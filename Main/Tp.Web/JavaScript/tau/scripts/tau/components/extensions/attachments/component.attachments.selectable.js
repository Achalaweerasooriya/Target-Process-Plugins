define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/extensions/extension.javascript"],function(_,$,a){return a.extend({"bus afterRender":function(a){var b=a.data.element;b.delegate("[role=attachment]","click",$.proxy(this,"_onAttachmentClick"))},_onAttachmentClick:function(a){var b=$(a.target),c=b.closest(".toolbar").size()!=0;if(!c){a.preventDefault();var d=b.closest(".ui-attach");this.bus.fire("attachmentSelected",{attachment:d.data().tmplItem.data,index:d.index()})}}})})