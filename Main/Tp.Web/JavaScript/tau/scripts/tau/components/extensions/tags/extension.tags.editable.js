define(["Underscore","tau/components/extensions/component.extension.base","tau/ui/behaviour/tags/ui.behaviour.tagsEditor"],function(a,b){return b.extend({category:"edit",_afterSaveHandler:function(a){this.fire("refresh")},"bus afterSave":function(a){this._afterSaveHandler(a)},"bus beforeSave":function(a){var b=a.data.cmd.$set.tags;b&&(a.data.cmd.fields=a.data.cmd.fields||[],a.data.cmd.fields.push("tags"))},"bus permissionsReady+afterRender":function(a){var b=this,c=a.permissionsReady.data;if(c.editable)var d=a.afterRender.data.element.tagsEditor({validation:{trim:!0},onSave:function(a){b.bus.fire("elementUpdated"),b.bus.fire("save",{tags:a.join(",")}),d.addClass("data-saving")}})}})})