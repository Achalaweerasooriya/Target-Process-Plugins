define(["Underscore","tau/core/extension.base"],function(_,ExtensionBase){return ExtensionBase.extend({"bus configurator.ready":function(evt,configurator){var self=this;configurator.getRouter()&&self.fire("router.ready",configurator.getRouter())},"bus router.ready":function(evt,router){var cb=_.bind(this.fire,this,"application.navigate.entity");router.addEventListener("changed",function(evt,res){cb({id:res.id,entity:res.type})},this)},"bus router.ready+destroy":function(evt,router){router.removeAllListeners("changed",this)}})})