define(["jQuery","tau/components/extensions/component.extension.base"],function(e,n){return n.extend({"bus beforeInit":function(){var e=this;require(["libs.tests/qunit","libs.tests/tests.result","libs.tests/jquery.simulate","libs.tests/jsmock","libs.tests/jqMock"],function(){e.bus.fire("dataBind",{})})},"bus error.global":function(e){var n=e.data;module("global failure"),test("global failure",function(){ok(!1,n.message)})},"bus afterInit+afterRender":function(n){function t(){var e="true"==QUnit.urlParams.failedonly,n="true"==QUnit.urlParams.cardview&&!QUnit.urlParams.filter,t=l.find("#qunit-tests");t.hide(),e&&t.addClass("failedonly"),n&&t.addClass("cardview")}function i(){var e=l.find("#qunit-tests");e.show()}var a=function(e,n){var t=_.extend({},e);return _.each(_.keys(e),function(e){n.hasOwnProperty(e)||delete t[e]}),t};window.included=QUnit.included=function(e,n,t){var i=a(_.extend({},e),n),r=QUnit.equiv(i,n);QUnit.push(r,i,n,t)};var r=_.compact(n.afterInit.data.config.files);if(r&&0!=r.length){var l=n.afterRender.data.element,u=l.find("#qunit-header"),s=function(){var n="true"==QUnit.urlParams.failedonly,t="true"==QUnit.urlParams.cardview&&!QUnit.urlParams.filter,i=e("<label><input type='checkbox' name='failedonly'>failed only</label>"),a=i.find("input[name=failedonly]");a.attr("checked",n),a.bind("click",function(){QUnit.url({failedonly:!n})});var r=e("<label><input type='checkbox' name='cardview'>card view</label>"),l=r.find("input[name=cardview]");l.attr("checked",t),l.bind("click",function(){QUnit.url({cardview:!t})}),u.append(i),u.append(r),jQuery.fx.off=!0},d=QUnit.start;QUnit.start=function(){d.call(QUnit),s()},require(r,function(){t();var e,n=-1,a=arguments;for(n=0,e=a.length;e>n;n++)a[n]&&a[n].run();i()})}}})});