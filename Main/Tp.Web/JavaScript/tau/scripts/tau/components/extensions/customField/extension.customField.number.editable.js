define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/ui/behaviour/common/ui.behaviour.editableText","tau/ui/behaviour/customField/ui.behaviour.customField.row"],function(e,t,a){return a.extend({category:"edit",$widget:null,fieldData:null,"bus permissionsReady+afterRender":function(e){var t=this.config.context.applicationContext.culture.decimalSeparator,a=this,i=e.afterRender.data.data,n=e.permissionsReady.data;if(n.editable){var o=e.afterRender.data.element,d=o.find(".ui-customfield__value");a.$widget=d;var u="^[0-9]*(["+t+"][0-9]{0,2})?$";d.editableText({mask:u,restoreText:!1,onSave:function(e){a.bus.fire("save",{customFields:[{name:i.name,type:i.type,value:e.replace(",",".")}]})}}),o.behaviourCustomFieldRow({onActivate:function(){d.editableText("activate"),d.focus()}}),o.addClass("ui-customfield_editable_true")}},"bus validate":function(){this.$widget.editableText("resetValidationErrors")},"bus afterValidate":function(e){this.$widget.editableText("setValue",e.data.validation.instance.value)},"bus validationFailed":function(e){this.$widget.editableText("setValidationErrors",e.data.validation.errors[0].description)}})});