define(["Underscore","jQuery","tau/core/class"],function(t,e,i){return i.extend({init:function(e){this.isAxis=!0,this.dataItem=e,this.onAxisRemoved=t.Callbacks(),this.onAxisUpdated=t.Callbacks()},_findItemById:function(e,i){return t.find(e,function(t){return t.id===i})},_removeAxisCellItemById:function(e){var i=this.getAxisCellItems(),n=this._findItemById(i,e);if(n){var s=t.indexOf(i,n);i.splice(s,1)}return n},getAxisCellItem:function(e){return t.find(this.getAxisCellItems(),function(t){return t.id==e})},getAxisCellItems:function(){return this.dataItem.dynamic.items},removeAxis:function(t){var e=this._removeAxisCellItemById(t);e&&this.onAxisRemoved.fire(e)},updateAxis:function(e){var i=this.getAxisCellItems(),n=this._findItemById(i,e.data.id);n?t.extend(n,{plannedStartDate:null,plannedEndDate:null},e.data):i.push(e.data),this.onAxisUpdated.fire({card:e,diff:[]})}})});