define(["Underscore","tau/core/class","tau/utils/timeline/utils.timeline.date","tau/components/board.timeline/models/card/model.timeline.card"],function(t,e,n,a){var i=a.extend({type:"durable",_updateCore:function(t){this.isStartDateInfinite=n.isInfinite(t.plannedStartDate),this.isEndDateInfinite=n.isInfinite(t.plannedEndDate),this._super(t)},_extractMetrics:function(t){return{showPlanned:t.showPlanned,showActual:t.showActual,showFixed:t.showFixed,showForecast:t.showForecast,hasActual:t.hasActual,hasForecast:t.hasForecast,hasPlanned:t.hasPlanned,plannedLeft:t.plannedLeft,plannedWidth:t.plannedWidth,actualLeft:t.actualLeft,actualWidth:t.actualWidth,forecastLeft:t.forecastLeft,forecastWidth:t.forecastWidth}},plannedRange:function(){return{from:this.isStartDateInfinite?null:this.plannedLeft,to:this.isEndDateInfinite?null:this.plannedLeft+this.plannedWidth}},convertPlannedMetrics:function(e){return{left:e.from,width:t.isNull(e.to)?1-e.from:e.to-e.from}},applyEdit:function(t,e){this.plannedLeft=this._cardData.plannedLeft+t,this.plannedWidth=this._cardData.plannedWidth+e,this._super(t,e)},commitEdit:function(){this._cardData.plannedLeft=this.plannedLeft,this._cardData.plannedWidth=this.plannedWidth,this._super()}});return i});