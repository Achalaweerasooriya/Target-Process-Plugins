define(["Underscore","jQuery","tau/core/class","tau/ui/templates/board.timeline/ui.template.board.timeline.ruler10","tau/components/board.timeline/views/ruler/scale","tau/components/board.timeline/views/board.timeline.view.first-label"],function(e,t,i,r,l,n){var a=i.extend({init:function(e){this._$placeholder=null,this._dateRange=null,this._nowMarker=e,this._firstLabel=new n},_html:function(){var e=l.createFor(this._$placeholder.width(),this._dateRange).segments();return this._firstLabel.setLabel(e[0].firstLabel),r.get().bind({},e)},bind:function(e){this._dateRange=e,this._$placeholder&&this._doRender()},renderTo:function(e){this._$placeholder=e.find(".tau-scale-ruler"),this._$placeholder.width(e.find(".tau-timeline-flow").width()),this._dateRange&&this._doRender()},_doRender:function(){if(this._$placeholder.html(this._html()),this._nowMarker.render(this._$placeholder),this._firstLabel.isEmpty()){var e=this._$placeholder.find(".tau-ruler-segment.tau-is-period-start").first(),t=e.position(),i=e.find(".tau-notch-label");i.length>0&&i.width()/2>t.left&&(this._firstLabel.setLabel(i.html()),i.empty())}this._firstLabel.render(this._$placeholder)}});return a});