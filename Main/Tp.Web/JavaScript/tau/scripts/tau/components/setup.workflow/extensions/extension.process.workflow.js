define(["require","tau/core/extension.base","../controllers/controller.process.workflow","../models/setup.workflow.model","../services/longTaskRunner.service","../services/setup.workflow.service"],function(e){"use strict";var r=e("tau/core/extension.base"),o=e("../controllers/controller.process.workflow"),t=e("../models/setup.workflow.model"),s=e("../services/longTaskRunner.service"),n=e("../services/setup.workflow.service");return r.extend({"bus afterInit":function(e,r){this.fire("dataBind"),r.config.context.configurator.getTitleManager().set("Workflow")},"bus afterInit:last + afterRender":function(e,r,i){var l=r.config,c=l.context.configurator,a=new n(c.getStore(),c.getStore2(),c.service("errorBar"),new s),f=new t(a,l.processId,l.entityType,c.getLoggedUser().isProcessAdministrator),u=c.getFeaturesService().isEnabled("process.sub.workflows");this._controller=new o(f),this._controller.render(i.element[0],{canAddTeamWorkflow:u}).done(this.fire.bind(this,"setup.workflow.rendered",i.element))},"bus destroy":function(){this._controller.destroy(),this._controller=null}})});