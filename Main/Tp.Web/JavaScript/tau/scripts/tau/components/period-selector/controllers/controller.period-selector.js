define(["Underscore","tau/core/class","tau/components/period-selector/models/model.period-selector","tau/components/period-selector/views/view.period-selector"],function(e,n,i,t){return n.extend({init:function(){this.onInvalidDateRange=e.Callbacks()},startLifeCycle:function(e,n,t){0!==t.length&&(this.model=new i(e),this.model.load().done(this._onDateRangeLoaded.bind(this,t,n)))},_onDateRangeChanged:function(e){this.model.save(e),e.isValid||this.onInvalidDateRange.fire(e)},_onDateRangeLoaded:function(e,n,i){this.view=new t(e,n,i),this.view.dateRangeChanged.add(this._onDateRangeChanged.bind(this)),i.isValid||this.onInvalidDateRange.fire(i)}})});