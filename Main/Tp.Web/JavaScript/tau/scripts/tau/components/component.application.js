define(["tau/components/component.application.generic","tau/services/service.navigator","tau/ui/extensions/page/ui.extension.page.print"],function(ApplicationComponent,ServiceNavigator,ExtensionPrint){return{create:function(componentConfig){var configurator=componentConfig.context.configurator;return configurator.registerService("navigator",new ServiceNavigator(configurator,{parameterName:componentConfig.options.applicationId||null})),componentConfig.routes=[{pattern:/^$/,adapter:function(){var url=this.configurator.getRouting().getReferer();url?this.configurator.service("navigator").to(url):this.fire("application.exit")},host:{name:"empty_host",type:"master.empty"},type:{name:"entity_page",type:"page.entity"}},{pattern:/(\w+)\/([0-9]+)($|\s|&)/,adapter:function(entityType,entityId){this.resolve({entity:{id:parseInt(entityId,10),type:entityType},action:"show"})},host:{name:"empty_host",type:"master.empty"},type:{name:"entity_page",type:"page.entity"}},{pattern:/(\w+)\/([0-9]+)\/print/,adapter:function(entityType,entityId,action){this.resolve({entity:{id:parseInt(entityId,10),type:entityType},action:"print"})},host:{name:"empty_host",type:"master.empty"},type:{name:"entity_page",type:"page.entity",hostClassName:"tau-page-entity",extensions:[ExtensionPrint]}},{pattern:/(\w+)\/([0-9]+)\/(\w+)[&|]*.*/,adapter:function(entityType,entityId,action){this.resolve({entity:{id:parseInt(entityId,10),type:entityType},action:action})},host:{name:"empty_host",type:"master.empty"},type:{name:"entity_page",type:"page.entity",hostClassName:"tau-page-entity"}}],ApplicationComponent.create(componentConfig)}}})