define(["require","Underscore","tau/core/class","./../board.menu.config","tau/services/service.board.access"],function(t){var e=t("Underscore"),a=t("tau/core/class"),i=t("./../board.menu.config"),r=t("tau/services/service.board.access");return a.extend({init:function(t,a){this._urlService=t,this.boardUpdated=e.Callbacks(),this._applyBoardData(a),this.edit=!1},updateBoardData:function(t){this._applyBoardData(t),this.boardUpdated.fire(this)},getUpdatedBoardData:function(t){var a=e.extend(e.deepClone(this.storedViewData||{}),t);return e.defaults(a,{isFavorite:!1})},getCanChangeGroup:function(t){return r.isEditable(this.storedViewData,t)},getIsPrivate:function(){return!this.isShared},getIsCustomShared:function(){return this.isShared&&this.customSharedData&&this.customSharedData.isActive},applyGlobalAcidSilently:function(){this._updateLink()},_applyBoardData:function(t){var a=this.getUpdatedBoardData(t);this.storedViewData=a;var r=e.pick(a,i.watchedBoardSettingsFields);r.boardId=a.key||a.id,r.name=r.name||r.boardId,r.itemType=a.itemType,e.extend(this,r),this._updateLink()},_updateLink:function(){this.link=this._urlService.getViewUrl(this.storedViewData)}})});