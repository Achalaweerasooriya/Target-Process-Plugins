define(["require","Underscore","tau/core/injector","tau/services/boards/view.types"],function(e){var t=e("Underscore"),o=e("tau/core/injector"),r=e("tau/services/boards/view.types");return o.defineModule(["boardsOperationsService","boardMenuModel"],function(e,o){return{shouldRender:function(e){return e.isEditable},getMenuItemClassName:t.constant("i-role-menu-action-remove drop-down-option-danger"),getContent:t.constant("Remove with Views"),getTooltipText:t.constant("Remove this Group with its Views"),whenRendered:function(e,o){o.tauConfirm({content:"<h3>You are about to delete this Group and all of its Views. Do you really want to do that?</h3>",callbacks:{success:function(){taus.track({action:"remove group with views",groupData:t.pick(e.group,"menuIsVisible","isFavorite","isShared"),tags:["viewsMenu"]}),this._performRemove(e),e.destroyBubble()}.bind(this)},zIndex:1e3})},_performRemove:function(i){var n=i.group.groupId,s=t.filter(o.viewMenuSections.getAllBoards(),function(e){return e.menuGroupKey===n}),u=t.pluck(s,"boardId"),a=t.contains(u,i.currentBoardId);if(a){var c=o.viewMenuSections.findFirstVisibleViewData(u),d=c?c.key:null,l=c?c.acid:null,p=c?c.itemType:r.BOARD;return e.removeGroupWithViewsAndRedirect(n,p,d,l)}e.removeGroupWithViews(n)}}})});