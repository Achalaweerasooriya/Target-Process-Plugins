define(["Underscore","jQuery"],function(t,e){var o=".i-role-view-menu-header";return{componentDidMount:function(){var t=e(this.getDOMNode());this._initTooltips(t)},componentWillUpdate:function(){var t=e(this.getDOMNode());this._removeOldTooltips(t)},_initTooltips:function(t){t.on("mouseenter",o,function(t){if(this._isMenuCollapsed()){var n=e(t.currentTarget),i=n.closest(o),a=this._getContainerForTooltip(i);a.data("ui-tauBubble")||this._createBubble(i,a),a.tauBubble("show")}}.bind(this))},_createBubble:function(t,e){var o="<span>"+t.text()+"</span>";e.tauBubble({alignTo:t,content:o,template:['<div class="tau-bubble-board">','<div class="tau-bubble-board__inner tau-container" role="content"></div>',"</div>"].join(""),zIndex:105,className:"tau-bubble-tooltip t3-view-menu-tooltip",showEvent:"foo",hideEvent:"mouseleave",stackName:"viewmenu",mode:"tooltip",onShow:function(t){t.toggleClass("t3-active",e.hasClass("t3-active")),t.toggleClass("t3-hidden",e.hasClass("t3-hidden"))},onPositionConfig:function(t){t.at="right center",t.my="left center"}})},_removeOldTooltips:function(n){var i=n.find(o);t.each(i,function(t){var o=e(t),n=this._getContainerForTooltip(o);n.data("ui-tauBubble")&&n.tauBubble("destroy")},this)},_isMenuCollapsed:function(){return e(".tau-app-body").hasClass("tau-sp-collapsed")},_getContainerForTooltip:function(t){return t.parent().closest("div")}}});