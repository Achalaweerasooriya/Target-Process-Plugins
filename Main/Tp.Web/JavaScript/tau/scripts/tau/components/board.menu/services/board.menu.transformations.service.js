define(["require","Underscore"],function(r){var e=r("Underscore");return{applyBoardFilter:function(r,t){if(!t)return r;t=t.replace(/([^\w\s])/g,"\\$1").split("").join(".*");var i=new RegExp(t,"i");return e.filter(r,function(r){return i.test(r.name)})},getVisibleBoards:function(r,t){var i=this.applyBoardFilter(r,t.filterText);return t.showHidden||t.filterText?i:e.filter(i,function(r){return r.menuIsVisible||r.boardId===t.currentBoardId})},getVisibleViewGroups:function(r,t){return t.showHidden?r:e.filter(r,function(r){return r.menuIsVisible||r.hasBoard(t.currentBoardId)?!0:t.filterText?this.getVisibleBoards(r.boards,t).length:void 0},this)},getDefaultFocusedBoardId:function(r,t){if(!t.filterText)return"";var i=e.flatMap(r,e.property("boards")),n=this.getVisibleBoards(i,t),o=n[0];return o?o.boardId:""}}});