define(["require","Underscore","tau/services/context.menu/context.menu.service","./context.menu.items/rename","./context.menu.items/access","./context.menu.items/owners","./context.menu.items/board.toggle.favorite","./context.menu.items/board.toggle.visibility","./context.menu.items/board.remove","./context.menu.items/board.setup","./context.menu.items/board.open.tab","./context.menu.items/group.toggle.favorite","./context.menu.items/group.toggle.visibility","./context.menu.items/group.ungroup","./context.menu.items/group.remove","tau/ui/behaviour/common/ui.behaviour.editableText"],function(e){var t=e("Underscore"),o=e("tau/services/context.menu/context.menu.service"),r=e("./context.menu.items/rename"),i=e("./context.menu.items/access"),s=e("./context.menu.items/owners"),c=e("./context.menu.items/board.toggle.favorite"),n=e("./context.menu.items/board.toggle.visibility"),u=e("./context.menu.items/board.remove"),a=e("./context.menu.items/board.setup"),m=e("./context.menu.items/board.open.tab"),d=e("./context.menu.items/group.toggle.favorite"),l=e("./context.menu.items/group.toggle.visibility"),g=e("./context.menu.items/group.ungroup"),v=e("./context.menu.items/group.remove");return e("tau/ui/behaviour/common/ui.behaviour.editableText"),o.extend({init:function(e,t,o,h){this._serviceScope=h,this._boardAccessService=e,this._boardMenuScrollService=t,this._loggedUser=o,this._boardMenuItems=[this._serviceScope.createModule(a),this._createSeparator(),this._serviceScope.createModule(m),this._serviceScope.createModule(r("board")),this._serviceScope.createModule(i("board")),this._serviceScope.createModule(s("board")),this._serviceScope.createModule(c),this._serviceScope.createModule(n),this._createSeparator(),this._serviceScope.createModule(u)],this._groupMenuItems=[this._serviceScope.createModule(r("group")),this._serviceScope.createModule(i("group")),this._serviceScope.createModule(s("group")),this._serviceScope.createModule(d),this._serviceScope.createModule(l),this._createSeparator(),this._serviceScope.createModule(g),this._serviceScope.createModule(v)]
},_isElementVisible:function(e){return this._boardMenuScrollService.isMenuElementVisible(e)},_getContainerSelector:t.constant(".i-role-board-menu"),_getScrollContainerSelector:t.constant(".t3-views-catalog"),showMenuForBoard:function(e,t,o,r){var i={itemId:t.boardId,board:t,group:o,isCurrentBoard:r,$target:e,isEditable:this._boardAccessService.isEditable(t,this._loggedUser)};this._showMenu(this._boardMenuItems,i)},showMenuForGroup:function(e,t,o){var r={itemId:t.groupId,group:t,currentBoardId:o,$target:e,isEditable:this._boardAccessService.isEditable(t,this._loggedUser),user:this._loggedUser};this._showMenu(this._groupMenuItems,r)}})});