define(["require","Underscore","tau/services/context.menu/context.menu.service","./context.menu.items/rename","./context.menu.items/access","./context.menu.items/board.toggle.favorite","./context.menu.items/board.toggle.visibility","./context.menu.items/board.remove","./context.menu.items/board.setup","./context.menu.items/board.open.tab","./context.menu.items/group.toggle.favorite","./context.menu.items/group.toggle.visibility","./context.menu.items/group.ungroup","tau/ui/behaviour/common/ui.behaviour.editableText"],function(e){var t=e("Underscore"),o=e("tau/services/context.menu/context.menu.service"),i=e("./context.menu.items/rename"),r=e("./context.menu.items/access"),s=e("./context.menu.items/board.toggle.favorite"),c=e("./context.menu.items/board.toggle.visibility"),n=e("./context.menu.items/board.remove"),u=e("./context.menu.items/board.setup"),a=e("./context.menu.items/board.open.tab"),m=e("./context.menu.items/group.toggle.favorite"),d=e("./context.menu.items/group.toggle.visibility"),l=e("./context.menu.items/group.ungroup");return e("tau/ui/behaviour/common/ui.behaviour.editableText"),o.extend({init:function(e,t,o,g){this._serviceScope=g,this._boardAccessService=e,this._boardMenuScrollService=t,this._loggedUser=o,this._boardMenuItems=[this._serviceScope.createModule(u),this._createSeparator(),this._serviceScope.createModule(a),this._serviceScope.createModule(i("board")),this._serviceScope.createModule(r("board")),this._serviceScope.createModule(s),this._serviceScope.createModule(c),this._createSeparator(),this._serviceScope.createModule(n)],this._groupMenuItems=[this._serviceScope.createModule(i("group")),this._serviceScope.createModule(r("group")),this._serviceScope.createModule(m),this._serviceScope.createModule(d),this._createSeparator(),this._serviceScope.createModule(l)]},_isElementVisible:function(e){return this._boardMenuScrollService.isMenuElementVisible(e)},_getContainerSelector:t.constant(".i-role-board-menu"),_getScrollContainerSelector:t.constant(".t3-views-catalog"),showMenuForBoard:function(e,t,o,i){var r={itemId:t.boardId,board:t,group:o,isCurrentBoard:i,$target:e,isEditable:this._boardAccessService.isEditable(t,this._loggedUser)};
this._showMenu(this._boardMenuItems,r)},showMenuForGroup:function(e,t){var o={itemId:t.groupId,group:t,$target:e,isEditable:this._boardAccessService.isEditable(t,this._loggedUser),user:this._loggedUser};this._showMenu(this._groupMenuItems,o)}})});