define(["require","Underscore","tau/core/class","react","tau/components/board.menu/views/board.menu.actions.menu.item"],function(e){var t=e("Underscore"),n=e("tau/core/class"),i=e("react"),o=e("tau/components/board.menu/views/board.menu.actions.menu.item"),s=n.extend({createReactMenuItem:function(e){var n=function(){e.onActivate&&e.onActivate()===!1||this.toggleNewItemMenu(!1)}.bind(this);return i.createElement(o,t.defaults({onActivate:n},e))},init:function(e,t){this._onAddItem=e,this._onToggleVisibility=t},addReactMenuItem:function(e){this._onAddItem(e)},toggleNewItemMenu:function(e){this._onToggleVisibility(e)}});return n.extend({init:function(){this._actionsMenuItems=[],this.actionsMenuItemsUpdated=t.Callbacks(),this.newItemMenuToggled=t.Callbacks()},getActionsMenuExtender:function(){return new s(this._onAddMenuItem.bind(this),this._onToggleNewItemMenu.bind(this))},getCustomActionsMenuItems:function(){return t.clone(this._actionsMenuItems)},_onAddMenuItem:function(e){this._actionsMenuItems.push(e),this.actionsMenuItemsUpdated.fire()},_onToggleNewItemMenu:function(e){this.newItemMenuToggled.fire(e)}})});