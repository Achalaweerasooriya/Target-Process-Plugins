define(["require","Underscore","tau/core/class","./../board.menu.config"],function(i){var t=i("Underscore"),s=i("tau/core/class"),e=i("./../board.menu.config");return s.extend({init:function(i){this.settingsUpdated=t.Callbacks(),this._service=i,this._initSubscriptions()},getCurrentSettings:function(){return this._service.settings},getCurrentService:function(){return this._service},setNewBoardSettingsService:function(i){var t=this._service;t!==i&&(this._disposeSubscriptions(),this._service=i,this._initSubscriptions(),this.settingsUpdated.fire(i.settings))},_initSubscriptions:function(){this._service.bind({listener:this,fields:e.watchedBoardSettingsFields,callback:function(){this.settingsUpdated.fire(this._service.settings)}.bind(this)})},_disposeSubscriptions:function(){this._service.unbind({listener:this})},destroy:function(){this._disposeSubscriptions()}})});