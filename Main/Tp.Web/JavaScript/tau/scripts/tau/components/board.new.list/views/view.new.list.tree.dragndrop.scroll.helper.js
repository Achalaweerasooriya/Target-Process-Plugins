define(["require","jQuery","tau/core/class"],function(t){var e=t("jQuery"),r=t("tau/core/class"),i=r.extend({init:function(t){this._sortable=t},sortableScrollParent:function(t,r){var i=r[0].ownerDocument||document,s=r.css("position");if("fixed"===s)return e(i);var n="absolute"===s,o=/(auto|scroll)/,l=!1,a=r.parents().filter(function(){if(l)return!1;var r=!1,i=e(this);if(!n||"static"!==i.css("position")){var s=i.css("overflow-x"),a=i.css("overflow-y"),c=o.test(i.css("overflow")),h=o.test(s),u=o.test(a);switch(t.options.axis){case"x":r=h||c&&h||c&&!s;break;case"y":r=u||c&&u||c&&!a;break;default:r=h||u||c&&!(s&&a)}}return l=r,r}).eq(0);return a.length?a:e(i)},saveScrollPosition:function(){this.scrollTop=this._$getScrollParentLazy()[0].scrollTop},restoreScrollPosition:function(){this._$getScrollParentLazy()[0].scrollTop=this.scrollTop},lockScrollHeight:function(){var t=this._$getParentInsideScrollLazy();t.data("originMinHeight",t.css("min-height")),t.css("min-height",t.height())},unlockScrollHeight:function(){var t=this._$getParentInsideScrollLazy(),e=t.data("originMinHeight");e?(t.css("min-height",e),t.removeData("originMinHeight")):t.css("min-height","")},_$getScrollParentLazy:function(){return this._$scrollParent||(this._$scrollParent=this.sortableScrollParent(this._sortable,this._sortable.element)),this._$scrollParent},_$getParentInsideScrollLazy:function(){return this._$parentInsideScroll||(this._$parentInsideScroll=this._$getScrollParentLazy().children().has(this._sortable.element)),this._$parentInsideScroll}});return i});