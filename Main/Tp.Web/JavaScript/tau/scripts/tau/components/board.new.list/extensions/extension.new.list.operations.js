define(["Underscore","jQuery","tau/core/extension.base","tau/components/board.new.list/models/comet.dispatcher"],function(e,t,o,a){return o.extend({init:function(e,t){this.model=t,this._super(e)},"bus comet.tick":function(e,t){this.fire("operation.execute",t.data)},"bus configurator.ready:last + operation.execute":function(e,t,o){t.getFeaturesService().isEnabled("newlist.operations")&&this.executeCometOperation(o)},executeCometOperation:function(t){var o=e.map(t.items,this._getOperationData.bind(this,t));this._executeOperations(o)},_getOperationData:function(t,o){var a=e.cloneDeep(o.data);return a.path=a.path||[],{name:(o.modification||t.name).toLowerCase(),path:a.path,card:a.dataItem||a.data,levelType:o.levelType,shouldBePropagated:o.shouldBePropagated,level:o.level,options:t.options,items:t.items,reason:t.reason}},_executeOperations:function(e){a.tryDispatchOperations(this.model._rootModel,e)&&this.fire("operation.execute.done")}})});