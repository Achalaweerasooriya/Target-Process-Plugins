define(["Underscore","tau/components/board.new.list/destroyable","tau/components/board.new.list/views/editors/editor.utils"],function(t,i,n){return i.extend({init:function(i,n,d,e,s){this._card=i,this._$card=d,this._$unit=e,this.unitEditorUpdating=t.Callbacks(),this.unitEditorUpdated=t.Callbacks(),this.unitEditFinished=t.Callbacks(),this._initEditorComponentSubscriptions(s)},_initEditorComponentSubscriptions:function(t){var i=function(i,n){t[i].add(function(){this[n].fire({cardId:this._card.getId(),cardType:this._card.getEntityType()})}.bind(this))}.bind(this);i("editorSaving","unitEditorUpdating"),i("editorSaved","unitEditorUpdated"),i("editFinished","unitEditFinished"),t.cleanedUp.add(this._cleanUp.bind(this))},toggleFocus:function(t){this._$card.toggleClass("tau-card_focusedit_true",t)},toggleBusyIndicator:function(t){n.toggleElementBusyIndicator(this._$unit,t)},_cleanUp:function(){this.unitEditorUpdating.empty(),this.unitEditorUpdated.empty(),this.unitEditFinished.empty()}})});