define(["Underscore","jQuery","tau/core/class"],function(t,e,i){var n=e.ui.ie&&function(t){t=t.toLowerCase();var e=/(msie) ([\w.]+)/.exec(t)||[],i=parseInt(e[2])||0;return 11>i}(navigator.userAgent);return i.extend({MIN_UNIT_WIDTH:90,MAX_UNIT_WIDTH:600,init:function(t,i,n){var h=e(t).data()||{};this.unitId=h.unitId,this.minWidth=h.minWidth||0,this.maxWidth=h.maxWidth||Number.MAX_VALUE,this.className=".tau-list-"+this.unitId+"-cell",this.layoutKey=i,this.$items=n.find(".i-role-card "+this.generateCssSelector()),this.hasItems=this.$items.length>0,this.headerLayoutItem=t},_getElementWidth:n?function(t){var e=Math.ceil(t.getBoundingClientRect().width||0),i=t.scrollWidth;return Math.min(e,i+1)}:function(t){var e=Math.ceil(t.getBoundingClientRect().width||0);return e},generateCssSelector:function(){return".tau-elems-table-level-"+this.layoutKey+" "+this.className},getHeaderWidth:function(){return this._getElementWidth(this.headerLayoutItem)},getContentWidth:function(){var e=this.hasItems?t.map(this.$items,this._getElementWidth,this):[0];return Math.max.apply(Math,e)},calculateWidth:function(){var t=this.getHeaderWidth(),e=this.getContentWidth(),i=Math.max(t,e,this.minWidth,this.MIN_UNIT_WIDTH);return i=Math.min(i,this.maxWidth,this.MAX_UNIT_WIDTH),{selector:this.generateCssSelector(),hasItems:this.hasItems,header:t,content:e,calculated:i}}})});