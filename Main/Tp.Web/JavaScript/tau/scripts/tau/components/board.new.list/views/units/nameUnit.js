define(["require","tau/components/board.new.list/views/units/unit"],function(t){var e=t("tau/components/board.new.list/views/units/unit"),n=e.extend({MIN_UNIT_WIDTH:300,LEVEL_INDENTATION:25,COLLAPSER_WIDTH:15,HORIZONTAL_CELL_MARGIN:5,init:function(t,e,n,i){this._super(t,e,n,i),this.$container=n},setupWidth:function(t,e){var i,r=this.getHeaderWidth(),o=this.getContentWidth()+n.prototype.HORIZONTAL_CELL_MARGIN,s=Math.max(this.minWidth,this._configuredMinWidth,r);if(s>o)i=s;else{var u=t.width(),a=u-e;i=a>o?o:Math.max(a,s)-n.prototype.HORIZONTAL_CELL_MARGIN}return this.setupForcedWidth(i)},setupForcedWidth:function(t){return{selector:this.generateCssSelector(),calculated:this.adjustNameColumnWidthForLevel(t)}},adjustNameColumnWidthForLevel:function(t){return t-n.getLevelIndentation(this.layoutKey,this.$container)}});return n.getLevelIndentation=function(t,e){if("0"===t)return 0;var i=e.find(".tau-list-caption .tau-elems-table-level-"+t+" .tau-list-collapser-cell"),r=i.length?0:n.prototype.COLLAPSER_WIDTH,o=t.indexOf("_"),s=o>0?t.substring(0,o):t,u=parseInt(s,10);return u*n.prototype.LEVEL_INDENTATION-r},n});