define(["Underscore","jQuery","tau/core/class"],function(i,d,t){return t.extend({init:function(d,t){this.treeView=d,this.quickAddModel=t,this.showQuickAddClicked=i.Callbacks(),this.quickAddModel.dataLoaded.add(this.renderPossibleActions,this),this.renderPossibleActions()},renderPossibleActions:function(){if(this.quickAddModel.data){var t=this.treeView.findHeaderHolder(),e=t.find(".i-role-quick-add-holder");e.find("button.tau-list-quick-add").remove();var s=d('<button class="tau-list-quick-add tau-btn tau-success"></button>');e.append(s),s.on("click",this._onShowQuickAddClicked.bind(this,{target:s})),t.on("dblclick",this._onShowQuickAddClicked.bind(this,{target:s}));var o=s.closest(".tau-board-list-view__inner");o.on("scroll",i.debounce(function(){s.data("ui-tauBubble")&&s.tauBubble("adjustPosition")},200))}},_onShowQuickAddClicked:function(i){i.target.parent().hasClass("tau-quick-add_expand")||this.showQuickAddClicked.fire(i)},destroy:function(){this.quickAddModel.dataLoaded.remove(this)}})});