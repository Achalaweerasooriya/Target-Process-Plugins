define(["Underscore","tau/core/controller.base"],function(e,i){return i.extend({init:function(i,n){this._treeModel=n,this._treeModel.pagingUpdated.add(function(){i.update(n)}),this._treeModel.pagingLoadingStarted.add(function(){i.showProgress()}),this._pagingView=i;var t=function(i,t){taus.track({action:t+" page",cardTypes:e.map(n.hierarchyMetaInfo.cardTypes,function(e){return e.typeName}),pageSize:n.pagingModel.pageSize,pagingType:i,skip:n.pagingModel.getSkip(),cardCount:n.nodes.items.length,tags:["newlist"]})};this._pagingView.nextPageClicked.add(function(e){n.goToNextPage().then(function(){t(e.pagingType,e.direction)})}),this._pagingView.prevPageClicked.add(function(e){n.goToPreviousPage().then(function(){t(e.pagingType,e.direction)})}),this._pagingView.lastPageClicked&&this._pagingView.lastPageClicked.add(function(e){n.goToLastPage().then(function(){t(e.pagingType,e.direction)})}),this._pagingView.firstPageClicked&&this._pagingView.firstPageClicked.add(function(e){n.goToFirstPage().then(function(){t(e.pagingType,e.direction)})}),this._pagingView.pageSizeChanged.add(e.bind(this._pageSizeChangedHandler,this))},startLifeCycle:function(){this._pagingView.render(this._treeModel)},_pageSizeChangedHandler:function(e){this._treeModel.setPageSize(e),taus.track({action:"page size",pageSize:e,tags:["newlist"]})}})});