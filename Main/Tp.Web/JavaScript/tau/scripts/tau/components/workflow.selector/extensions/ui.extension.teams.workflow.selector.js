define(["require","Underscore","libs/react/react-ex","tau/ui/extensions/board.context.selector/ui.extension.board.context.selector.add.abstract","jsx!tau/components/workflow.selector/views/workflowSelectors","tau/components/process.menu/models/workflow.entitytypes.order"],function(e){"use strict";var t=e("Underscore"),o=e("libs/react/react-ex"),s=e("tau/ui/extensions/board.context.selector/ui.extension.board.context.selector.add.abstract"),r=e("jsx!tau/components/workflow.selector/views/workflowSelectors"),n=e("tau/components/process.menu/models/workflow.entitytypes.order");return s.extend({"bus afterInit":function(e,t){var o=t.config.allData;if("object"!=typeof o.data)throw new Error("Team workflow selector may not be initialized. Initial data is not object: "+o.data);this.fire("dataBind",o)},"bus dataBind:last + afterRender":function(e,s,a){var d=s.data.defaultProcessId,i={process:t.extend(s.data.processes[d],{id:d}),entityTypes:n,groups:s.data.groups,onWorkflowChanged:this.fire.bind(this,"customizedWorkflow"),resetOnProcessChange:s.data.resetOnProcessChange};this._workflowSelectors=o.renderClass(r,i,a.element[0])},"bus dataBind:last + processChanged":function(e,o,s){this._workflowSelectors.setProps({process:t.extend(o.data.processes[s.id],{id:s.id})})},"bus dataBind:last + projectChanged":function(e,o,s){var r=o.data.groups[s.id];this._workflowSelectors.setProps({process:t.extend(o.data.processes[r],{id:r}),selectedGroupId:s.id})},"bus teamChanged":function(e,t){this._workflowSelectors.setProps({selectedGroupId:t.id})},"bus afterRender:last + destroy":function(e,t){o.unmountComponentAtNode(t.element[0])}})});