define(["require","tau/core/class","Underscore","jQuery","./dashboard.widget.template.default.source.lists","./dashboard.widget.template.default.source.reports","../widget.templates/dashboard.widget.latest.comments.template","../widget.templates/dashboard.widget.follow.activity.template","../widget.templates/todo.list/todo.widget.template","../widget.templates/new.list/linked/new.list.linked.widget.template","../widget.templates/custom.report/linked/custom.report.linked.template","../widget.templates/burn.down.chart.widget","../widget.templates/tableau.report/tableau.report.template","jsx!./../widget.templates/sample.widget","./../widget.templates/sample.context.widget","../widget.templates/sample.resize.widget","jsx!../widget.templates/sample.async.widget"],function(e){var t=e("tau/core/class"),a=e("Underscore"),s=e("jQuery"),i=e("./dashboard.widget.template.default.source.lists"),d=e("./dashboard.widget.template.default.source.reports"),r=e("../widget.templates/dashboard.widget.latest.comments.template"),l=e("../widget.templates/dashboard.widget.follow.activity.template"),o=e("../widget.templates/todo.list/todo.widget.template"),p=e("../widget.templates/new.list/linked/new.list.linked.widget.template"),m=e("../widget.templates/custom.report/linked/custom.report.linked.template"),g=e("../widget.templates/burn.down.chart.widget"),w=e("../widget.templates/tableau.report/tableau.report.template"),n=e("jsx!./../widget.templates/sample.widget"),u=e("./../widget.templates/sample.context.widget"),c=e("../widget.templates/sample.resize.widget"),h=e("jsx!../widget.templates/sample.async.widget"),f=[n(),n({id:"sample_widget_max_height",name:"Sample widget (max height)",maxHeight:250}),n({id:"sample_widget_aspect_ration",name:"Sample widget (aspect ratio)",aspectRatio:4/3})];return t.extend({id:"default",init:function(e){this._configurator=e,this._featuresService=e.getFeaturesService()},getWidgetTemplates:function(){var e=this._getSampleWidgets();e.push(p(this._configurator)),e.push(r(this._configurator)),e.push(l(this._configurator)),e.push(o(this._configurator)),e=e.concat(i.getCustomListTemplates(this._configurator)),this._featuresService.isEnabled("customReports")&&(e.push(m(this._configurator)),e=e.concat(d.getCustomReportTemplates(this._configurator))),e.push(g(this._configurator)),e.push(w);
var t=a.map(e,s.when);return s.Deferred().resolve(t)},_getSampleWidgets:function(){return this._featuresService.isEnabled("dashboard.sample.widgets")?a.toArray(f).concat(u(),c(),h()):[]}})});