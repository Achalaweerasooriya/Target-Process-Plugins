define(["require","Underscore","libs/react/react-ex","jsx!tau/components/latest.comments/dashboard.widget.latest.comments","jsx!tau/components/latest.comments/dashboard.widget.latest.comments.settings","tau/components/latest.comments/dashboard.widget.latest.comments.constants","tau/components/latest.comments/dashboard.widget.latest.comments.service"],function(t){var e=t("Underscore"),s=t("libs/react/react-ex"),n=t("jsx!tau/components/latest.comments/dashboard.widget.latest.comments"),o=t("jsx!tau/components/latest.comments/dashboard.widget.latest.comments.settings"),a=t("tau/components/latest.comments/dashboard.widget.latest.comments.constants"),c=t("tau/components/latest.comments/dashboard.widget.latest.comments.service");return function(t){return{id:"latest_comments",name:"Latest Comments",previewSrc:"../img/widgets/general-lastcomments.png",description:"Show all the latest comments or only when it is related to you",tags:["Lists"],insert:function(o,a,r){a=e.extend({acid:r.context.acid,service:new c(t)},a);var m=s.renderClass(n,a,o);return{update:m.setProps.bind(m),updateContext:function(t){m.setProps({acid:t.acid})},destroy:function(){s.unmountComponentAtNode(o)}}},insertSettings:function(t,e){var n=s.renderClass(o,{initialSource:e.source},t);return function(){return{source:n.state.source}}},defaultSettings:{source:a.SOURCE_RELATED_TO_ME}}}});