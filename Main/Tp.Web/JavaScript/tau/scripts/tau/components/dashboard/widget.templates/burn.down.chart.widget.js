define(["jQuery","tau/components/component.burn.down.report","tau/components/component.burn.down.filter"],function(e,n,t){return function(r){return{id:"burnDownChart",name:"Burn Down Chart",previewSrc:"../img/widgets/reports-burndown.png",description:"The Burn Down chart is a graphical representation of work left to do versus time",tags:["Reports"],insert:function(t,i){var o={context:{configurator:r},placeholder:t,name:"burnDownChart",template:["<div></div>"],defaultSettings:i,axes:{x:{labelSlope:"slope"}}},a=n.create(o);return a.fire("initialize",o),a.fire("settings.changed",i),{update:function(e){a.fire("settings.changed",e)},updateContext:function(e){a.fire("acid.changed",e.acid)},resize:function(){a.fire("resize",{width:e(t).width()})}}},insertSettings:function(n,i){var o={settings:i,findPlannableFilter:function(e){e(this.settings)},savePlannableFilter:function(e){this.settings=e}},a=e(n),s={context:{configurator:r},name:"burnDownChartFilter",template:["<div></div>"],storage:o};a.addClass("tau-widget-settings--burn-down");var u=t.create(s),d=e.Deferred(),c=e.Deferred(),f=e.Deferred();return u.on("afterRender",function(e,n){c.resolve(n.element)}),u.on("filter.afterRender",function(){f.resolve()}),e.when(c,f).then(function(e){a.append(e),d.resolve(function(){return o.settings})}),u.fire("initialize",s),d}}}});