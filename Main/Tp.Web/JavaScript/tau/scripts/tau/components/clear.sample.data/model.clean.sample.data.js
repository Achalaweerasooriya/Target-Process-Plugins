define(["Underscore","jQuery","tau/core/extension.base","tau/utils/utils.sampleData"],function(e,t,i,a){return i.extend({"bus beforeInit":function(e,t){this._getConfigurator(t).getSampleDataService().sampleData().done(function(e){e.isVisible=!e.isEmpty&&this._getConfigurator(t).getLoggedUser().isAdministrator,this.fire("dataBind",e)}.bind(this))},"bus beforeInit + afterRender":function(e,i,n){var r=t(n.element),o=r.find(".i-role-clear_sample_data");o.length>0&&o.click(function(){var e=n.data;if(confirm(a.buildConfirmationString(e))){r.addClass("active");var t=i.config.context.configurator.service("errorBar");this._getConfigurator(i).getSampleDataService().clearSampleData(e).done(function(){t.fire("notification",{message:"Sample data was cleared successfully"}),o.hide()}).fail(function(e){t.fire("error",{message:e.statusText})}).always(function(){r.removeClass("active")})}}.bind(this))},_getConfigurator:function(e){return e.config.context.configurator}})});