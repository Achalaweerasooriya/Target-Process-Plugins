define(["Underscore","tau/core/extension.base","tau/utils/utils.sampleData"],function(e,t,i){return t.extend({"bus beforeInit":function(e,t){this._getConfigurator(t).getSampleDataService().sampleData().done(function(e){e.isVisible=!e.isEmpty&&this._getConfigurator(t).getLoggedUser().isAdministrator,this.fire("dataBind",e)}.bind(this))},"bus beforeInit + afterRender":function(e,t,a){var n=$(a.element),r=n.find(".i-role-clear_sample_data");r.length>0&&r.click(function(){{var e=a.data;n.find(".i-role-loader")}if(confirm(i.buildConfirmationString(e))){n.addClass("active");var o=t.config.context.configurator.service("errorBar");this._getConfigurator(t).getSampleDataService().clearSampleData(e).done(function(){o.fire("notification",{message:"Sample data was cleared successfully"}),r.hide()}).fail(function(e){o.fire("error",{message:e.statusText})}).always(function(){n.removeClass("active")})}}.bind(this))},_getConfigurator:function(e){return e.config.context.configurator}})});