define(["Underscore","tau/views/view.container","tau/components/component.tabsHeader"],function(_,ViewType){var tabsView=ViewType.extend({startLifeCycle:function(evt){var self=this;self.setDefaultConfig(),_.extend(self.config,(evt||{}).data),self.config=this.processConfig(self.config),self.fire("beforeInit",{config:self.config})},"bus beforeInit + state.processed":function(){var self=this,children=self.config.children;self.children=[];var loadDependencies=_.isArray(children)&&_.size(children)>0&&self.config.visible;if(loadDependencies){var components=self.config.children,context=self.config.context||{};this.fire("createComponents",{components:components,context:context})}else self.completeInitializationWithoutChildren()},processConfig:function(configRef){var self=this;return self._selectedIndex=-1,this.additionalHeaderTabIndexList={},this.tabsHeader={type:"tabsHeader",children:[]},this.panels=[],_.each(configRef.tabs,this.addTabInfo,this),_.each(configRef.additionalHeaders||[],this.addAdditionalActionToTab,this),configRef.children=[this.tabsHeader].concat(this.panels),configRef},addTabInfo:function(config,index){var selected=config.selected===!0,tabItem={type:"container",name:config.label+" tab container",selected:selected,children:config.header||[],label:config.label};this.tabsHeader.children.push(tabItem);var panelItem={type:"container",visible:selected,children:config.items||[]};this.panels.push(panelItem),selected&&(this._selectedIndex=index)},addAdditionalActionToTab:function(config){var tabItem=config||{};tabItem.position={right:!0};var tabsHeader=this.tabsHeader;tabsHeader.children.push(tabItem),this.additionalHeaderTabIndexList[tabsHeader.children.length]=!0}});return tabsView})