define(["Underscore","tau/views/view.container","tau/components/component.tabsHeader"],function(_,a){var b=a.extend({"bus beforeInit":function(a){var b=this;b._selectedIndex=-1,this.additionalHeaderTabIndexList={};var c=a.data.config;this.tabsHeader={type:"tabsHeader",children:[]},this.panels=[],_.each(c.tabs,this.addTabInfo,this),_.each(c.additionalHeaders||[],this.addAdditionalActionToTab,this),c.children=[this.tabsHeader].concat(this.panels)},addTabInfo:function(a,b){var c=a.selected===!0,d={type:"container",name:a.label+" tab container",selected:c,children:a.header||[],label:a.label};this.tabsHeader.children.push(d);var e={type:"container",visible:c,children:a.items||[]};this.panels.push(e),c&&(this._selectedIndex=b)},addAdditionalActionToTab:function(a){var b=a||{};b.position={right:!0};var c=this.tabsHeader;c.children.push(b),this.additionalHeaderTabIndexList[c.children.length]=!0}});return b})