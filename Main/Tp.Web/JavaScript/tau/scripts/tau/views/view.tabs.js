define(["Underscore","tau/views/view.container"],function(e,i){return i.extend({startLifeCycle:function(i){var t=this;t.setDefaultConfig(),e.extend(t.config,(i||{}).data),t.config=this.processConfig(t.config),t.fire("beforeInit",{config:t.config})},"bus beforeInit + state.processed":function(){var i=this,t=i.config.children;i.children=[];var n=e.isArray(t)&&e.size(t)>0&&i.config.visible;if(n){var a=i.config.children,s=i.config.context||{};this.fire("createComponents",{components:a,context:s})}else i.completeInitializationWithoutChildren()},processConfig:function(i){return this.additionalHeaderTabIndexList={},this.tabsHeader=e.defaults(i.tabsHeader||{},{type:"tabsHeader",options:{more:!1}}),this.tabsHeader.children=[],this.panels=[],e.each(i.tabs,this.addTabInfo,this),e.each(i.additionalHeaders||[],this.addAdditionalActionToTab,this),i.children=[this.tabsHeader].concat(this.panels),i},addTabInfo:function(e){var i=e.selected===!0,t={type:"container",name:e.label+" tab container",selected:i,children:e.header||[],label:e.label};this.tabsHeader.children.push(t);var n={type:"container",visible:i,children:e.items||[]};this.panels.push(n)},addAdditionalActionToTab:function(e){var i=e||{};i.position={right:!0};var t=this.tabsHeader;t.children.push(i),this.additionalHeaderTabIndexList[t.children.length]=!0}})});