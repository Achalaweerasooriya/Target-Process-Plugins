define(["Underscore","tau/views/view.container","tau/components/component.tabsHeader"],function(_,ViewType){var tabsView=ViewType.extend({"bus beforeInit":function(evt){var self=this;self._selectedIndex=-1,this.additionalHeaderTabIndexList={};var configRef=evt.data.config;this.tabsHeader={type:"tabsHeader",children:[]},this.panels=[],_.each(configRef.tabs,this.addTabInfo,this),_.each(configRef.additionalHeaders||[],this.addAdditionalActionToTab,this),configRef.children=[this.tabsHeader].concat(this.panels)},addTabInfo:function(config,index){var selected=config.selected===!0,tabItem={type:"container",name:config.label+" tab container",selected:selected,children:config.header||[],label:config.label};this.tabsHeader.children.push(tabItem);var panelItem={type:"container",visible:selected,children:config.items||[]};this.panels.push(panelItem),selected&&(this._selectedIndex=index)},addAdditionalActionToTab:function(config){var tabItem=config||{};tabItem.position={right:!0};var tabsHeader=this.tabsHeader;tabsHeader.children.push(tabItem),this.additionalHeaderTabIndexList[tabsHeader.children.length]=!0}});return tabsView})