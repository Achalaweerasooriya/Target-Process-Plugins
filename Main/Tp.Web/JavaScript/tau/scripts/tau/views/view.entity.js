define(["Underscore","tau/core/view-base","tau/components/component.container","tau/configurations/factory.container.config"],function(_,a,b,c){return a.extend({init:function(a){this._super(a),this.config.placeholder&&this.config.placeholder.addClass("ui-entity-view")},"container afterInit":function(a){this.fireAfterInit()},initialize:function(){},"container afterRender":function(a){this.fireBeforeRender(),this.element=a.data.element,this.config.placeholder&&this.config.placeholder.append(this.element),this.config.placeholder&&this.config.placeholder.addClass("tau-entity-loaded"),this.fireAfterRender()},initializeContainer:function(a){this.container.initialize(a)},"bus contextRetrieved":function(a){var d=this,e=a.data;_.extend(e,c.getConfig(e)),this.container=b.create({name:"entity container",store:this.config.store}),this.container.on("afterInit",this["container afterInit"],this),this.container.on("afterRender",this["container afterRender"],this),d.bus.fire("onConfigContainerCreated",e),this.initializeContainer(e)},lifeCycleCleanUp:function(){this.destroyContainer(),this._super()},destroyContainer:function(){if(!this.container)return;this.container.destroy(),this.container=null},destroy:function(){this.destroyContainer(),this.container=null,this._super()}})})