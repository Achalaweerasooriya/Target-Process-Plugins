define(["Underscore","tau/core/view-base","tau/components/component.board.container","tau/configurations/board.container.config"],function(e,t,n,i){return t.extend({init:function(e){this._super(e)},initialize:function(){},"bus view.dom.ready":function(e){this.container.fire("view.dom.ready",e.data)},"bus beforeInit+boardSettings.ready":function(t,r,a){var o=this,s=r.config,d=a.boardSettings,c=r.config.context.configurator;c.registeredServices&&delete c.registeredServices.boardSettings,c.registerService("boardSettings",d),d.unbind({listener:o}),d.bind({fields:["name"],listener:o,callback:function(t){c.getTitleManager().setTitle(e.asString(t.name)),c.getHistory().updateCurrent({title:e.asString(t.name)})}}),d.get({fields:["id","name"],callback:function(t){c.getTitleManager().setTitle(e.asString(t.name)),c.getHistory().setCurrent({url:c.getUrlBuilder().getRelativeBoardUrl(t.id),title:e.asString(t.name),id:t.id}),c.getRouting().setReferer({id:t.id})}});var f=new i(c),u=e.extend(s,f.getPageBoardConfig()),g=o.container=n.create({name:"board page container",layout:u.layout,template:u.template,store:s.store,extensions:e.union([],u.extensions||[]),context:s.context});g.on("afterInit",o["container afterInit"],o),g.on("afterRender",o["container afterRender"],o),g.on("componentsCreated",o["container componentsCreated"],o),c.getConfig("tmpBoardIsJustAdded",!1)||d.set({set:{edit:!1}}),g.fire("boardSettings.ready",{boardSettings:d}),g.initialize(u)},"container afterInit":function(){this.fireAfterInit()},"container componentsCreated":function(e){this.fire(e.name,e.data)},"container afterRender":function(e){this.fireBeforeRender(),this.element=e.data.element,this.fireAfterRender()},lifeCycleCleanUp:function(){this.destroyContainer(),this._super()},destroyContainer:function(){this.container&&(this.container.destroy(),this.container=null)},destroy:function(){this.destroyContainer(),this._super()}})});