define(["Underscore","tau/core/class","tau/store/types.targetprocess"],function(_,Class,types){var termProcessor=Class.extend({init:function(terms){terms=terms||[],this.mapping={};for(var i=0,len=terms.length;i<len;i++){var item=terms[i];this.mapping[item.name]=this.mapping[item.name.toLowerCase()]=item.value}},resolve:function(termName,defaultValue){var result=defaultValue||termName;return termName&&this.mapping.hasOwnProperty(termName)&&(result=this.mapping[termName]),result},getTerms:function(entityType){var self=this,type=types.findByKeyword(entityType),terms=type.terms,keys=_(terms).keys(),termsKeyVal={};return _(keys).each(function(key){termsKeyVal[key]=self.resolve(terms[key].key,terms[key].val)}),termsKeyVal}});return termProcessor})