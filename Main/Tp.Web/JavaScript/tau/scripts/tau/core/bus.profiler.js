define(["Underscore","tau/core/class"],function(t,e){var n=e.extend({init:function(t){var e=this;e.stream=[],e.stopped=!1;var n=t.fire;t.fire=function(){var t=arguments;!e.stopped&&e.registerEvent(t),n.apply(this,t)}},stop:function(){this.stopped=!0},registerEvent:function(t){var e=+new Date,n={tick:e,name:t[0],data:t[1]||{}};this.stream.push(n)},data:function(){return this.stream}});return n});