define(["Underscore","jQuery","tau/core/event"],function(_,$,event){var widget=function(name,obj){var createFn=obj._create||function(){};obj._create=function(){var self=this;createFn.apply(self,arguments),self.bus=self.options.bus||self.element.data("bus"),event.subscribeOn(self)},_.extend(obj,{_fire:function(){this.bus.fire.apply(this.bus,arguments)}}),$.widget(name,obj)};return{widget:widget}})