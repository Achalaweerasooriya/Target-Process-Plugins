define(["Underscore"],function(a){var b={buses:{},onCreate:function(a){var b=this;b.buses[a.id]=a,a.on("destroy",function(a){a.sender.id!=="global"&&delete b.buses[a.sender.id]})},count:function(){console.log("#count: "+a(this.buses).keys().length)},stats:function(){var b={},c=this;a.each(a(c.buses).keys(),function(a){var d=c.buses[a];b.hasOwnProperty(d.name)||(b[d.name]=0),b[d.name]++}),a.each(a(b).keys(),function(a){console.log(a+" : "+b[a])})}};window.tau=window.tau||{},a.extend(window.tau,{buses:b});return b})