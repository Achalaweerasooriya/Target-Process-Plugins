define(["Underscore"],function(_){var tau=tau||{};return tau.empty=function(){},tau.ns=function(namespace){var parts=namespace.split("."),currentScope=window;for(var i=0,len=parts.length;i<len;i++){var name=parts[i];typeof currentScope[name]=="undefined"&&(currentScope[name]={}),currentScope=currentScope[name]}},tau.getQueryValueFromUrl=function(url,name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&]"+name+"=([^&#]*)",regex=new RegExp(regexS,"i"),results=regex.exec(url);return results==null?"":results[1]},tau.getValueFromQueryString=function(name){var url=window.location.href;return tau.getQueryValueFromUrl(url,name)},tau.getTokenParameterFromQueryString=function(sign){var token=tau.getValueFromQueryString("token");return token!=""?sign+"token="+token:""},tau.extendArgs=function(args,arg){var result=args;return result=[].slice.call(args),result.unshift(arg),result},tau.concat=function(){return String.prototype.concat.apply("",arguments)},tau.createScopedCallbackIfRequired=function(callback){return typeof callback=="function"?callback:tau.createScopedCallback(callback.fn,callback.scope)},tau.createScopedCallback=function(fn,scope){return typeof fn!="function"&&typeof fn.fn=="function"&&(fn=fn.fn,fn.scope&&(scope=fn.scope)),typeof fn=="function"&&scope&&(fn=_.bind(fn,scope)),fn},tau.getCallbacks=function(callbacksObj){var callbacks=callbacksObj||{};_.isFunction(callbacksObj)&&(callbacks={success:callbacksObj}),callbacks.success||(callbacks.success=tau.empty),callbacks.failure||(callbacks.failure=tau.empty);var successFn=tau.createScopedCallback(callbacks.success,callbacks.scope),failureFn=tau.createScopedCallback(callbacks.failure,callbacks.scope);return{success:successFn,failure:failureFn}},tau})