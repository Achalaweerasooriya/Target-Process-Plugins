define(["Underscore","jQuery"],function(a,b){function c(){}function d(){b(document).keydown(a.bind(e,this))}function e(){if(this.keyboardHandlers.length==0)return;var a=this.keyboardHandlers[this.keyboardHandlers.length-1];a&&a.handleKeyDown.apply(a,arguments)}function f(){this.keyboardHandlers=[],this.pushHandler=h,d.call(this),this.pushHandler.apply(this,arguments)}function g(){this.keyboardHandlers.pop()}function h(a){this.keyboardHandlers.push(a)}return c.prototype={pushHandler:f,popHandler:g},c})