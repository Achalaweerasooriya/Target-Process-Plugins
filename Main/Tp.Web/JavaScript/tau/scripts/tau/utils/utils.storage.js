define([],function(){var a=typeof window.localStorage!="undefined",b={set:function(a,b){localStorage[a]=JSON.stringify(b);return!0},get:function(a){var b=localStorage[a];if(b)try{b=JSON.parse(b)}catch(c){}return b},remove:function(a){return delete localStorage[a]}},c={set:function(a,b,c){var d=new Date;d.setTime(d.getTime()+31536e6),c=c||d.toGMTString();var e="expires="+c,f=[a+"="+JSON.stringify(b),e,"path=/"].join("; ");document.cookie=f},get:function(a){a=a+"=";var b=document.cookie.split(";"),c;for(i=0;i<b.length;i++){var d=b[i];while(d.charAt(0)===" ")d=d.substring(1,d.length);d.indexOf(a)===0&&(c=d.substring(a.length,d.length),c=JSON.parse(c))}return c},remove:function(a){return c.set(a,"",-1)}};a?storage=b:storage=c;return storage})