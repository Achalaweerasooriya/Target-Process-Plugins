define(["Underscore","libs/base64/base64"],function(e,c){return{encode:function(n){return e.isObject(n)?c.encode(JSON.stringify(n)):n},decode:function(e){var n=c.decode(e);return n="{"===n.charAt(0)&&"}"===n.charAt(n.length-1)?JSON.parse(n):e},encodeName:function(e){return c.encode(e).replace(/\+/g,"__1").replace(/\//g,"__2").replace(/=/g,"__3")},decodeName:function(e){return c.decode(e.replace(/__1/g,"+").replace(/__2/g,"/").replace(/__3/g,"="))}}});