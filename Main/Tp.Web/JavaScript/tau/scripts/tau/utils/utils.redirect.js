define(["Underscore","jQuery","tau/core/class","tau/configurator"],function(a,b,c,d){return c.extend({init:function(a){this.context=a,this.window=d.getWindow()},_process:function(a){var c=null;if(a.match(/^http(s)?:\/\//i))c=a;else if(a[0]=="#")c=a;else{var e=d.getApplicationPath();a[0]!=="/"&&(a="/"+a),c=e+a}return this.context&&(c=b.tmpl(c,this.context).text()),c},_redirect:function(a,b){b.location.href=a},redirect:function(a,c){var d=this.window;if(typeof c!="undefined"){var e=b(document),f={scrollbars:1,width:e.width()*.8,height:e.height()*.8,top:50},g=[],h=null;for(h in f)g.push(h+"="+f[h]);var i=g.join(",");d=this.window.open(this._process(a),c,i);return}this._redirect(this._process(a),d)},back:function(){this.window.history&&this.window.history.back&&this.window.history.back()},reload:function(){this.window.location&&this.window.location.reload&&this.window.location.reload()}})})