define(["Underscore","tau/core/async.source.adapter"],function(_,AsyncSourceAdapter){var createStateManagerAsyncSource=function(serviceContainer,settings){var stateManager=serviceContainer.getStateManager();return new AsyncSourceAdapter({onGet:function(cmd){stateManager.get({id:settings.id,fields:cmd.fields,callback:cmd.callback})},onSet:function(cmd){stateManager.set({id:settings.id,set:cmd.set,callback:cmd.callback})},onBind:function(cmd){var callback=function(data){var result={};result[data.fieldName]=data.value,cmd.callback.call(this,result)};stateManager.bind({paramId:settings.id,fieldName:cmd.fields[0],callback:callback,listener:cmd.listener})},onUnbind:function(cmd){stateManager.unbind(cmd.listener)}})};return{create:createStateManagerAsyncSource}})