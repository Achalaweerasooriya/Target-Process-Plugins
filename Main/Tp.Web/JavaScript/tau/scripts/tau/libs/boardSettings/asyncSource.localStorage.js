define(["Underscore","tau/core/async.source.adapter"],function(t,n){var e=window.localStorage,a="asyncSource",r=".",c={getData:function(t){var n=e.getItem(t),a=JSON.parse(n)||{};return a},setData:function(t,n){var a=JSON.stringify(n);try{return e.setItem(t,a),!0}catch(r){return!1}}};return{create:function(e,o){var u=a+r+o.groupName+r+o.id;return new n({onGet:function(t){var n=c.getData(u);t.callback(n)},onSet:function(n){var e=c.getData(u),a=t.extend({},e);t.each(n.set,function(t,n){a[n]=t});var r=c.setData(u,a),o=r?a:e;n.callback(o)},onBind:function(){},onUnbind:function(){}})}}});