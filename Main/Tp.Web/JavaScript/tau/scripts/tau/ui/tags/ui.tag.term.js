define(["Underscore","jQuery","tau/core/termProcessor"],function(_,$,a){return $.extend($.tmpl.tag,{term:{_default:{$1:"'type'",$2:"null"},open:["var $__t = $item;","while($__t.parent && !$__t.$tau){","$__t = $__t.parent","}","_=_.concat($__t.$tau.terms($2)[$1]);"].join("")}}),{register:function(b,c){var d=b.context?b.context.getTerms():[];c.$tau=c.$tau||{};var e=new a(d);c.$tau.terms=function(a){return e.getTerms(a)}}}})