define(["Underscore","jQuery","tau/core/termProcessor"],function(t,e,r){return e.extend(e.tmpl.tag,{term:{_default:{$1:"'type'",$2:"null"},open:["var $__t = $item;","while($__t.parent && !$__t.$tau){$__t = $__t.parent}","_=_.concat($__t.$tau.terms($2)[$1]);"].join("")}}),{register:function(t,e){var n=t.context&&t.context.getTerms?t.context.getTerms():[];e.$tau=e.$tau||{},e.$tau.terms=function(t){return r.getTerms(t,n)}}}});