define(["Underscore","jQuery"],function(_,$){$.widget("ui.behaviourUrlEditor",{options:{onSave:$.noop},_create:function(){var $element=this.element;this.$element=$element;var self=this;$element.find(":button:first").click(function(e){e.preventDefault(),_.bind(self._save,self)()}),$element.find(":input").keyup(function(e){e.keyCode==jQuery.ui.keyCode.ENTER&&(e.preventDefault(),_.bind(self._save,self)())})},_save:function(){var $element=this.element;this.options.onSave({url:$element.find("[name=url]").val(),label:$element.find("[name=label]").val()})},setValidationErrors:function(data){var $form=this.$element;_.each(data,function(value,name){$form.find("[name="+name+"]").addClass("ui-validationerror").attr("title",value)})},resetValidationErrors:function(data){this.$element.find(":text").removeClass("ui-validationerror").attr("title",null)},setValue:function(data){var $form=this.$element;_.each(data,function(value,name){$form.find("[name="+name+"]").val(value)})},destroy:function(){}})})