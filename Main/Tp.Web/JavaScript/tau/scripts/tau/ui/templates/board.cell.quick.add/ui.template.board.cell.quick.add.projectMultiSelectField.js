define(["Underscore","tau/core/templates-factory","tau/ui/templates/board.cell.quick.add/ui.customFunctions.template.board.cell.quick.add","tau/ui/templates/board.context.selector/ui.template.board.context.selector.projects.list"],function(e,t,i){var d={name:"board.cell.item.quick.add.field.ProjectMultiSelect",engine:"jqote2",customFunctions:e.defaults(i,{markProjectSelected:function(t,i){var d=e.find(t,function(e){return e.id===i.id});d&&(d.selected=!0,d.disabled=!0)}}),markup:["<% if (this.field.options.projects.length > 0) { %>",'<div class="tau-field">',"   <% field = this.field; %>",'   <% if (this.name == "User") { %><div class="tau-note">Assign to Projects</div><% } %>',"   <% if (field.options.selectedProject && field.options.selectedProject.id) { ","       fn.markProjectSelected(field.options.projects, field.options.selectedProject);","   }%>",'   <div class="tau-projects">','       <ul name="<%= field.id%>" class="tau-category-items-selector i-role-list tau-required-field-editor <%= field.id%>" ','               data-validate=\'{"caption":"<%= field.caption%>","rules":<%=fn.getValidationRules(field, ["projectmultiselect"])%>}\' ','               data-fieldname="<%=field.id%>" data-fieldtype="<%=field.type%>">','           <%= fn.sub("board.context.selector.projects.list", field.options.projects, field.options.selectedProject) %>',"       </ul>","   </div>","</div>","<% } %>"]};return t.register(d)});