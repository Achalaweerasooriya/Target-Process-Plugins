define(["tau/core/templates-factory"],function(templates){var config={name:"board.cell.item.quick.add",engine:"jqote2",markup:['<div class="tau-quick-add-dialog">',"   <%if(this.isEmpty){%>",'        <div class="tau-quick-add_empty">You can\'t add anything.</div>',"    <%} else {%>",'    <div class="tau-entity-selector">','        <div class="quick-add__entity-items">',"            <% for(var i=0,length=this.entityTypes.length;i<length;i++){%>","                <%if(i==6) {%>",'                    <div><span class="quick-add__entity-items-more i-role-show_more">show more</span></div>','                    <div class="quick-add__entity-items-additional i-role-entity-additional">',"                <%}%>","                <button data-index=\"<%=i%>\"  data-type=\"<%= this.entityTypes[i].name%>\" class=\"i-role-entity-selector tau-btn tau-<%=this.entityTypes[i].name.toLowerCase()%> <%= ((i==0? 'tau-active tau-checked':'') + ' ' + this.entityTypes[i].name)%>\"><%= this.entityTypes[i].title %></button>"," ","                <% if(i==(length-1)&& length>6) {%>","                    </div>","                <%}%>","            <%}%>","        </div>","    </div>","    <div>",'    <div class="tau-entity-controls">',"        <% for(var i=0,length=this.entityTypes.length;i<length;i++){","        var type  = this.types[this.entityTypes[i].name];","        var items = type.template.items; %>",'        <div class="tau-entity-fields">',"        <form class=\"tau-control-set tau-fieldset <%= ((i==0? 'tau-active':'') + ' ' + type.entityType.name )%>\" data-type=\"<%=type.entityType.name%>\">","                <% for( var j=0;j<items.length;j++){","                    var field =items[j];"," ",'                    if (field.type == "Text") {'," ","                %>",'                    <div class="tau-field">','                        <input tabindex="0" autocomplete="off" type="text" name="<%= field.id%>" data-validate=\'{"caption":"<%= field.caption%>","rules":["required","<%= field.id.toLowerCase() == "email"?"email":"text"%>"]}\' class="tau-in-text tau-required-field-editor <%= field.id%>" placeholder="<%= field.caption%>" data-fieldname="<%=field.id%>" data-fieldtype="<%=field.type%>">',"                    </div>","                    <%}",'            <% if (field.type == "Password") {%>','            <div class="tau-field">','                <input type="password" tabindex="0" name="<%= field.id%>" class="tau-in-text tau-required-field-editor <%= field.id%>" data-validate=\'{"caption":"<%= field.caption%>","rules":["text"]}\' placeholder="<%= field.caption%>" data-fieldname="<%=field.id%>" data-fieldtype="<%=field.type%>">',"            </div>","            <%}",'           <% if (field.type == "Number") {%>','            <div class="tau-field">','                <input type="text" tabindex="0" name="<%= field.id%>" class="tau-in-text tau-required-field-editor <%= field.id%>" data-validate=\'{"caption":"<%= field.caption%>","rules":["text","integer"]}\' placeholder="<%= field.caption%>" data-fieldname="<%=field.id%>" data-fieldtype="integer">',"            </div>","            <%}",'            <% if (field.type == "Date") {%>','            <div class="tau-field">','                <input type="text" tabindex="0" name="<%= field.id%>" class="tau-in-text tau-required-field-editor <%= field.id%>" data-validate=\'{"caption":"<%= field.caption%>","rules":["text","date"]}\' placeholder="<%= field.caption%>" data-fieldname="<%=field.id%>" data-fieldtype="<%=field.type%>">',"            </div>","            <%}","",'                   if (field.type== "DDL"){',"                    var options = field.options.values;","                    var lengthOptions = options.length;","            %>",'                    <div class="tau-field">','                        <select data-validate=\'{"caption":"<%= field.caption%>","rules":["required"]}\' tabindex="0" <%if(lengthOptions == 1){%>disabled="disabled"<%}%> class="tau-select  <%if(lengthOptions == 1){%>disabled<%}%> tau-required-field-editor <%= field.id.toLowerCase()%> chzn-select" name="<%= field.id%>"  data-fieldname="<%=field.id%>"  data-fieldtype="<%=field.type%>">',"                            <%","                                for(var k=0;k<lengthOptions;k++){%>",'                                    <option data-option=\'<%= JSON.stringify(options[k])%>\' <%if(field.options.selectedValue == options[k].id){%>selected="selected"<%}%> value="<%=options[k].id%>"><%=options[k].title%></option>',"                                <%}%>","                        </select>","                    </div>","                   <%}%>",'                   <%if(field.type == "UserStorySelector"){',"                   %>",'                    <div class="tau-field tau-field_entity">','                        <div tabindex="0" class="tau-userStorySelector">','                            <input type="hidden" data-entityuniquename=\'userstories\' data-validate=\'{"caption":"<%= field.caption%>","rules":["userStorySelector"]}\'  name="<%= field.id%>" class="tau-required-field-editor <%= field.id%>" placeholder="<%= field.caption%>"  data-fieldname="<%=field.id%>" data-filter=\'<%= JSON.stringify(field.options.filter)%>\' data-fieldtype="<%=field.type%>">','                            <span class="userStorySelector ui-link"><em class="ui-type-icon ui-type-icon-userstory tau-linkentity__icon" style="display: none;"></em><span class="tau-linkentity__inner tau-linkentity__inner_placeholder">User Story</span></span>',"","                        </div>",'                        <div tabindex="0" class="tau-userStorySelector__control">',"                            <span  runas=\"finder.entity\"  data-context:general='' data-name='userstories' data-filterenabled='true' data-entitytype='userstories' data-filter='<%= JSON.stringify(field.options.filter)%>'></span>","                        </div>","                    </div>","                    <%}%>",'                    <%if(field.type == "ReleaseSelector"){',"                    %>",'                    <div class="tau-field tau-field_entity">','                        <div tabindex="0" class="tau-userStorySelector">','                            <input type="hidden" data-entityuniquename=\'releaseselector\' data-validate=\'{"caption":"<%= field.caption%>","rules":["userStorySelector"]}\'  name="<%= field.id%>" class="tau-required-field-editor <%= field.id%>" placeholder="<%= field.caption%>"  data-fieldname="<%=field.id%>" data-filter=\'<%= JSON.stringify(field.options.filter)%>\' data-fieldtype="<%=field.type%>">','                            <span class="userStorySelector ui-link"><em class="ui-type-icon ui-type-icon-userstory tau-linkentity__icon" style="display: none;"></em><span class="tau-linkentity__inner tau-linkentity__inner_placeholder">Release</span></span>',"                        </div>",'                        <div tabindex="0" class="tau-userStorySelector__control">',"                            <span  runas=\"finder.entity\"  data-context:general='' data-name='releaseselector' data-filterenabled='true' data-entitytype='releases' data-filter='<%= JSON.stringify(field.options.filter)%>'></span>","                        </div>","                    </div>","                    <%}%>",'                        <%if (field.type=="CustomField"){','                                if(field.fieldType=="Text" || field.fieldType=="Number" || field.fieldType=="Date" || field.fieldType=="TemplatedURL") {',"                                var additionalRules = '';",'                                field.fieldType=="Number"&&(additionalRules = additionalRules + \',"number"\');','                                field.fieldType=="Text"&&(additionalRules = additionalRules + \',"text"\');','                                field.fieldType=="Date"&&(additionalRules = additionalRules + \',"date"\');',"                                %>","",'                                <div class="cf-wrap tau-field tau-custom cf-process_<%=field.processId%>">','                                <input tabindex="0" autocomplete="off" type="text"  data-validate=\'{"caption":"<%= field.caption%>","rules":["required"<%=additionalRules%>]}\' class="tau-in-text <%=field.fieldType==\'Date\'?\'cf-input_date\':\'\'%> <%=field.fieldType==\'Number\'?\'cf-input_number\':\'\'%> cf-input tau-required-field-editor " placeholder="<%= field.caption%>" data-iscf="true" data-fieldname="<%=field.caption%>" data-fieldtype="<%=field.fieldType%>">',"                                </div>","                                <%","                                }",'                                if(field.fieldType=="CheckBox") {%>','                                    <div class="cf-wrap tau-field tau-custom cf-process_<%=field.processId%>">','                                        <label class="tau-checkbox "><input tabindex="0" autocomplete="off" type="checkbox"  data-validate=\'{"caption":"<%= field.caption%>","rules":["checkbox"]}\' class="tau-is-active cf-input tau-required-field-editor "  data-iscf="true" data-fieldname="<%=field.caption%>" data-fieldtype="<%=field.fieldType%>"  ><i></i><span><%=field.caption%></span></label>',"                                    </div>","                                <%}",'                                if(field.fieldType=="URL") {%>','                                <div class="cf-wrap tau-field tau-custom cf-process_<%=field.processId%> ">','                                    <input tabindex="0" autocomplete="off" type="hidden"  value=\'fake\'  data-validate=\'{"caption":"<%= field.caption%>","rules":["required"]}\' class="tau-is-active cf-input tau-required-field-editor "  data-iscf="true" data-fieldname="<%=field.caption%>" data-fieldtype="<%=field.fieldType%>"  >',"                                    <h4><%= field.caption%></h4>",'                                    <p class="cf-wrap-url_value">','                                        <input class="tau-in-text tau-is-active cf-input  cf-input-url_value tau-required-field-editor" data-iscf=\'true\' data-validate=\'{"caption":"<%= field.caption%>","rules":["required","url"]}\' type="" placeholder="URL">',"                                    </p>",'                                    <p class="cf-wrap-url_description">','                                        <input class="tau-in-text tau-is-active cf-input cf-input-url_description tau-required-field-editor" data-iscf=\'true\' data-validate=\'{"caption":"<%= field.caption%>","rules":["required"]}\' type="" placeholder="URL description">',"                                    </p>","                                </div>","                                <%}",'                                 if(field.fieldType=="DropDown" || field.fieldType=="MultipleSelectionList") {','                                    var options = field.options.value&&[]&&field.options.value.split("\\r\\n")||[];',"                                    %>",'                                    <div class="cf-wrap tau-field tau-custom cf-process_<%=field.processId%>">','                                        <%if(field.fieldType=="MultipleSelectionList"){%>',"                                        <h4><%= field.caption%></h4>","                                        <%}%>",'                                        <select data-validate=\'{"caption":"<%= field.caption%>","rules":["required"]}\' <%=field.fieldType=="MultipleSelectionList"?\'multiple="multiple"\':\'\'%>  tabindex="0"  data-iscf=\'true\' class="tau-select  cf-input tau-required-field-editor  " name="<%= field.caption%>"  data-fieldname="<%=field.caption%>"  data-fieldtype="<%=field.fieldType%>">','                                        <%if(field.fieldType!="MultipleSelectionList"){%>','                                        <option value=""><%=field.caption%></option>',"                                        <%}%>","                                        <%","                                        for(var k=0;k<options.length;k++){%>",'                                        <option value="<%!options[k]%>"><%!options[k]%></option>',"                                        <%}%>","                                        </select>","                                    </div>","                                <%}",'                                if(field.fieldType == "Entity"){',"                                %>",'                                <div class="cf-wrap tau-field_entity tau-field tau-custom cf-process_<%=field.processId%> ">','                                    <div tabindex="0" class="tau-userStorySelector">','                                        <input type="hidden" data-iscf="true" data-entityuniquename=\'entity_<%=type.entityType.name%>_<%=j%>\'  data-validate=\'{"caption":"<%= field.caption%>","rules":["userStorySelector"]}\'  name="<%= field.id%>" class="cf-input tau-required-field-editor <%= field.id%>" placeholder="<%= field.caption%>"  data-fieldname="<%=field.caption%>" data-filter=\'<%= JSON.stringify(field.options.filter)%>\' data-fieldtype="<%=field.fieldType%>">','                                        <span class="userStorySelector ui-link"><em class="ui-type-icon ui-type-icon-userstory tau-linkentity__icon" style="display: none;"></em><span class="tau-linkentity__inner tau-linkentity__inner_placeholder"><%=field.caption%></span></span>',"","                                    </div>",'                                    <div tabindex="0" class="tau-userStorySelector__control">',"                                        <span  runas=\"finder.entity\" data-name='entity_<%=type.entityType.name%>_<%=j%>'  data-context:general=''></span>","                                    </div>","                                </div>","                               <%}","                        }%>","            <%}%>","",'            <div class="tau-field">','                <button tabindex="0" type="submit" class="tau-btn tau-add-item tau-success">Add</button>',"            </div>","        </form>","        </div>","        <%}%>","    </div>","    </div>","    <%}%>",'    <div class="tau-message-pool"></div>',"</div>"],dependencies:[]};return templates.register(config)})