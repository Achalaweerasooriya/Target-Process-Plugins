define(["tau/core/templates-factory","tau/utils/utils.date"],function(s,i){var t={name:"board.system-diagnostics.full-report",engine:"jqote2",customFunctions:{formatDate:function(s){return i.formatAs(s,"dd MMM yyyy")},formatTime:function(s){return i.formatAs(s,"hh:mm:ss tt")},formatDuration:function(s){return i.getAge(s,new Date)},jsonStringify:function(s){return JSON.stringify(s,null,4)}},markup:['<div class="diagnostic-report_result_colom">','<div class="diagnostic-report_result_item">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th"><%=fn.formatDate(this.page.now)%><br/><%=fn.formatTime(this.page.now)%></div>','<div class="diagnostic-report_result_td">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">User</div>','<div class="diagnostic-report_result_td">#<%= this.user.id %> <%= this.user.name %></div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td"></div>','<div class="diagnostic-report_result_td"><%= this.user.email %></div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td"></div>','<div class="diagnostic-report_result_td">',"<% if (!this.user.isAdministrator) { %><strike><% } %>Administrator <% if (!this.user.isAdministrator) { %></strike><% } %>","<% if (!this.user.isObserver) { %><strike><% } %>Observer<% if (!this.user.isObserver) { %></strike><% } %>","</div>","</div>",'<div class="diagnostic-report_result_row space">','<div class="diagnostic-report_result_td">Account</div>','<div class="diagnostic-report_result_td" title="<%= this.account.name %>"><span class="txt"><%= this.account.name %></span><i class="tau-version tau-version--pro"><%= this.account.edition %></i></div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Created</div>','<div class="diagnostic-report_result_td"><%= fn.formatDuration(this.page.age) %></div>',"</div>","</div>","</div>","</div>","</div>","</div>",'<div class="diagnostic-report_result_item">','<div class="diagnostic-report_result_title">','<% if (this.layout.viewMode) { %><span class="tau-icon-general tau-icon-<%= this.layout.viewMode %>"></span><% } %><%= this.layout.pageType %> view',"</div>","<% if (this.board.timing) {%>",'<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th">Load</div>','<div class="diagnostic-report_result_td"><%= this.board.timing.network %> ms</div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th">Processing</div>','<div class="diagnostic-report_result_td"><%= this.board.timing.processing %> ms</div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th">Context</div>','<div class="diagnostic-report_result_td"><%= this.context.selectedProjects %> project(s)</div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th"></div>','<div class="diagnostic-report_result_td"><%= this.context.selectedTeams %> team(s)</div>',"</div>","<% if (this.layout.cards) { %>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th"></div>','<div class="diagnostic-report_result_td"><%= this.layout.cards %> card(s)</div>',"</div>","<%}%>","</div>","<% } %>",'<div class="diagnostic-report_result_link">','<a href="<%= this.page.location %>"><%= this.page.location %></a>',"</div>",'<div class="diagnostic-report_result_table">',"<% if (this.board.boardDefinition) {%>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th">Settings</div>','<div class="diagnostic-report_result_td"><pre class="diagnostic-report_result_row_json"><%= fn.jsonStringify(this.board.boardDefinition) %></pre></div>',"</div>","<% };%>","<% _.forEach(this.board.cardsData, function(data) {%>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th"><%= data.typeName %> card</div>','<div class="diagnostic-report_result_td"><%= data.data %></div>',"</div>","<% });%>","</div>","</div>","</div>",'<div class="diagnostic-report_result_colom">',"<% if (this.serverUsage) {%>",'<div class="diagnostic-report_result_item">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row space">','<div class="diagnostic-report_result_th">Server configuration</div>','<div class="diagnostic-report_result_td"><%= this.os.VersionString %></div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th"></div>','<div class="diagnostic-report_result_td">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td" style="width: 100px">Available RAM:</div>','<div class="diagnostic-report_result_td"><%= this.serverUsage.availableRam.toFixed(2) %> <span class="tau-text_type_gray">of <%= this.serverUsage.totalRam.toFixed(2) %> GB</span></div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">CPU usage:</div>','<div class="diagnostic-report_result_td"><%= this.serverUsage.cpu.toFixed(2) %>%</div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Free disk space:</div>','<div class="diagnostic-report_result_td"><%= this.serverUsage.diskFreeSpace.toFixed(2) %> <span class="tau-text_type_gray">of <%= this.serverUsage.diskSize.toFixed(2) %> GB</span></div>',"</div>","</div>","</div>","</div>","</div>","</div>","<% }%>",'<div class="diagnostic-report_result_item">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_th">Network</div>','<div class="diagnostic-report_result_td">','<div class="diagnostic-report_result_table">',"<% if (this.browser.timing && this.browser.timing.network) { %>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Page load</div>','<div class="diagnostic-report_result_td"><%= this.browser.timing.network %> ms</div>',"</div>","<% } %>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Latency</div>','<div class="diagnostic-report_result_td"><%= this.network.latency.toFixed(0) %> ms</div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Speed benchmark</div>','<div class="diagnostic-report_result_td"><%= this.network.speed %> ms</div>',"</div>","</div>","</div>","</div>","</div>","</div>",'<div class="diagnostic-report_result_item">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row space">','<div class="diagnostic-report_result_th">Browser</div>','<div class="diagnostic-report_result_td"><%= this.browser.userAgent %></div>',"</div>",'<div class="diagnostic-report_result_row space">','<div class="diagnostic-report_result_th"></div>','<div class="diagnostic-report_result_td"><%= this.browser.platform %>, <%= this.browser.language %></div>',"</div>",'<div class="diagnostic-report_result_row space">','<div class="diagnostic-report_result_th">Performance</div>','<div class="diagnostic-report_result_td">','<div class="diagnostic-report_result_table">',"<% if (this.browser.timing && this.browser.timing.processing) { %>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Page processing</div>','<div class="diagnostic-report_result_td"><%= this.browser.timing.processing %> ms</div>',"</div>","<% } %>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">JS benchmark</div>','<div class="diagnostic-report_result_td"><%= this.browser.benchmark %> ms</div>',"</div>","</div>","</div>","</div>","<% if (this.browser.memory) { %>",'<div class="diagnostic-report_result_row space">','<div class="diagnostic-report_result_th">Memory</div>','<div class="diagnostic-report_result_td">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Heap size limit</div>','<div class="diagnostic-report_result_td"><%= this.browser.memory.jsHeapSizeLimit.toFixed(2) %> MB</div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Used heap size</div>','<div class="diagnostic-report_result_td"><%= this.browser.memory.usedJSHeapSize.toFixed(2) %> MB</div>',"</div>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td">Total heap size</div>','<div class="diagnostic-report_result_td"><%= this.browser.memory.totalJSHeapSize.toFixed(2) %> MB</div>',"</div>","</div>","</div>","</div>","<% } %>","</div>","</div>",'<div class="diagnostic-report_result_item">','<div class="diagnostic-report_result_table">','<div class="diagnostic-report_result_row space">','<div class="diagnostic-report_result_th"><%= this.mashups.length%> mashups</div>','<div class="diagnostic-report_result_td">',"<% _.forEach(this.mashups, function(mashup) {%>","<%= mashup %><br>","<% });%>","</div>","</div>","</div>","</div>","<% if (this.errors.length > 0) {%>",'<div class="diagnostic-report_result_item">','<div class="diagnostic-report_result_title">Activity log</div>','<div class="diagnostic-report_result_table diagnostic-report_activity-log">',"<%  _.each(this.errors, function(day) { %>","<%  _.each(day.errors, function(error, index) { %>",'<div class="diagnostic-report_result_row">','<div class="diagnostic-report_result_td"><%= index === 0 ? fn.formatDate(day.date) : "" %></div>','<div class="diagnostic-report_result_td">','<span class="tau-text_type_gray"><%= fn.formatTime(error.timestamp) %></span>',"</div>",'<div class="diagnostic-report_result_td">error: <%= error.message %><br><%= error.uri %>:<%= error.line %><br><%= error.page %></div>',"</div>","<% }); %>","<% }); %>","</div>","</div>","<% } %>","</div>"],dependencies:[]};
return s.register(t)});