define(["tau/core/templates-factory","app.path"],function(templates,AppPath){var config={name:"boardplus.card.lastComment",engine:"jqote2",customFunctions:{getAppPath:function(){return AppPath.get()}},markup:[["<% if (this.commentsCount > 0) { %>","<% var owner = this.lastCommentedUser; %>",'<% owner = owner.firstName || owner.lastName ? owner:{firstName:"Somebody",lastName:""}; %>','<div class="tau-last-comment-container">','<span class="tau-comments-count"><%=this.commentsCount%>&nbsp;Comment<%=this.commentsCount>1?"s":""%>,</span> ','<span class="tau-last-comment">Last by <span class="tau-comment-owner"><%= (owner.firstName || "") + " " + (owner.lastName || "")%></span></span>',"</div>","<%}%>"].join("")]};return templates.register(config)})