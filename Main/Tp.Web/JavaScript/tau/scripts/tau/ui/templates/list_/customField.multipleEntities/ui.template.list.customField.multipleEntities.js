define(["tau/core/templates-factory","tau/utils/utils.date"],function(t,e){var i={name:"list.customField.multipleEntities",engine:"jqote2",customFunctions:{dateToString:function(t){return e.format.date.short(e.convertToTimezone(t))}},markup:["<% if (this.items.length == 0) { %>",'<div class="tau-list__empty-message">No items.</div>',"<% } else { %>",'<table class="tau-list__table tau-list__list" role="list">',"<tbody>","<% _.forEach(this.items, function(item) { %>",'<tr class="i-item-<%= item.id %> tau-list__table__row<% if (item.entityState && item.entityState.isFinal) { %> tau-list__table__row_isfinalstate_true<% }; %>" role="item">','<td class="tau-list__table__cell tau-list__table__cell-id tau-list__list__item" >','<a href="<%= item.url %>"><em class="tau-entity-icon tau-entity-icon--<%= item.__type.toLowerCase() %>"><%= item.id %></em></a>',"</td>",'<td class="tau-list__table__cell tau-list__table__cell-name tau-list__table__cell-padding  tau-list__list__item" width="30%"><%= item.name %></td>','<td class="tau-list__table__cell tau-list__list__item"><%= item.project ? item.project.abbreviation : "" %></td>','<td class="tau-list__table__cell tau-list__list__item">',"<% if (item.entityState) { %>",'<div runas="property.entityState" data-context:general:id="<%= item.id %>" data-context:general:entity-type:name="<%=item.__type %>"><%= item.entityState.name %></div>','<% } else if (item.hasOwnProperty("lastStatus")) { %>','<div runas="property.lastStatus" data-context:general:id="<%= item.id%>" data-context:general:entity-type:name="<%= item.__type %>"><%= item.lastStatus %></div>',"<% }; %>","</td>",'<td class="tau-list__table__cell tau-list__list__item"><%= item.release ? item.release.name : "" %></td>','<td class="tau-list__table__cell tau-list__list__item"><%= item.iteration ? item.iteration.name : "" %></td>','<td class="tau-list__table__cell tau-list__list__item"><%= item.buildDate ? fn.dateToString(item.buildDate) : fn.dateToString(item.startDate) %></td>','<td class="tau-list__table__cell tau-list__list__item"><%= fn.dateToString(item.endDate) %></td>','<td class="tau-list__table__cell tau-list__list__item">',"<% if (item.assignments && item.assignments.length) { _.forEach(item.assignments, function(assignment){ %>",'<span class="ui-assignment__group__users">','<span class="ui-assignment__user user tau-avatar_<%= assignment.generalUser.id %> tau-bubble-target" userid="<%= assignment.generalUser.id %>">','<img class="user-name ui-link" title="<%= assignment.generalUser.firstName %> <%= assignment.generalUser.lastName %>" alt="<%= assignment.generalUser.firstName %> <%= assignment.generalUser.lastName %>" style="width:24px; height:24px;" src="<%= assignment.generalUser.avatarUri %>32">',"</span>","</span>","<% }); } %>","</td>",'<td class="tau-list__table__cell tau-list__table__cell-remove tau-list__list__item">','<button type="button" class="tau-btn tau-attention i-role-remove" data-entity-type="<%= item.__type.toLowerCase() %>" data-entity-id="<%= item.id %>">Remove</button>',"</td>",'<td width="1"></td>',"</tr>","<% }); %>","</tbody>","</table>","<% } %>"]};
return t.register(i)});