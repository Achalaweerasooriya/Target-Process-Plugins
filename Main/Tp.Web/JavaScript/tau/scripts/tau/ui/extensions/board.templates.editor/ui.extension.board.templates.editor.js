define(["Underscore","jQuery","tau/core/extension.base","libs/jquery/jquery.placeholder"],function(e,r,t){return t.extend({"bus afterRender":function(e,r){var t=r.element;this.fire("$el.ready",t)},"bus boardSettings.ready + $el.ready":function(r,t,i){var n=t.boardSettings,a=i.find(".i-role-formtrigger"),f=i.find("form"),o=i.find(".i-role-formholder").detach();a.tauBubble({zIndex:120,content:o,onShow:function(){f.find(":text:first").focus(),n.get({fields:["name"],callback:function(r){f.find("[name=name]").val(e.asString(r.name))}})}}),this.fire("$form.ready",f),this.fire("$bubbled.ready",a)},"bus $form.ready":function(t,i){i.placeholder(),i.on("submit",e.bind(function(e){e.preventDefault();var t={};r(e.currentTarget).find(":input").each(function(){t[this.name]=this.value}),this.fire("form.submitted",t)},this))},"bus $bubbled.ready:last + $form.ready:last + form.processed":function(e,r,t){this.fire("notification",{message:"View template was added"}),r.tauBubble("hide"),t.trigger("reset")},"bus $bubbled.ready:last + $form.ready:last + form.failed":function(r,t,i,n){var a=i.find(":input");a.removeClass("tau-error"),e.forEach(n,e.bind(function(e,r){a.filter("[name="+r+"]").addClass("tau-error"),this.fire("error",{message:e})},this)),a.filter(".tau-error:first").focus()}})});