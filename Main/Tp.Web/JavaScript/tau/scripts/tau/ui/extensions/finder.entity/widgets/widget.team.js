define(["Underscore","jQuery","./widget.select","./template.widget.team.output","./template.widget.team.option"],function(t,e,i,n,o){return i.extend({init:function(t,e,i){this._super(t,e,i),this.options.templates.output=n,this.options.templates.option=o,this.options.fields=["id","name","icon","abbreviation"],this.options.orderBy="name",this.zero={id:-1,color:"",abbreviation:"No team",name:"No team"}},getCurrentOption:function(t){return{value:t.id,label:t}},getCurrentData:function(){var i=t.bind(this._super,this);if(this.value==this.zero.id){var n=e.Deferred();return n.resolve(this.zero).promise()}return i()},getEditOptions:function(e){return t.map([this.zero].concat(e),function(t){return{value:t.id,label:t}})}})});