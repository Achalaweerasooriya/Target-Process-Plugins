define(["Underscore","jQuery","tau/core/extension.base"],function(s,t,e){return e.extend({"bus configurator.ready":function(t,e){this.messageId="board.editor.nodata",this.configFieldName="doNotShowNoCardsMessageOnBoardSetup",this.settingsManager=e.getSettingsManager(),this.settingsManager.get({fields:[this.configFieldName],callback:s.bind(function(s){this.fire("nodata.settings.ready",{messageDisabled:!!s[this.configFieldName]})},this)});var i=e.getGlobalBus();i.on("board.nodata.status.ready",s.bind(function(s,t){this.fire("nodata.status.ready",t)},this)),i.on("application.navigate",s.bind(function(){this._hideMessage()},this)),i.on("error",s.bind(function(){this.fire("globalErrorStatus",!0)},this)),i.on("clearError",s.bind(function(s,t){t&&t.id===this.messageId||this.fire("globalErrorStatus",!1)},this)),this.fire("globalErrorStatus",!1)},"bus globalErrorStatus":function(s,t){t&&this._hideMessage()},"bus nodata.settings.ready:last+nodata.status.ready+globalErrorStatus:last":function(s,t,e,i){t.messageDisabled||i||(e.noCards&&!e.noCardsSetup?this._showNoCards():e.noValuableAxis&&!e.noLanesSetup?this._showNoLanes():this._hideMessage())},_showNoCards:function(){this._show('<div><h3>Hmm... No cards on View...</h3><a href="http://guide.targetprocess.com/troubleshooting/no-cards.html" target="_blank">Find out why this happens?</a>')},_showNoLanes:function(){this._show('<div><h3>Hmm... No lanes on View...</h3><a href="http://guide.targetprocess.com/troubleshooting/no-lanes.html" target="_blank">Find out why this happens?</a>')},_show:function(e){var i={id:this.messageId,button:{caption:"Hide Forever",callback:s.bind(this._disableMessage,this)},type:"information",disableAutoClose:!0,$node:t(e)};this.fire("notification",i)},_disableMessage:function(){var s={};s[this.configFieldName]=!0,this.settingsManager.set({set:s,callback:t.proxy(function(s){this.fire("nodata.settings.ready",{messageDisabled:s[this.configFieldName]})},this)})},_hideMessage:function(){this.fire("clearError",{id:this.messageId})}})});