define(["Underscore","jQuery","tau/ui/extensions/board.context.filter/ui.extension.board.context.filter.add.abstract"],function(_,$,ExtensionBase){return ExtensionBase.extend({"bus $teamSection.ready":function(evt,$section){var self=this,$form=this._initForm($section);this._addSubmitDataListener($form,function(data){self.fire("team.add.ready",data)});var $select=$form.find("select"),$rich=this._initRichSelect($form,$select);$rich.on("change",function(evt,data){var prev=$rich.attr("data-value");$rich.removeClass("tau-icon_name_"+prev),$rich.addClass("tau-icon_name_"+(data||"default"))})},"bus configurator.ready:last + $teamSection.ready:last + team.add.success":function(evt,configurator,$section,data){this._addToList($section,configurator.getTemplateFactory().get("board.context.filter.teams.list"),data),$section.find("form").trigger("reset"),$section.removeClass("tau-managed-category_isempty_true"),this.fire("team.add.completed")},"bus $teamSection.ready:last + team.add.failure":function(evt,$section,error){$section.find(".i-role-form :text:first").focus().select().addClass("tau-error"),this.fire("error",error)},"bus $teamSection.ready:last + team.add.nonFatalFailure":function(evt,$section,error){this.fire("error",error)}})})