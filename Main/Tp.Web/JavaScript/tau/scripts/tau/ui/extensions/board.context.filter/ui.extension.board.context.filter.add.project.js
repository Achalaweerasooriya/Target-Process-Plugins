define(["Underscore","jQuery","tau/ui/extensions/board.context.filter/ui.extension.board.context.filter.add.abstract"],function(_,$,ExtensionBase){return ExtensionBase.extend({"bus $projectSection.ready":function(evt,$section){var self=this,$form=this._initForm($section);this._addSubmitDataListener($form,function(data){self.fire("project.add.ready",data)});var $select=$form.find("select[name=color]"),$rich=this._initRichSelect($form,$select);$rich.on("change",function(evt,data){$rich.css("background-color",data)})},"bus configurator.ready:last + $projectSection.ready:last + project.add.success":function(evt,configurator,$section,data){this._addToList($section,configurator.getTemplateFactory().get("board.context.filter.projects.list"),data),$section.find("form").trigger("reset"),$section.removeClass("tau-managed-category_isempty_true"),this.fire("project.add.completed")},"bus $projectSection.ready:last + project.add.failure":function(evt,$section,error){$section.find(".i-role-form :text:first").focus().select().addClass("tau-error"),this.fire("error",error)},"bus $projectSection.ready:last + project.add.nonFatalFailure":function(evt,$section,error){this.fire("error",error)}})})