define(["Underscore","jQuery","tau/core/extension.base","tau/ui/templates/print.cards/ui.template.print.cards","tau/core/tau"],function(r,t,i,e){return i.extend({"bus afterRender":function(r,i){i.element.on("click",".i-role-print-trigger",function(r){t(r.currentTarget).prop("disabled",!0),this.fire("getCardsData")}.bind(this))},clearPrintBlock:function(){this.$printBlock&&(this.$printBlock.remove(),t("body").css({overflow:""}))},"bus clearPrintBlock":function(){this.clearPrintBlock()},"bus destroy":function(){this.clearPrintBlock(),this._super()},"bus configurator.ready:last + renderCards + afterRender:last":function(i,n,d,o){o.element.find(".i-role-print-trigger").prop("disabled",!1);var c=t(".i-print-card");0===c.length&&(c=t('<div  class="i-print-card print-block-cards"/>').appendTo("body"),t("body").css({overflow:"hidden"})),this.$printBlock=c;var a=e.render(d);c.removeClass("print-block-cards_hide").html(a);var s=a.find(".i-role-card"),h=r.reduce(s,function(r,i){var e=t(i).height(),n=t(i).width();return r.height=e>r.height?e:r.height,r.width=e>r.width?n:r.width,r},{width:0,height:0}),l=1.92,u={width:h.width*l,height:h.height*l+35};a.find(".wrap-cards-for-print").css(u),t(window).on("afterprint",function(){this.clearPrintBlock()}.bind(this)),window.print(),c.addClass("print-block-cards_hide")}})});