define(["tau/core/extension.base.stateful"],function(ExtensionBase){return ExtensionBase.extend({"bus afterRender":function(evt){var $el=evt.data.element,store=this.config.context.configurator.getStore(),entity=this.config.context.entity,entityType=entity.entityType.name,entityMembers=entityType+"Members";$el.delegate("[role=action-detach]","click",function(e){var $button=$(e.target),$item=$button.parents("[role=item]:first"),setData={};setData[entityMembers]={id:$item.data("entityId")},store.removeFromList(entityType,{id:entity.id,$set:setData}).done({success:function(){store.evictProperties(entity.id,entityType,[entityMembers])}})})}})})