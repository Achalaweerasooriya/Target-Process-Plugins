define(["jQuery","Underscore","tau/components/extensions/component.extension.base"],function(e,t,i){return i.extend({resetLifecycle:!0,init:function(e){this._super(e),this._updateMetaInfoDebouncedHandler=t.debounce(this.updateMetaInfoAsync,500)},updateMetaInfoAsync:function(e,i,s,n){this._request&&this._request.reject({data:{status:0}});var a=t.pluck(e.x.data,"x"),d=t.pluck(e.y.data,"y"),r={$whereX:a.length?{x:{$in:a}}:void 0,$whereY:d.length?{y:{$in:d}}:void 0};if(r.$whereX||r.$whereY){var o=this;this._request=i.axesCounts(r).done(function(e){o._request=null,n.updateAxesMetaInfo(e.data.items,s),o.fire("view.axes.counters.updated")})}},"bus boardSettings.ready":function(e,i){i=i.boardSettings;var s=t.bind(function(e){this.fire("boardSettings.limitsReady",e.limits||{})},this);i.get({fields:["limits"],listener:this,callback:s}),i.unbind({listener:this}),i.bind({fields:["limits"],listener:this,callback:s})},"bus model.sliceInfo.retrieved + slice.ready + domWrapper.ready + boardSettings.limitsReady":function(e,t,i,s,n){this._updateMetaInfoDebouncedHandler(t,i.slice,n,s)},"bus boardSettings.limitsReady:last > model.sliceInfo.retrieved:last > slice.ready:last > domWrapper.ready:last >  view.card.batch.move.completed":function(e,t,i,s,n){this._updateMetaInfoDebouncedHandler(i,s.slice,t,n)},"bus boardSettings.limitsReady:last > model.sliceInfo.retrieved:last > slice.ready:last > domWrapper.ready:last > boardSettings.limitsReady:last > operation.execute.done":function(e,t,i,s,n){this._updateMetaInfoDebouncedHandler(i,s.slice,t,n)},"bus model.sliceInfo.retrieved:last > slice.ready:last > domWrapper.ready:last > boardSettings.limitsReady":function(e,t,i,s,n){this._updateMetaInfoDebouncedHandler(t,i.slice,n,s)},"bus boardSettings.ready:last + destroy":function(e,t){t=t.boardSettings,t.unbind({listener:this})}})});