define(["Underscore","jQuery","tau/core/extension.base","tau/ui/extensions/card.viewer.progress.indicators"],function(e,t,i,r){return i.extend({init:function(e){this.progressIndicators=new r,this._super(e)},"bus configurator.ready":function(e,t){var i=this;t.getComponentBusRegistry().getByName("entityViewer").done(function(e){i.fire("viewerBus.ready",e)})},"bus viewerBus.ready + $el.ready + configurator.ready:last":function(i,r,a,n){r.on("application.error",e.bind(function(e){this.fire("view.cardDetails.lastResult",{type:"error",data:e.data})},this)),r.on("application.contentRendered",e.bind(function(e){this.fire("view.cardDetails.lastResult",{type:"loaded",data:e.data})},this)),a.on("dblclick",".i-role-card",e.bind(function(e){var i=t(e.currentTarget),a=i.data();n.getBoardCacheService().setData(a.cardData),this.progressIndicators.show(i,{hover:!0}),r.fire("cardDataToShowSilent.ready",a)},this)),a.on("mousedown",".tau-id",function(e){e.stopPropagation()})},"bus view.cardDetails.lastResult":function(){this.progressIndicators.hideAll()}})});