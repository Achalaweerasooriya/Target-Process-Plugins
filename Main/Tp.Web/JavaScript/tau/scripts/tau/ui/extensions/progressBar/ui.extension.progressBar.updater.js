define(["tau/components/extensions/component.extension.base","tau/ui/behaviour/overlay/ui.behaviour.overlay"],function(e){return e.extend({"bus afterRender":function(e){this.$el=e.data.element,this.config.context.getTimeTrackingPolicies().disableSpentRemain&&this.$el.find(".ui-progressbar__data").hide()},"bus roleEffortChanged":function(){this.refresh()},"bus remainTimeChanged":function(){this.refresh()},"bus beforeChanges":function(){this.$el.tauOverlay()},"bus applyChanges":function(){this.$el.data("ui-tauOverlay")&&this.$el.tauOverlay("hide"),this.refresh()},refresh:function(){this.fire("refresh")}})});