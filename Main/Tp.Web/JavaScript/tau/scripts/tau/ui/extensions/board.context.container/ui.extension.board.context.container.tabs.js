define(["Underscore","jQuery","tau/core/extension.base"],function(e,t,o){return o.extend({resetLifecycle:!0,"bus initialize":function(){this.activeTab="selector"},"bus beforeInit":function(e,t){var o=t.config.context.configurator;this.fire("configurator.ready",o)},"bus show":function(){"selector"!=this.activeTab?this.fire("tab.activate","selector"):this.fire("tab.activate.completed","selector")},"bus $el.ready":function(e,t){var o=this;t.on("click",".i-role-section-teams .i-role-formtrigger",function(){o.fire("tab.activate","team.formAdd")}),t.on("click",".i-role-section-projects .i-role-formtrigger",function(){o.fire("tab.activate","project.formAdd")}),t.on("click","[type=reset]",function(){o.fire("tab.activate","selector")})},"bus configurator.ready":function(e,t){var o=this;t.getComponentBusRegistry().getByName("team_form_add").done(function(e){o.fire("teamFormAddBus.ready",e),e.on("entity.add.completed",function(){o.fire("tab.activate","selector")})}),t.getComponentBusRegistry().getByName("project_form_add").done(function(e){o.fire("projectFormAddBus.ready",e),e.on("entity.add.completed",function(){o.fire("tab.activate","selector")})}),t.getComponentBusRegistry().getByName("board_context_selector").done(function(e){o.fire("selectorBus.ready",e)})},"bus $bubbled.ready:last + $el.ready:last + childrenBuses.ready:last + tab.activate":function(o,i,r,c,a){t("body").data("contextOverflow",t("body").css("overflow")),t("body").css("overflow","hidden"),r.css("visibility","hidden"),r.css("overflow","hidden"),r.css("width",r.width()+"px"),r.css("height",r.height()+"px");var s;e.forEach(c,function(e,t){t!=a?e.fire("hide"):s=e}),s&&(s.once("show.completed",function(e,o){o.length&&(r.css("width","auto"),r.css("height","auto"),r.css("overflow","visible")),i.tauBubble("adjust"),r.css("visibility","visible"),t("body").css("overflow",t("body").data("contextOverflow"))},this),s.fire("show"),this.fire("tab.activate.completed",a),this.activeTab=a)},"bus teamFormAddBus.ready:last + tab.activate.completed":function(e,t,o){"team.formAdd"==o&&t.fire("show.completed")},"bus projectFormAddBus.ready:last + tab.activate.completed":function(e,t,o){"project.formAdd"==o&&t.fire("show.completed")}})});