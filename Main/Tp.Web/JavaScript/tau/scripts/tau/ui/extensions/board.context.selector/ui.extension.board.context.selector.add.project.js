define(["Underscore","jQuery","tau/ui/extensions/board.context.selector/ui.extension.board.context.selector.add.abstract"],function(t,e,r){return r.extend({"bus $projectSection.ready":function(t,r){var o=this,i=this._initForm(r);this._addSubmitDataListener(i,function(t){o.fire("project.add.ready",t)});var a=i.find("select[name=color]"),c=this._initRichSelect(i,a);c.on("change",function(t,e){c.css("background-color",e)}),r.on("click",".i-role-tab-add [type=reset]",function(){e("[data-tab=add]",r).click()})},"bus configurator.ready:last + $projectSection.ready:last + project.add.success":function(t,e,r,o){this._addToList(r,e.getTemplateFactory().get("board.context.filter.projects.list"),o),r.find("form").trigger("reset"),r.removeClass("tau-managed-category_isempty_true"),this.fire("project.add.completed")},"bus $projectSection.ready:last + project.add.failure":function(t,e,r){e.find("form").trigger("entity.add.failed"),e.find(".i-role-form :text:first").focus().select().addClass("tau-error"),this.fire("error",r)},"bus $projectSection.ready:last + project.add.nonFatalFailure":function(t,e,r){this.fire("error",r)}})});