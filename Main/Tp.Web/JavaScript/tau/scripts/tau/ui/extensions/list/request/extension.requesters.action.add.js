define(["tau/components/extensions/component.extension.base","tau/components/extensions/bubble/extensions.bubble.creator","tau/ui/extensions/list/request/extension.requesters.tabs","tau/components/extensions/component.creator.extension"],function(a,b,c,d){return a.extend({"bus afterInit":function(a){var c=a.data.config.bus,e=new b({bus:c}),f=new d({bus:c}),g=a.data.config.store,h=a.data.config.context.entity;g.unbind(this),g.on({eventName:"afterSave",type:h.entityType.name,listener:this,filter:{id:h.id},hasChanges:["requesters"]},function(){g.evictProperties(h.id,h.entityType.name,["requesters"]),c.fire("refresh")})},"bus afterRender":function(a){var b=a.data.element.find("[role=action-add]"),d={actionOnBlur:"destroy",target:b,alignTo:b,componentsConfig:{components:[{type:"tabs",cssClass:"tau-tabs-small",extensions:[c],tabs:[{label:"select",header:[{type:"label",text:"Select requester"}],items:[{type:"finder.requesters"}],selected:!0},{label:"add",header:[{type:"label",text:"Add new"}],items:[{type:"editor.requester"}]}]}],context:this.config.context}};this.fire("initBubble",d);var e=function(){b.tauBubble("empty"),b.data("bubbleLoaded",!1)};b.bind("externalClose",e),b.bind("close",e),b.on("show",function(){var a=b.tauBubble("widget");a.delegate("[role=action-cancel]","click",e)})}})})