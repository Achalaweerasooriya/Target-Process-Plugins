define(["tau/components/extensions/component.extension.base","tau/ui/templates/comments/ui.template.comments.comment"],function(ExtensionBase,commentTemplate){var commentListEditable=ExtensionBase.extend({destroy:function(){this.destroyDynamicComponents(),this._super()},lifeCycleCleanUp:function(){this.destroyDynamicComponents(),this._super()},destroyDynamicComponents:function(){var self=this;if(self.dynamicComponents&&self.dynamicComponents.length){var item=null;while(item=self.dynamicComponents.pop())item.destroy()}},"bus applyTo":function(evt){var self=this;self.dynamicComponents=[];var data=evt.data,comments=data.data.comments;this.element=data.element;var $comments=data.element.children(".ui-comment");this.config=data.config;var context=data.config.context,componentsConfig={components:[],context:context};$comments.each(function(i){componentsConfig.components.push({type:"comment"})}),self.createComponents(componentsConfig,function(data){for(var i=0,len=data.length;i<len;i++){var item=data[i],applyConfig={element:$comments.eq(i),data:comments[i],config:item.config};item.component.fire("applyTo",applyConfig),self.dynamicComponents.push(item.component)}})}});return commentListEditable})