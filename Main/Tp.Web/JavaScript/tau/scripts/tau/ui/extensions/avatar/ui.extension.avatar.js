define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(e,n,t){return t.extend({"bus afterRender":function(e){var t=e.data.element,o=function(e){e.at="center bottom-10",e.my="center top"},i={target:t,onPositionConfig:o,onArrowPositionConfig:o,showEvent:this.config.editorConfig.showEvent||"mouseenter",hideEvent:"click",showCloseButton:!1,delay:100,onShow:function(){var e=this.target.tauBubble("widget");e.find(".tau-bubble__inner").attr("tabindex",-1).css("outline","none").focus(),e.on("keydown",function(t){t.keyCode==n.ui.keyCode.ESCAPE&&(e.hide().off("keydown"),t.stopPropagation())})},componentsConfig:{components:[{type:"avatar.editor"}],context:this.config.context},stackName:"avatar"};this.fire("initBubble",i)},"bus avatarChanged":function(){this.fire("refresh")}})});