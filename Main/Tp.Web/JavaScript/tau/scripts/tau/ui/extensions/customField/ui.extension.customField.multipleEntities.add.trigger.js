define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/models/finder.entity/model.finder.entity.data.customField.multipleEntities","tau/models/finder.entity/model.finder.entity.data.customField.multipleEntities.editable"],function(e,t,i,n,o){return i.extend({"bus afterInit":function(){this.fire("dataBind")},"bus beforeInit + afterRender":function(e,t,i){this.customField=t.config.customField,this.fire("customField.ready",this.customField),this._initFinder(i.element,this.customField)},_initFinder:function(t,i){i.options=(i.value||"").split("\n");var s={actionOnBlur:"destroy",target:t,className:"tau-bubble-lookup",componentsConfig:{components:[{type:"finder.entity",model:n,modelEditable:o,customField:i}]}};i.value&&(s.componentsConfig.components[0].$query={entityType:{id:{$in:e.asString(i.value).split("\r\n").join(",")}}}),this.fire("initBubble",s)}})});