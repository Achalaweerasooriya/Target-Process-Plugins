define(["Underscore","jQuery","tau/core/extension.base.stateful"],function(e,t,b){return b.extend({"bus afterRender":function(e,t){var b=t.element;this.fire("$el.ready",b)},"bus beforeInit + $el.ready + $trigger.ready":function(t,b,u,i){i.data("ui-tauBubble")&&i.tauBubble("destroy");var o={content:u,zIndex:"",onShow:e.bind(function(){this.fire("show")},this),onHide:e.bind(function(){this.fire("hide")},this)};this.config.autoClose===!1&&(o.stackName="bubble"+e.uniqueId(),o.dontCloseSelectors=["body"]),this.config.stackName&&(o.stackName=this.config.stackName),i.tauBubble(e.defaults(b.config.options||{},o)),this.fire("$bubbled.ready",i)},"bus view.dom.ready + $bubbled.ready":function(t,b,u){u.on("taububbledestroy",e.bind(function(){this.isDestroyed||this.fire("destroy")},this))},"bus $bubbled.ready:last + hide":function(e,t,b){t.tauBubble("hide",b||{})},"bus $bubbled.ready + componentsCreated":function(t,b,u){var i=!1,o=e.bind(function(e){var t=e.data("ui-tauBubble");this.config.visible&&!i&&(!t||t.$popup&&t.$popup.is(":visible")||e.tauBubble("show"),i=!0),e.data("ui-tauBubble")&&e.tauBubble("isVisible")&&e.tauBubble("adjust")},this,b),n=".bubbleComponent"+this.__objectId;e.forEach(u,function(t){var u=t.component;b.on("taububbleshow"+n,e.bind(u.fire,u,"$outerBubbled.shown")),b.on("taububblehide"+n,e.bind(u.fire,u,"$outerBubbled.hidden")),u.on("afterRender",o),u.on("dom.modified",o),u.on("svg.ready",o),u.on("adjustPosition",o)}),o()},"bus $bubbled.ready:last + $el.ready:last + show.completed":function(e,t){t.tauBubble("adjust")},"bus $bubbled.ready:last + destroy":function(e,t){this.isDestroyed=!0,t.data("ui-tauBubble")&&t.tauBubble("destroy");var b=".bubbleComponent"+this.__objectId;t.off(b)}})});