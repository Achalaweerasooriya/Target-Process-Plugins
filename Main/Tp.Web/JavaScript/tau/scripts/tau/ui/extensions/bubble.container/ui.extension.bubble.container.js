define(["Underscore","jQuery","tau/core/extension.base.stateful"],function(e,t,b){return b.extend({"bus afterRender":function(e,t){var b=t.element;this.fire("$el.ready",b)},"bus beforeInit + $el.ready + $trigger.ready":function(t,b,i,n){n.tauBubble("instance")&&n.tauBubble("destroy");var o={content:i,zIndex:"",onShow:function(){this.fire("show")}.bind(this),onHide:function(){this.fire("hide")}.bind(this)};this.config.autoClose===!1&&(o.stackName="bubble"+e.uniqueId(),o.dontCloseSelectors=["body"]),this.config.stackName&&(o.stackName=this.config.stackName),n.tauBubble(e.defaults(b.config.options||{},o)),this.fire("$bubbled.ready",n)},"bus view.dom.ready + $bubbled.ready":function(t,b,i){i.on("taububbledestroy",e.bind(function(){this.isDestroyed||this.fire("destroy")},this))},"bus $bubbled.ready:last + hide":function(e,t,b){t.tauBubble("hide",b||{})},"bus $bubbled.ready + componentsCreated":function(t,b,i){var n=!1,o=e.bind(function(e){var t=e.tauBubble("instance");this.config&&this.config.visible&&!n&&(!t||t.$popup&&t.$popup.is(":visible")||e.tauBubble("show"),n=!0),t&&e.tauBubble("isVisible")&&e.tauBubble("adjust")},this,b),u=".bubbleComponent"+this.__objectId;e.forEach(i,function(t){var i=t.component;b.on("taububbleshow"+u,e.bind(i.fire,i,"$outerBubbled.shown")),b.on("taububblehide"+u,e.bind(i.fire,i,"$outerBubbled.hidden")),i.on("afterRender",o),i.on("dom.modified",o),i.on("svg.ready",o),i.on("adjustPosition",o)}),o()},"bus $bubbled.ready:last + $el.ready:last + show.completed":function(e,t){t.tauBubble("adjust")},"bus $bubbled.ready:last + destroy":function(e,t){this.isDestroyed=!0,t.tauBubble("instance")&&t.tauBubble("destroy");var b=".bubbleComponent"+this.__objectId;t.off(b)}})});