define(["Underscore","jQuery","tau/core/extension.base"],function(e,s,n){return n.extend({$subMenu:null,"bus beforeInit":function(e,s){var n=s.config.context.configurator;n.getComponentBusRegistry().getByName("entityViewer").done(function(e){this.fire("viewerBus.ready",e)}.bind(this))},"bus subMenu.ready":function(e,s){this.$subMenu&&this.$subMenu.off(".showUserProfile"),this.$subMenu=s,s.on("click.showUserProfile",".tau-user-menu-profile",function(){this.fire("show.user.profile")}.bind(this))},"bus viewerBus.ready:last + dataBind:last + show.user.profile":function(e,s,n){s.fire("cardDataToShow.ready",{entityType:"user",entityId:n.userId})},destroy:function(){this.$subMenu&&(this.$subMenu.off(".showUserProfile"),this.$subMenu=null),this._super()}})});