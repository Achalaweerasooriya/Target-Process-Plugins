define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(a,b,c){return c.extend({"bus markElementToBeDeleted":function(a){var b=a.data,c=b.element;c.addClass("deleting")},"bus deleteElement":function(a){var b=a.data.element,c=a.data.callback;b.fadeOut(750,c)},"bus markElementToBeUpdated":function(a){var b=a.data,c=b.element;c.addClass("updating")},"bus cancelUpdateElement":function(a){var b=a.data.element;this._highlightElement(b,"#EE5757",1500)},"bus updateElement":function(a){var c=this,d=a.data.element;d.each(function(){var a=b(this);c._highlightElement(a,"#FFFFD3",1500)})},_highlightElement:function(a,b,c){a.removeClass("updating");var d=this._getElementBgColor(a),e=a.css("backgroundColor");a.stop().css({backgroundColor:b}).animate({backgroundColor:d},c,function(){(e=="transparent"||e=="rgba(0, 0, 0, 0)")&&a.css("backgroundColor","")})},_getElementBgColor:function(a){var b="transparent";while(a.length>0&&a.parent()&&((b=a.css("backgroundColor"))=="transparent"||b==undefined||b=="rgba(0, 0, 0, 0)"||b.length==0)){a=a.parent();if(a.is("body"))break}if(b=="transparent"||b.length==0)b="#ffffff";return b}})})