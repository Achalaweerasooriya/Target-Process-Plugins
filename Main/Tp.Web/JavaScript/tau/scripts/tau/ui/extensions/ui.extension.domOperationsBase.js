define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(e,t,n){return n.extend({name:"ui.extension.domOperationsBase","bus markElementToBeDeleted":function(e){var t=e.data,n=t.element;n.addClass("deleting")},"bus deleteElement":function(e){var t=e.data.element,n=e.data.callback;t.fadeOut(750,n)},"bus markElementToBeUpdated":function(e){var t=e.data,n=t.element;n.addClass("updating")},"bus cancelUpdateElement":function(e){var t=e.data.element;this._highlightElement(t,"#EE5757",1500)},"bus updateElement":function(e){var n=this,a=e.data.element;a.each(function(){var a=t(this);n._highlightElement(a,e.data.color||"#FFFFD3",e.data.duration||1500)})},_highlightElement:function(e,t,n){e.stop(!0,!0),e.removeClass("updating"),e.addClass("before-animate");var a=this._getElementBgColor(e),o=(e.css("backgroundColor"),function(){e.css("backgroundColor","")});e.removeClass("before-animate"),e.css({backgroundColor:t}).animate({backgroundColor:a},n,o)},_getElementBgColor:function(e){for(var t="transparent";e.length>0&&e.parent()&&("transparent"==(t=e.css("backgroundColor"))||void 0==t||"rgba(0, 0, 0, 0)"==t||0==t.length)&&(e=e.parent(),!e.is("body")););return("transparent"==t||0==t.length)&&(t="#ffffff"),t}})});