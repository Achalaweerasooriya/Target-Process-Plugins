define(["jQuery","Underscore","tau/core/extension.base"],function(e,t,o){return o.extend({init:function(e){var t=this;t._super.apply(t,arguments),t.flowHelpService=e.context.configurator.getHelpScenarioService(),t.config=e},"bus afterRender":function(e,t){var o=this,n=t.element,r=o.flowHelpService;n.on("click",".i-role-flowhelp-stop-flow",function(){r.abort(),o.fire("help.flow.action",{name:"stop"})});var i={target:n,className:"tau-bubble-flow",stackName:"helpFlowStep",applyBubbleClasses:!1,zIndex:10,componentsConfig:{components:[{type:"board.flowHelp.popup"}],context:this.config.context},onPositionConfig:function(e){e.at="center bottom-6",e.my="center top"},onBeforeShow:function(){return n.parent().hasClass("tau-flow-started")},showArrow:!1,showCloseButton:!1};this.fire("initBubble",i)},"bus afterRender:last + update":function(e,t,o){var n=t.element;n.find(".i-role-step").text(o.progress.done+1+"/"+o.progress.total),n.find(".i-role-step_name").text(o.currentState)}})});