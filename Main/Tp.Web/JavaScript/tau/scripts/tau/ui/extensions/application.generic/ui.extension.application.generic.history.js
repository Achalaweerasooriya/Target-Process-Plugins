define(["Underscore","tau/core/extension.base"],function(_,ExtensionBase){return ExtensionBase.extend({"bus configurator.ready":function(evt,configurator){this.setHandler(configurator)},"bus configurator.ready:last + application.exit + application.navigate.entity":function(evt,configurator){this.setHandler(configurator)},"bus configurator.ready:last + history.reset":function(e,configurator){configurator.getHistory().reset()},"bus configurator.ready:last + controller.preExecute":function(e,configurator){configurator.getHistory().process()},"bus configurator.ready:last + application.exit":function(evt,configurator){this.clear(configurator)},"bus configurator.ready:last + destroy":function(evt,configurator){this.clear(configurator)},setHandler:function(configurator){var _handler=_.bind(function(e){var current=configurator.getHistory().getCurrent();current&&current.title&&configurator.getTitleManager().set(current.title)},this);configurator.getHistory().on("setCurrent",_handler,this)},clear:function(configurator){configurator.getTitleManager().restoreDefault();var history=configurator.getHistory();history.reset(),history.removeAllListeners(this)}})})