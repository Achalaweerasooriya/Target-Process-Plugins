define(["Underscore","jQuery","tau/views/view.container"],function(_,$,ViewBase){return ViewBase.extend({"bus initialize":function(evt){},"bus initialize + boardSettings.ready":function(evt,config,bs){this.startLifeCycle(config,bs.boardSettings)},"bus refresh":function(){this.startLifeCycle()},startLifeCycle:function(evt,boardSettings){boardSettings=boardSettings||this.boardSettings,this.boardSettings=boardSettings;var _s=_.bind(this._super,this);boardSettings.get({fields:["viewMode"],callback:_.bind(function(result){this.config.visible=result.viewMode=="board",_s(evt,boardSettings)},this)}),boardSettings.unbind({listener:this}),boardSettings.bind({fields:["viewMode"],listener:this,callback:_.bind(function(result){this.config&&(this.config.visible=result.viewMode=="board",this.fire(this.config.visible?"show":"hide"))},this)})}})})