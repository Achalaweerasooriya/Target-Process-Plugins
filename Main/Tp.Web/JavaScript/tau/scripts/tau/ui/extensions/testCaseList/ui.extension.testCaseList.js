define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,ExtensionBase){return ExtensionBase.extend({"bus afterRender":function(evt){var self=this;self.element=evt.data.element,self.element.find("tbody .extra-info").click(function(){self._onButtonClick.call(self,this)}),self.element.find("thead .extra-info.expand").click(function(){self.expandAll()}),self.element.find("thead .extra-info.collapse").click(function(){self.collapseAll()})},"bus expandTestCase":function(evtArgs){var testCaseId=evtArgs.data.testCaseId;this.element.find("tbody.collapsed").each(function(){$(this).tmplItem().data.id==testCaseId&&$(this).removeClass("collapsed").find(".extra-info").removeClass("expand").addClass("collapse")})},expandAll:function(){this.element.find("tbody.collapsed").removeClass("collapsed"),this._changeButtonsState("expand","collapse","-")},collapseAll:function(){this.element.find("tbody:not(.collapsed)").addClass("collapsed"),this._changeButtonsState("collapse","expand","+")},_changeButtonsState:function(buttonClsName,addCls,text){var selector="tbody .extra-info."+buttonClsName,expandItem=function(){$(this).addClass(addCls).removeClass(buttonClsName).children("div").text(text)};this.element.find(selector).each(expandItem)},_onButtonClick:function(target){$(target).toggleClass("collapse").toggleClass("expand").parents("tbody").toggleClass("collapsed");var $child=$(target).children("div"),text=$child.text();text=="+"?text="-":text="+",$child.text(text)}})})