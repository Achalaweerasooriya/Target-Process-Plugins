define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/utils/utils.redirect"],function(_,$,a,b){return a.extend({"bus beforeInit":function(a){this.options=a.data.config,this.options.window=this.options.window||window},"bus afterRender":function(a){this.element=a.data.element,this.entity=a.data.data.context.entity;var b=this.element,c=this;this._printHandler||(this._printHandler=_.bind(this._print,this),b.find(".ui-print__controls__print").bind("click",this._printHandler));var d=b.find(".ui-print__controls__close");this._closeHandler||(this._closeHandler=_.bind(this._close,this),b.find(".ui-print__controls__close").bind("click",this._closeHandler))},_print:function(a){this.options.window.print()},_close:function(a){a.preventDefault(),this.options.window.opener?this.options.window.close():(new b(this.options.context)).redirect("View.aspx?noRedirect=1&id=${entity.id}")}})})