define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,ExtensionBase){return ExtensionBase.extend({"bus beforeInit":function(evt){this.options=evt.data.config,this.options.window=this.options.window||window},"bus afterRender":function(evtArgs){this.element=evtArgs.data.element,this.entity=evtArgs.data.data.context.entity;var $el=this.element,self=this;this._printHandler||(this._printHandler=_.bind(this._print,this),$el.find(".ui-print__controls__print").bind("click",this._printHandler));var $close=$el.find(".ui-print__controls__close");this._closeHandler||(this._closeHandler=_.bind(this._close,this),$el.find(".ui-print__controls__close").bind("click",this._closeHandler))},_print:function(e){this.options.window.print()},_close:function(e){e.preventDefault(),this.options.window.opener?this.options.window.close():this.config.context.configurator.getRedirect().redirect("View.aspx?noRedirect=1&id=${entity.id}",null,this.options.context)}})})