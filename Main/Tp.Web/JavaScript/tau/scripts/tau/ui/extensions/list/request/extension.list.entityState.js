define(["Underscore","tau/components/extensions/component.extension.base"],function(t,e){return e.extend({destroy:function(){this.config.store.unbind(this),this._super()},"bus afterInit+dataBind+afterRender":function(e){var n=e.afterInit.data.config.store,a=e.dataBind.data.items,i=e.afterRender.data.element,s=t.pluck(a,"id");n.on({eventName:"afterSave",type:"general",listener:this,hasChanges:["entityState"]},function(e){var a=e.data.id;-1!=t.indexOf(s,a)&&n.get(e.data.cmd.type,{id:a,fields:["id",{entityState:["id","isFinal"]}]}).done({success:function(t){var e=t[0].data.entityState.isFinal;i.find(".i-item-"+a).toggleClass("tau-list__table__row_isfinalstate_true",e)}})})}})});