define(["tau/components/extensions/component.extension.base"],function(ExtensionBase){return ExtensionBase.extend({destroy:function(){this.config.store.unbind(this)},"bus afterInit+dataBind+afterRender":function(evt){var store=evt.afterInit.data.config.store,items=evt.dataBind.data.items,$el=evt.afterRender.data.element,ids=_.pluck(items,"id");store.on({eventName:"afterSave",type:"general",listener:this,hasChanges:["entityState"]},function(evt){var id=evt.data.id;if(_.indexOf(ids,id)==-1)return;store.get(evt.data.cmd.type,{id:id,fields:["id",{entityState:["id","isFinal"]}]}).done({success:function(result){var isFinal=result[0].data.entityState.isFinal;$el.find(".i-item-"+id).toggleClass("tau-list__table__row_isfinalstate_true",isFinal)}})})}})})