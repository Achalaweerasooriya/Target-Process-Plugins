define(["jQuery","tau/core/extension.base"],function(e,t){return t.extend({SUBMIT_BUTTON_TEXT:"Set","bus afterRender + childrenBuses.ready + boardSettings.ready":function(t,i,n,s){var d=n[0],o=n[1],a=i.element.find(".i-role-output");this._bs=s.boardSettings,o.fire("$trigger.ready",a),d.on("refresh",function(){o.fire("hide",{silent:!0})}),a.on("click",function(t){var i=e(t.target),n=i.closest(".tau-context");(!n.closest(".tau-context").length||n.is(":disabled"))&&(o.fire("hide",{silent:!0}),i.hasClass("tau-remove-selected-context")&&!i.is(":disabled")&&(a.find(".tau-line-group").removeClass("hidden"),a.find(".tau-inline-group").addClass("hidden"),s.boardSettings.set({set:{acid:""}})))}),o.on("show.completed",function(e,t){t.find("button.tau-teams-projects-submit").text(this.SUBMIT_BUTTON_TEXT),t.find(".i-role-process-submit").remove()}.bind(this)),this._bs.bind({fields:["acid"],listener:this,callback:function(e){""!==e.acid&&(a.find(".tau-line-group").addClass("hidden"),a.find(".tau-inline-group").removeClass("hidden"))}}),o.on("show",function(){a.find(".tau-context").addClass("tau-checked")}),o.on("hide",function(){a.find(".tau-context").removeClass("tau-checked")})},"bus destroy":function(){this._bs.unbind(this)}})});