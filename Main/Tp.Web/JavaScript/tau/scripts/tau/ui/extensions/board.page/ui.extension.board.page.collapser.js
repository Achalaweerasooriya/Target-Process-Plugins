define(["Underscore","jQuery","tau/core/extension.base"],function(e,i,t){return t.extend({configFieldName:"collapser_aside_collapsed","bus beforeInit + afterRender":function(i,t,a){var s=t.config.context.configurator,r=s.getSettingsManager(),n=a.element,o=this.configFieldName,d=n.filter("[role=app-body]:first");this.fire("$appBody.ready",d),this.fire("configurator.ready",s),r.get({fields:[o],callback:e.bind(function(e){this.fire("isCollapsed.ready",!!e[o])},this)}),r.unbind({listener:this}),r.bind({fields:[o],listener:this,callback:e.bind(function(e){this.fire("isCollapsed.ready",!!e[o])},this)})},"bus $appBody.ready:last + configurator.ready:last + isCollapsed.ready":function(e,t,a,s){var r=t.hasClass("tau-sp-collapsed");r!=s&&(t.toggleClass("tau-sp-collapsed",s),i(a.getWindow()).trigger("resize"))},"bus configurator.ready+destroy":function(e,i){var t=i.getSettingsManager();t.unbind({listener:this})}})});