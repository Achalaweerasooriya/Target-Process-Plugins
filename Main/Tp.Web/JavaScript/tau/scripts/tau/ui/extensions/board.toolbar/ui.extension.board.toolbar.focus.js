define(["jQuery","tau/components/extensions/component.extension.base","tau/ui/extensions/board.plus/ui.board.plus.utils","Underscore"],function(e,t,s,n){return t.extend({"bus boardSettings.ready:last + destroy":function(e,t){t.boardSettings.unbind({listener:this})},"bus boardSettings.ready:last + afterRender":function(t){var s=n.values(t)[0].data.boardSettings,a=n.values(t)[1].data.element,i=a.find("[role=action-focus]"),l=a.find("[role=action-unfocus]"),c=function(e,t){e.removeClass("tau-btn-active-highlight"),t&&e.addClass("tau-btn-active-highlight")},r=function(){s.get({fields:["focus","selectedMarks"],callback:function(e){var t=n.defaults(e.selectedMarks||{},{x:[],y:[]}),s=!(!t.x.length&&!t.y.length);i.prop("disabled",!s),c(i,s);var a=n.defaults(e.focus||{},{x:[],y:[]}),r=!(!a.x.length&&!a.y.length);l.prop("disabled",!r),c(l,r)}})};s.unbind({listener:this}),s.bind({fields:["focus","selectedMarks"],skipSilentCallsFiltering:!0,listener:this,callback:r}),s.get({fields:["focus","selectedMarks"],callback:r});var o=function(e){s.get({fields:["focus","selectedMarks"],callback:function(t){var n=t.focus||{x:[],y:[]},a=t.selectedMarks||{x:[],y:[]};e?(a.x.length>0&&(n.x=a.x),a.y.length>0&&(n.y=a.y)):n={x:[],y:[]},s.set({set:{focus:n,selectedMarks:{x:[],y:[]}}})}})};i.on("click",function(){var t=o(!0);return e(this).blur(),t}),l.on("click",function(){var t=o(!1);return e(this).blur(),t})}})});