define(["Underscore","jQuery","tau/core/extension.base","tau/ui/templates/board.plus/customized/ui.template.boardplus.default.card.customized","tau/ui/extensions/board.clipboard/ui.board.clipboard.helper"],function(e,a,t,l,d){return t.extend({"bus $el.ready:last+viewMode.ready":function(e,a,t){a.toggleClass("tau-boardclipboard_enable_true","board"===t),this.fire("$el.readyToLayout",a)},"bus $el.ready:last + $selectable.ready:last + configurator.ready:last + cards.ready":function(t,o,r,u,s){var n=d.getAllCards(o),i=a();0===s.length?n.detach():(i=a(e.inject(s,function(a,t){var d=n.filter("[data-_id="+t.dataItem._id+"]").eq(0);return d.length?n=n.not(d):(t.isSelected=!0,d=l.render(t),d.attr("id",e.uniqueId("clipboardcard_"))),d.length&&a.push(d[0]),a},[])),n.detach(),i.appendTo(d.getHolderCard(o)));var c=d.getSelectedCards(o),p=c.length;d.updateCounter(o,p),d.toggleActionsButton(o,p),r.tauSelectable("select",c),this.fire("count.updated",i.length)},"bus $el.ready:last + cards.changed":function(e,a){var t=d.getSelectedCards(a);this.update(a,t)},"bus $el.ready:last + cards.drag.stopped":function(e,a,t){this.update(a,t)},update:function(e,a){var t=a.length;d.updateCounter(e,t),d.toggleActionsButton(e,t)},"bus $el.ready:last + count.updated:last + collapseState.updated:last":function(e,a,t,l){var o="collapsed"==l;d.getCollapseButton(a).toggleClass("tau-collapsed",o),a.toggleClass("tau-boardclipboard_empty_true",0===t||o),this.fire("$el.readyToLayout",a)},"bus view.dom.ready":function(e,a){var t=a.element.find(".tau-app-main-pane");this.fire("$layout.ready",t)},"bus $layout.ready:last + $el.readyToLayout":function(e,a,t){var l=t.hasClass("tau-boardclipboard_enable_true"),d=t.hasClass("tau-boardclipboard_empty_true");a.toggleClass("tau-layout-board_south-visible_true",l),a.toggleClass("tau-layout-board_south-visible_false",!l),a.toggleClass("tau-layout-board_south-expanded_false",d),a.toggleClass("tau-layout-board_south-expanded_true",!d)}})});