define(["Underscore","tau/core/extension.base"],function(e,t){return t.extend({"bus beforeInit":function(e,t){var n=t.config.context.configurator,i=t.config.context.entity,o=n.getStore(),r=this;n.getGlobalBus().unbind(this),n.getGlobalBus().on("projectsAndUsers.connected",function(){o.evictProperties(i.id,i.entityType.name,["projectMembers"]),r.fire("refresh")},this),n.getGlobalBus().on("teamsAndUsers.connected",function(){o.evictProperties(i.id,i.entityType.name,["projectMembers"]),r.fire("refresh")},this),o.unbind(this);var s=function(){};o.on({eventName:"afterSave",type:"project",listener:this},s)},"bus beforeInit:last + destroy":function(e,t){var n=t.config.context.configurator;n.getGlobalBus().unbind(this),n.getStore().unbind(this)}})});