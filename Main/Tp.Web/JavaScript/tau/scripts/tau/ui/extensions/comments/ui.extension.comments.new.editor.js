define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/ui/behaviour/common/ui.behaviour.richeditor"],function(_,$,ExtensionBase){var NewEditorCommentExtension=ExtensionBase.extend({category:"edit",destroy:function(){this.$ckEditor.richeditor("destroy"),this._super()},"bus afterRender":function(evtArgs){this.element=evtArgs.data.element,this.initializeEditor()},onSave:function(commentText){var self=this;self.fire("editorSave"),self.fire("saveComment",{description:commentText}),self.closeEditor()},onCancel:function(evt){this.closeEditor()},closeEditor:function(){this.fire("destroy")},initializeEditor:function(){var self=this;this.$editorPlaceHolder=this.element.find(".ui-comment-text"),this.$ckEditor=this.$editorPlaceHolder.richeditor({executionGroupName:"comments",onSave:$.proxy(self.onSave,self),onCancel:$.proxy(self.onCancel,self),validation:{trim:!0},scrollToButtonBar:!0,settings:{toolbar:[["Bold","Italic","Strike"],["NumberedList","BulletedList"],["Link","Unlink"],["Image"],["Source"]],startupFocus:!0,extraPlugins:""},saveAction:{text:"Add comment",disableIfEmpty:!0},cancelAction:{available:!0}});var $editorElement=this.$ckEditor.richeditor("showEditor");this.fire("editorCreated",{editorElement:$editorElement})}});return NewEditorCommentExtension})