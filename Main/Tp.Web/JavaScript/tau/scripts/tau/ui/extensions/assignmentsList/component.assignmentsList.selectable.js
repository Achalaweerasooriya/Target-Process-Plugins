define(["tau/components/extensions/component.extension.base"],function(ExtensionBase){var assignableListSelectable=ExtensionBase.extend({"bus afterRender+permissionsReady":function(evtArgs){this.element=evtArgs.data.afterRender.element;var permissions=evtArgs.permissionsReady.data;permissions.editable&&(this.element.find(".user-list").click(_.bind(this.onUserListClick,this)),this.element.find(".owner-row").click(_.bind(this.onOwnerListClick,this)))},onOwnerListClick:function(evtArgs){var $target=$(evtArgs.target),$user=$target;if(!$user.is(".user")){$user=$target.parentsUntil(".owner-row",".user");if($user.is(".owner-row"))return}if($user.length>0){evtArgs.stopPropagation();var data=$user.data();this._fire("ownerSelected",{user:data.tmplItem.data,target:$user.find(".user-name")})}},onUserListClick:function(evtArgs){var $target=$(evtArgs.target),$user=$target;if(!$user.is(".user")){$user=$target.parentsUntil(".user-list",".user");if($user.is(".user-list"))return}if($user.length>0){evtArgs.stopPropagation();var role=$user.parent(".group").data().tmplItem.data.role,data=$user.data();data.tmplItem&&this._fire("userSelected",{user:data.tmplItem.data,target:$user.find(".user-name"),role:role})}}});return assignableListSelectable})