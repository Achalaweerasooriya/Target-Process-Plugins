define(["jQuery","tau/core/extension.base"],function($,ExtensionBase){return ExtensionBase.extend({"bus afterRender":function(evt,renderData){var $el=renderData.element,$groups=$el.find(".tau-boardselector__group"),$items=$el.find(".i-role-item"),$links=$el.find(".i-role-item a");this.fire("$el.ready",$el),this.fire("$groups.ready",$groups),this.fire("$items.ready",$items),this.fire("$links.ready",$links)},"bus $el.ready:last + $bubbled.ready:last + $items.ready:last + board.removed":function(evt,$el,$bubbled,$items,board){var $item=$items.filter("[data-id="+board.id+"]");$item.remove(),this.fire("refresh")},"bus $el.ready:last + $bubbled.ready:last + $items.ready:last + currentBoard.changed":function(evt,$el,$bubbled,$items,board){var $item=$items.filter("[data-id="+board.id+"]"),selectionClassName="tau-boardselector__item_active_true";$item.length?($item.hasClass(selectionClassName)||($items.removeClass(selectionClassName),$item.addClass(selectionClassName)),$bubbled.tauBubble("hide"),this._updateShowMore($el)):this.fire("refresh")},"bus $el.ready:last + edit.completed":function(evt,$el){this._updateShowMore($el)},_updateShowMore:function($el){var $showMore=$el.find(".i-role-action-showmore"),$c=$showMore.tauBubble("widget").find(".tau-boardselector__item_active_true");$showMore.find("span:first").text($c.length?$c.text():""),$showMore.parent().toggleClass("tau-boardselector__headermenu__item_focused_true",$c.length>0)}})})