define(["jQuery","tau/ui/behaviour/common/ui.behaviour.progressIndicator","tau/ui/extensions/board.plus/ui.board.plus.utils","tau/ui/extensions/board.plus/ui.extension.board.plus.cardsViewer.base"],function($,IndicatorFactory,boardPlusUtils,CardsViewerExtensionBase){return CardsViewerExtensionBase.extend({appOptions:{applicationId:"listPopup",turnOffLoadingIndicator:!0,integration:{showInPopup:!1},routing:{silent:!0,executeOnStart:!1}},"bus view.skeleton.built + viewPort.afterRender":function(e){var $skeleton=e["view.skeleton.built"].data.element,$viewPort=e["viewPort.afterRender"].data.element;$skeleton.find(".i-card-details-holder").append($viewPort)},subscribe:function($skeleton,callback){var self=this;self._viewCardSelectedHandler&&self.bus.removeListener("view.card.selected",self._viewCardSelectedHandler,self.bus),self._viewCardSelectedHandler=function(e){if(!e.data.selected)return;var cardData=e.data.element.data();if(self.isSupportedCardForView(cardData)===!1)return;callback(cardData)},$skeleton.delegate(".tau-id","click",function(e){e.ctrlKey||(e.stopPropagation(),e.preventDefault(),$(this).closest(".tau-card").trigger("mousedown"))}),self.on("view.card.selected",self._viewCardSelectedHandler)},"bus acid.ready:last + viewPort.created:last + view.load.cardDetails":function(e,acid,viewPort,cardData){this.fire("has.data.in.slice"),this.fireRouterOnViewPort(viewPort,{id:cardData.entityId,entity:cardData.entityType,acid:acid})},"bus viewPort.created:last + view.empty.cardDetails":function(e,viewPort){viewPort.application.fire("application.exit"),this.fire("no.data.in.slice",{type:"isEmpty"})},fireRouterOnViewPort:function(viewPort,routingData){this.cleanupStore(viewPort),viewPort.application.fire("history.reset"),viewPort.application.fire("application.navigate.entity",routingData)},"bus view.skeleton.built:last + view.cardDetails.routing":function(e,skeleton){var $skeleton=skeleton.element;this.showProgress($skeleton)},"bus view.skeleton.built:last + view.load.cardDetails":function(e,skeleton){var $skeleton=skeleton.element;this.showProgress($skeleton)},"bus view.skeleton.built:last + view.cardDetails.lastResult":function(e,skeleton){var $skeleton=skeleton.element;this.removeProgress($skeleton)},"bus view.skeleton.built:last + view.empty.cardDetails":function(e,skeleton){var $skeleton=skeleton.element;this.removeProgress($skeleton)},"bus view.card.batch.move.completed":function(e){this.fire("view.card.batch.move.completed.spec.cardsViewer")},showProgress:function($skeleton){var $holder=$skeleton.find(".i-card-details-holder");IndicatorFactory.get($holder).show()},removeProgress:function($skeleton){var $holder=$skeleton.find(".i-card-details-holder");IndicatorFactory.get($holder).hide()}})})