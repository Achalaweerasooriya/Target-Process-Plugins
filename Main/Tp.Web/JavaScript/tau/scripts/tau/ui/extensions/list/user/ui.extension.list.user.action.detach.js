define(["tau/core/extension.base"],function(e){return e.extend({"bus afterInit + afterRender":function(e,t,r){var n=r.element,o=t.config.context.configurator.getStore(),i=t.config.context.entity;n.delegate("[role=action-detach]","click",function(e){var t=$(e.target);if(!t.data("confirmMessage")||confirm(t.data("confirmMessage"))){var r=t.parents("[role=item]:first"),n=r.data(),a={};a[n.entityType+"s"]={id:n.entityId};var c="projectmember"==n.entityType.toLowerCase()?"project":"team";o.removeFromList(c,{id:n[c+"Id"],$set:a}).done({success:function(){r.remove(),o.evictProperties(i.id,i.entityType.name,["project"==c?"projectMembers":"teamMembers"])}})}})}})});