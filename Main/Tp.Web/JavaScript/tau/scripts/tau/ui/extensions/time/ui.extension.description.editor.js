define(["tau/core/extension.base"],function(e){return e.extend({category:"edit","bus changeDescription":function(e,t){this.fire("save",{description:_.asString(t)})},"bus permissionsReady + afterRender":function(e,t,i){if(t.editable){var r=i.element;this.$el=r.find(".i-role-description"),this.$el.on("keydown",_.bind(function(e){var t=e.charCode||e.keyCode||0;switch(t){case $.ui.keyCode.ENTER:if(e.shiftKey)return!0;this.fire("changeDescription",this.$el.val());break;case $.ui.keyCode.ESCAPE:return this.fire("destroy"),!1}},this)),this.$el.focus(1)}},"bus validate":function(){this.$el&&this.$el.removeClass("tau-error").removeAttr("title").nextAll(".placeholder").removeClass("tau-error")},"bus validationFailed":function(e){this.$el&&this.$el.addClass("tau-error").attr("title",e.data.validation.errors[0].description).nextAll(".placeholder").addClass("tau-error")}})});