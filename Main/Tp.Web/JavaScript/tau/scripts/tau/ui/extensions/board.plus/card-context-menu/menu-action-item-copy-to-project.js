define(["Underscore","jQuery","tau/models/page.entity/entity.context.factory","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-base","tau/services/entities/service.entities.copy-to-project"],function(e,t,n,i,o){return i.extend({name:"Copy to project&hellip;",className:"i-role-card-context-menu-copyToProject",itemClickCallback:function(e){var t=this.getBubbleCreator(e);n.create(t.entity,this.settings.configurator).done(this._createBubble.bind(this,t))},_createBubble:function(e,n){var i=new o,r=this.settings.configurator,c=function(e){r.getEntityViewService().showEntityView(e)},a=function(t){t("choice.editable.filter.changed",function(){e.getTarget().tauBubble("adjust")})},s=i.createCopyToProjectBubbleConfig({applicationContext:n,navigateToEntityDetails:c,subscribeToComponentEvents:a,eventBus:this.settings.bus});s.alignTo=function(){var n=t(e.cardSelector);return 0===n.length&&(n=t(e.$trigger.data("card-selector"))),n},e.createBubble(s)},getSupportedEntityTypes:function(){return["feature","userstory","bug","testcase","testplan","request","epic"]}})});