define(["Underscore","tau/core/extension.base"],function(e,t){return t.extend({category:"edit","bus beforeInit":function(e,t){this.fire("configurator.ready",t.config.context.configurator)},"bus afterRender":function(e,t){this.fire("$el.ready",t.element)},"bus configurator.ready":function(t,i){i.getComponentBusRegistry().getByName("tagsCloud").done(e.bind(function(t){t.removeAllListeners(this),t.on("tag.toggled",e.bind(function(e,t){this.fire("tagsCloudTag.toggled",t)},this),this),this.fire("tagsCloudBus.ready",t)},this))},"bus componentsCreated":function(t,i){var n=e.pluck(i,"component"),o=n[0],r=n[1];this.fire("tagsBus.ready",o),this.fire("tagsCloudContainerBus.ready",r)},"bus $el.ready:last + tagsCloudContainerBus.ready":function(e,t,i){var n=this;t.on("click",".i-role-action-cloud",function(){$(this).toggleClass("tau-active"),t.find(".i-role-tagscloudcontainer").toggleClass("tau-active"),n.cloudVisible||(n.cloudVisible=!0,i.fire("refresh",{visible:!0}))})},"bus $el.ready:last + tagsBus.ready":function(e,t,i){var n=t.find(".i-role-tabheader").detach().removeAttr("hidden");this.fire("$tabheader.ready",n),t.find(".i-role-editor").append(n),i.on("afterRender",function(){t.find(".i-role-editor").append(n)}),t.on("click",".i-role-editor :submit",function(){t.find(".i-role-action-cloud").toggleClass("tau-active",!1),t.find(".i-role-tagscloudcontainer").toggleClass("tau-active",!1)})},"bus tagsCloudBus.ready + tagsBus.ready":function(t,i,n){i.removeAllListeners(this),i.on("tag.toggled",e.bind(function(e,t){n.fire("external.toggleTag",t)},this),this),i.on("afterRender",e.bind(function(e,t){this.fire("$cloudEl.ready",t.element)},this),this)},"bus $el.ready:last + $cloudEl.ready":function(e,t,i){var n=i.find("[name=filter]").length>0,o=t.find(".i-role-action-cloud");o.toggleClass("tau-tags-cloud__trigger_filter_true",n)}})});