define(["jQuery","Underscore","tau/core/class","tau/utils/utils.sliceApi","tau/utils/utils.serverErrorTranslator"],function(e,t,i,n){return i.extend({init:function(e){if(!(e.bus&&e.configurator&&e.sliceReady))throw new Error("action-base : required parameters are missing");this.settings=e},deleteCard:function(e,t){var i=[{location:"card",data:{id:e.id,data:{id:e.entityId,type:e.entityType}}}];t.fire("operation.execute",{name:"deleted",items:i})},updateCard:function(i,r,s){var a=this,d=a.settings.bus,o=a.settings.sliceReady,u=e.Deferred();if(r&&(t.has(r,"x")||t.has(r,"y"))){u.done(function(e){var t=n.convertCellsResponseToComet(e);0===t.length?a.deleteCard(s,d):d.fire("operation.execute",{name:"updated",items:t})});var l={dataItem:{id:{$eq:i.toString()}}};o.slice.cell(l).done(u.resolve)}return u},disabled:function(e,i){var n=this,r=n.data("entityType"),s=i.items[e],a=s.getSupportedEntityTypes();return null===a||t.contains(a,r)?t.contains(s.getDisabledEntityTypes(),r):!0},getSupportedEntityTypes:function(){return null},getDisabledEntityTypes:function(){}})});