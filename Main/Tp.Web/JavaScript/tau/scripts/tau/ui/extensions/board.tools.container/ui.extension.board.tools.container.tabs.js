define(["jQuery","tau/core/extension.base"],function($,BaseExtension){return BaseExtension.extend({resetLifecycle:!0,"bus beforeInit":function(evt,initConfig){var configurator=initConfig.config.context.configurator;this.fire("configurator.ready",configurator)},"bus afterRender":function(e,renderData){var $el=renderData.element;this.fire("$el.ready",$el)},"bus configurator.ready + componentsCreated":function(evt,configurator,childrenBusesData){var tabBuses={};_.forEach(childrenBusesData,function(childrenBusesData){var config=childrenBusesData.config,bus=childrenBusesData.component;_.has(config,"label")&&(tabBuses[config.label]=bus)}),this.fire("tabBuses.ready",tabBuses)},"bus $el.ready + tabBuses.ready":function(evt,$el,tabBuses){var self=this,$tabHeaders=$el.find(".i-role-tabheaders .i-role-tabheader");$el.on("click",".i-role-tabheader:not(.tau-disabled)",function(){self.fire("tab.activate",$(this).data("label"))}),$tabHeaders.each(function(){var $tabHeader=$(this),id=$tabHeader.data("label");tabBuses[id].fire("$trigger.ready",$tabHeader),$tabHeader.bind("taububbleshow",function(){$tabHeader.toggleClass("tau-checked",!0),self.fire("tab.activate.completed",id)}),$tabHeader.bind("taububblehide",function(){$tabHeader.toggleClass("tau-checked",!1)}),id=="overviews"?($tabHeader.tauBubble("option","className","tau-tools-popup tau-tools-board-map"),$tabHeader.tauBubble("option","onPositionConfig",function(config){return _.extend(config,{collision:"none none",my:"left bottom",at:"left top",offset:"-19 0"})})):id=="legend"&&$tabHeader.tauBubble("option","onPositionConfig",function(config){return _.extend(config,{collision:"none none",my:"right bottom",at:"right top",offset:"19 0"})})})}})})