define(["Underscore","jQuery","tau/core/extension.base"],function(_,$,BaseExtension){return BaseExtension.extend({resetLifecycle:!0,"bus beforeInit":function(evt,initConfig){var configurator=initConfig.config.context.configurator;this.fire("configurator.ready",configurator)},"bus afterRender":function(e,renderData){this.fire("$el.ready",renderData.element)},"bus configurator.ready + componentsCreated":function(evt,configurator,childrenBusData){var tabBuses={};_.forEach(childrenBusData,function(childBusData){var config=childBusData.config;_.has(config,"label")&&(tabBuses[config.label]=childBusData.component)}),this.fire("tabBuses.ready",tabBuses)},"bus $el.ready + tabBuses.ready":function(evt,$el,tabBuses){var self=this,$tabHeaders=$el.find(".i-role-tabheaders .i-role-tabheader");$el.on("click",".i-role-tabheader:not(.tau-disabled)",function(){self.fire("tab.activate",$(this).data("label"))}),$tabHeaders.each(function(){var $tabHeader=$(this),label=$tabHeader.data("label");tabBuses[label].fire("$trigger.ready",$tabHeader),$tabHeader.bind("taububbleshow",function(){$tabHeader.toggleClass("tau-checked",!0),self.fire("tab.activate.completed",label)}),$tabHeader.bind("taububblehide",function(){$tabHeader.toggleClass("tau-checked",!1)});var positionConfig={collision:"fit none",my:"right bottom",at:"right top",offset:"0 0"};label=="flowHelp"?$tabHeader.tauBubble("option",{className:"tau-tools-popup",onPositionConfig:function(config){return _.extend(config,positionConfig)}}):label=="overviews"?$tabHeader.tauBubble("option",{className:"tau-tools-popup tau-tools-board-map",onPositionConfig:function(config){return _.extend(config,positionConfig)}}):label=="legend"&&$tabHeader.tauBubble("option",{className:"tau-tools-popup",onPositionConfig:function(config){return _.extend(config,positionConfig)}})})}})})