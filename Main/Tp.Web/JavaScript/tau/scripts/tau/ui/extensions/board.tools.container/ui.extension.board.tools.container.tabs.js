define(["Underscore","jQuery","tau/core/extension.base","tau/core/event-dispatcher"],function(e,t,a,i){return a.extend({resetLifecycle:!0,"bus beforeInit":function(e,t){this.config=t.config;var a=t.config.context.configurator;this.fire("configurator.ready",a)},"bus show.completed":function(e,t){this.fire("$el.ready",t)},"bus $el.ready + hide":function(e,a){var i=a.find(".i-role-tabheaders .i-role-tabheader");i.each(function(){t(this).tauBubble("hide")})},"bus $el.ready:last + toggleOverview":function(e,t,a){var i=t.find(".i-role-tabheader-overviews");a?i.removeAttr("disabled"):i.attr("disabled","disabled")},"bus $el.ready + childrenBuses.ready":function(a,o,n){var r=this,d=o.find(".i-role-tabheaders .i-role-tabheader");o.on("click",".i-role-tabheader:not(.tau-disabled)",function(){r.fire("tab.activate",t(this).data("label"))});var s=new i(n);this.on("destroy",function(){s=null}),s.listen("$bubbled.ready",function(){var a={collision:"fit none",my:"right bottom",at:"right top"};d.each(function(){var i=t(this),o=i.data("label");i.bind("taububbleshow",function(){i.toggleClass("tau-checked",!0),r.fire("tab.activate.completed",o)}),i.bind("taububblehide",function(){i.toggleClass("tau-checked",!1)});var n={className:"tau-tools-popup",onPositionConfig:function(t){return e.extend(t,a)}};"overviews"==o&&(n.className+=" tau-tools-board-map"),i.tauBubble("option",n)})}),d.each(function(){var e=t(this),a=e.data("label");n[a].fire("$trigger.ready",e)})}})});