define(["Underscore","tau/ui/extensions/tabs/ui.extension.tabs.state.base"],function(t,e){return e.extend({getRestoredState:function(){var t=$.Deferred(),e=this.getStateName();return this.config.context.componentSettings.get({fields:[e],callback:function(n){t.resolve(n[e])}}),t},getStateName:function(){return this.config.stateName},selectTabExternal:function(t){var e=this.config.context.componentSettings,n={},i=this.getStateName();n[i]=t,e.set({set:n})},onStateChanged:function(t){var e=t[this.getStateName()]||this.defaultState;this.selectTabInternal(e)},"bus initialize":function(){var t=this,e=t.config.context.componentSettings;e.bind({fields:[this.getStateName()],listener:t,callback:t.onStateChanged})},destroy:function(){var t=this,e=t.config.context.componentSettings;e.unbind({listener:t,callback:t.onStateChanged}),this._super()}})});