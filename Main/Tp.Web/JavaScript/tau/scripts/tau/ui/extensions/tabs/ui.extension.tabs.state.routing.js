define(["Underscore","tau/ui/extensions/tabs/ui.extension.tabs.state.base"],function(_,a){var b=a.extend({init:function(a){this._super(a),this.name=a.stateName||"tab",this.defaultState=this.getRestoredState()},getRestoredState:function(){return this.config.hasOwnProperty("stateName")?this.config[this.config.stateName]:null},getStateName:function(){return this.config.stateName},selectTabExternal:function(a){var b=this.config.context.componentSettings,c={},d=this.getStateName();c[d]=a,b.set({set:c})},onStateChanged:function(a){var b=a[this.getStateName()]||this.defaultState;this.selectTabInternal(b)},"bus initialize":function(){var a=this,b=a.config.context.componentSettings;b.bind({fields:[this.getStateName()],listener:a,callback:a.onStateChanged})},"bus destroy":function(){var a=this,b=a.config.context.componentSettings;b.unbind({listener:a,callback:a.onStateChanged})}});return b})