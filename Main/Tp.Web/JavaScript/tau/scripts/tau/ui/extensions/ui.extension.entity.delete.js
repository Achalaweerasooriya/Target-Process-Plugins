define(["Underscore","tau/core/extension.base"],function(e,t){return t.extend({init:function(e,t,i){return this.configurator=t,this.entity=i,this._super(e)},"bus beforeInit":function(){this.fire("dataBind",{})},"bus afterRender":function(t,i){var n=i.element;n.tauConfirm({showArrow:!1,showEvent:null,content:"<h3>Are you sure?</h3>",className:"context-menu-do-not-hide",callbacks:{success:this._deleteEntity.bind(this,this.entity),cancel:this._fireDestroy.bind(this)}}),e.delay(e.bind(n.tauConfirm,n),100,"show")},_deleteEntity:function(e){this.configurator.getStore().remove(e.type,{id:e.id}).done({success:this._fireDestroy.bind(this)})},_fireDestroy:function(){this.fire("destroy")}})});