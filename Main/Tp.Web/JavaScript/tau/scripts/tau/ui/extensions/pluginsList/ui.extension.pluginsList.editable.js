define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(e,n,t){var i=t.extend({"bus dataBind+afterRender":function(t){this.element=t.afterRender.data.element,this.dataToBind=t.dataBind.data;var i=this.element.find(".plugin-block");e(i).each(function(e){n(e).find(".tau-profile-actions").click(n.proxy(this.onDeleteProfile,{pluginBlock:n(e),parentExtension:this}))},this)},onDeleteProfile:function(e){e.preventDefault();var t=this.parentExtension,i=n(e.target).tmplItem().data,o=this.pluginBlock,a=function(){o.confirmation("hide"),o.tauOverlay("hide"),t.fire("refresh")};o.confirmation({message:"Do you really want to delete profile?",okLabel:"OK",cancelLabel:"Cancel",ok:function(){o.tauOverlay({showOnCreation:!1}),o.tauOverlay("showLarge"),o.confirmation("hideConfirmationMessage"),t.config.context.pluginRepository.deleteProfile(i.pluginName,i.name,a)},cancel:function(){o.confirmation("hide")}}),this.pluginBlock.confirmation("show")}});return i});