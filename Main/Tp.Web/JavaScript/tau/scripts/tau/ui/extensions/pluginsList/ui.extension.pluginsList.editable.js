define(["Underscore","jQuery","tau/configurator","tau/components/extensions/component.extension.base"],function(_,$,a,b){var c=b.extend({"bus dataBind+afterRender":function(a){this.element=a.afterRender.data.element,this.dataToBind=a.dataBind.data;var b=this.element.find(".plugin-block");_(b).each(function(a){$(a).find(".tau-profile-actions").click($.proxy(this.onDeleteProfile,{pluginBlock:$(a),parentExtension:this}))},this)},onDeleteProfile:function(a){a.preventDefault();var b=this.parentExtension,c=$(a.target).tmplItem().data,d=this.pluginBlock,e=function(){d.confirmation("hide"),d.tauOverlay("hide"),b.fire("refresh")};d.confirmation({message:"Do you really want to delete profile?",okLabel:"OK",cancelLabel:"Cancel",ok:function(){d.tauOverlay({showOnCreation:!1}),d.tauOverlay("showLarge"),d.confirmation("hideConfirmationMessage"),b.config.context.pluginRepository.deleteProfile(c.pluginName,c.name,e)},cancel:function(){d.confirmation("hide")}}),this.pluginBlock.confirmation("show")}});return c})