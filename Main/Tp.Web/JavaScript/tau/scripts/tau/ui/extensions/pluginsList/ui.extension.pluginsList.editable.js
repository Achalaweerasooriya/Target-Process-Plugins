define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,ExtensionBase){var pluginsListEditable=ExtensionBase.extend({"bus dataBind+afterRender":function(evtArgs){this.element=evtArgs.afterRender.data.element,this.dataToBind=evtArgs.dataBind.data;var pluginsBlocks=this.element.find(".plugin-block");_(pluginsBlocks).each(function(pluginBlock){$(pluginBlock).find(".tau-profile-actions").click($.proxy(this.onDeleteProfile,{pluginBlock:$(pluginBlock),parentExtension:this}))},this)},onDeleteProfile:function(evt){evt.preventDefault();var self=this.parentExtension,data=$(evt.target).tmplItem().data,pluginBlock=this.pluginBlock,proxyHandler=function(){pluginBlock.confirmation("hide"),pluginBlock.tauOverlay("hide"),self.fire("refresh")};pluginBlock.confirmation({message:"Do you really want to delete profile?",okLabel:"OK",cancelLabel:"Cancel",ok:function(){pluginBlock.tauOverlay({showOnCreation:!1}),pluginBlock.tauOverlay("showLarge"),pluginBlock.confirmation("hideConfirmationMessage"),self.config.context.pluginRepository.deleteProfile(data.pluginName,data.name,proxyHandler)},cancel:function(){pluginBlock.confirmation("hide")}}),this.pluginBlock.confirmation("show")}});return pluginsListEditable})