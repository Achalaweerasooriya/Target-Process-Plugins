define(["Underscore","jQuery","tau/configurator","tau/components/extensions/component.extension.base","libs/jquery/jquery.ui.confirmation"],function(a,b,c,d){var e=d.extend({"bus dataBind+afterRender":function(c){this.element=c.afterRender.data.element,this.dataToBind=c.dataBind.data;var d=this.element.find(".plugin-block");a(d).each(function(a){b(a).find(".tau-profile-actions").click(b.proxy(this.onDeleteProfile,{pluginBlock:b(a),parentExtension:this}))},this)},onDeleteProfile:function(a){a.preventDefault();var c=this.parentExtension,d=b(a.target).tmplItem().data,e=this.pluginBlock,f=function(){e.confirmation("hide"),e.tauOverlay("hide"),c.fire("refresh")};e.confirmation({message:"Do you really want to delete profile?",okLabel:"OK",cancelLabel:"Cancel",ok:function(){e.tauOverlay({showOnCreation:!1}),e.tauOverlay("showLarge"),e.confirmation("hideConfirmationMessage"),c.config.context.pluginRepository.deleteProfile(d.pluginName,d.name,f)},cancel:function(){e.confirmation("hide")}}),this.pluginBlock.confirmation("show")}});return e})