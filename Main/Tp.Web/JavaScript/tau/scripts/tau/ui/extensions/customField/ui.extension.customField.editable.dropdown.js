define(["Underscore","tau/core/extension.base"],function(e,n){return n.extend({editorType:"customField.dropdown.list","bus beforeInit + configurationProvided + afterRender":function(n,t,i,o){var r=o.element.find("tr"),a=e.deepClone(i),u=o.view,c=this._createConfig(a);this._initBubble(r,u,c),r.on("click",".i-role-reset",function(){return this.fire("updateState",{}),!1}.bind(this))},_createConfig:function(e){return{type:this.editorType,customField:e,data:e}},_initBubble:function(e,n,t){e.addClass("tau-bubble-target ui-customfield_editable_true");var i={target:e,alignTo:e.find(".ui-customfield__value"),onShow:function(){n.config.context.configurator.getKeyBoardManager().pushHandler({})},onHide:function(){n.config.context.configurator.getKeyBoardManager().popHandler()},onPositionConfig:function(n){n.within=e.closest(".main-container"),n.collision="fit flipfit"},componentsConfig:{components:[t]}};this.fire("initBubble",i)}})});