define(["jQuery","Underscore","tau/components/extensions/component.extension.base","tau/ui/extensions/board.plus/ui.board.plus.utils"],function($,_,a,b){return a.extend({"bus afterRender":function(a){var b=a.data.element,c=this,d=b.find(".i-role-header");d.delegate(".i-role-collapser","click",function(a){var b=$(this).parents(".i-role-cellholder:first");c.fire("view.axis.collapser.executed",b.attr("id"))})},"bus afterRender:last+settings.collapse.provided:last":function(a){var c=_.values(a)[0].data.element,d=_.values(a)[1].data||{},e=this,f={},g=c.find(".i-role-grid"),h=c.find(".i-role-header .i-role-cellholder");h.each(function(){var a=$(this),c=d[this.id]||!1,e=b.isCollapsed(a);if(c==e)return;a.attr("data-is-collapsed",c?"1":""),a.toggleClass("tau-collapsed",c);var h=a.attr("data-x")?"x":"y";f[h]=!0;var i=b.dimension(g,a);i.toggleClass("tau-collapsed_"+h,c),a.toggleClass("tau-collapsed_"+h,c),i.each(function(){var a=$(this),b=a.hasClass("tau-collapsed_x")||a.hasClass("tau-collapsed_y");a.toggleClass("tau-collapsed",b)})}),e.fire("view.axis.collapser.executed.after",f)}})})