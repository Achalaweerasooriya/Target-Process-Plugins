define(["jQuery","Underscore","tau/components/extensions/component.extension.base"],function(e,i,n){return n.extend({"bus domWrapper.ready + view.collapsed.axis":function(e,i,n){this.applyCollapseSettingsOnInit(i,n)},"bus domWrapper.ready":function(e,i){var n=this;i.subscribeToAxisCollapser(function(e){n.fire("view.axis.collapser.executed.before");var s={};s[e.dimension]=e.dimensionId;var a={collapse:"collapseAxis",expand:"expandAxis"};i[a[e.action]](s),n.fire("view.axis.collapser.executed.after"),n.fire("board.save.header.collapsing.settings",{id:e.dimensionId,dimension:e.dimension,setting:e.action})}),i.subscribeToXHeaderCollapser(function(e){i.toggleHeaderCollapsing(),n.fire("view.axis.collapser.executed.after"),n.fire("board.save.header.collapsing.settings",{id:0,dimension:"axisY",setting:e.action})})},applyCollapseSettingsOnInit:function(e,n){var s=this,a=function(e,s){return i.contains(n[e],s)};e.iterateHeadersItems(function(i){if(a(i.dimension,i.value)){var n={};n[i.dimension]=i.value,e.collapseAxis(n)}}),a("axisY",0)&&e.toggleHeaderCollapsing(),s.fire("view.axis.collapser.executed.after")},"bus view.cell.skeleton.element.afterUpdate":function(i,n){var s=n.cell,a=s.find(".more-collapsed");a.length||(a=e('<span class="more-collapsed">&#8230;</span>')),s.find(".i-role-card:last").after(a)}})});