define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,a){return a.extend({"bus afterRender":function(a){var b=a.data.element;this.$element=b;var c=b.find("[role=form]"),d=c.find(":input"),e=c.find(":button");e.eq(0).prop("disabled","disabled"),e.eq(0).addClass("disable");var f=this;e.eq(0).click(function(){var a={};d.each(function(){var b=$(this),c=_.trim(b.val());c!=""&&(a[b.attr("name")]=c)}),a.action="search",f.bus.fire("form.parametersBound",{parameters:a})}),d.bind("keyup",function(){d.filter(function(){return $(this).val().length>0}).length==d.length?(e.eq(0).prop("disabled",!1),e.eq(0).removeClass("disable")):(e.eq(0).prop("disabled","disabled"),e.eq(0).addClass("disable"))})},"bus form.validationFailed":function(a){this.$element.find(".ui-validationerror").removeClass("ui-validationerror");var b=_.uniq(a.data.errors,!1,function(a){return a.property}),c=this.$element.find(":input");_.forEach(b,function(a){c.filter("[name="+a.property+"]").toggleClass("ui-validationerror",!0).attr("title",a.message)})},"bus form.validationPassed":function(){this.$element.find(".ui-validationerror").removeClass("ui-validationerror")}})})