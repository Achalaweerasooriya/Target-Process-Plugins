define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,ExtensionBase){return ExtensionBase.extend({"bus afterRender":function(evt){var $element=evt.data.element;this.$element=$element;var $filterForm=$element.find("[role=form]"),$inputs=$filterForm.find(":input"),$buttons=$filterForm.find(":button");$buttons.eq(0).prop("disabled","disabled"),$buttons.eq(0).addClass("disable");var self=this;$buttons.eq(0).click(function(){var data={};$inputs.each(function(){var $input=$(this),val=_.trim($input.val());val!=""&&(data[$input.attr("name")]=val)}),data.action="search",self.bus.fire("form.parametersBound",{parameters:data})}),$inputs.bind("keyup",function(){$inputs.filter(function(){return $(this).val().length>0}).length==$inputs.length?($buttons.eq(0).prop("disabled",!1),$buttons.eq(0).removeClass("disable")):($buttons.eq(0).prop("disabled","disabled"),$buttons.eq(0).addClass("disable"))})},"bus form.validationFailed":function(evt){this.$element.find(".ui-validationerror").removeClass("ui-validationerror");var errors=_.uniq(evt.data.errors,!1,function(item){return item.property}),$inputs=this.$element.find(":input");_.forEach(errors,function(error){$inputs.filter("[name="+error.property+"]").toggleClass("ui-validationerror",!0).attr("title",error.message)})},"bus form.validationPassed":function(){this.$element.find(".ui-validationerror").removeClass("ui-validationerror")}})})