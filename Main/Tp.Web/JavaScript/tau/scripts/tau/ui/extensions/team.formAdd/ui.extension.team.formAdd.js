define(["Underscore","jQuery","tau/ui/extensions/board.context.selector/ui.extension.board.context.selector.add.abstract"],function(e,t,i){return i.extend({"bus afterRender":function(e,t){var i=t.element;this.fire("$el.ready",i)},"bus $el.ready":function(e,t){var i=this,r=this._initForm(t);this._addSubmitDataListener(r,function(e){i.fire("form.submitted",e)});var n=r.find("select"),a=this._initRichSelect(r,n);a.on("change",function(e,t){var i=a.attr("data-value");a.removeClass("tau-icon_name_"+i),a.addClass("tau-icon_name_"+(t||"default"))})},"bus configurator.ready:last + $el.ready:last + entity.add.success":function(e,t,i){i.find("form").trigger("entity.add.completed").trigger("reset"),this.fire("entity.add.completed")},"bus $el.ready:last + entity.add.failure":function(e,t,i){t.find("form").trigger("entity.add.failed"),t.find(".i-role-form :text:first").focus().select().addClass("tau-error"),this.fire("error",i)},"bus $el.ready:last + entity.add.nonFatalFailure":function(e,t,i){this.fire("error",i)},"bus $el.ready:last + show.completed":function(e,t){var i=t.find("form");i.trigger("reset"),setTimeout(function(){i.find(":submit:first").focus(),i.find(":text:first").focus()},10)}})});