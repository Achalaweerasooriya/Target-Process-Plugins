define(["require","Underscore","tau/ui/extensions/board.context.selector/ui.extension.board.context.selector.add.withTeamProjects"],function(e){"use strict";var t=e("Underscore"),r=e("tau/ui/extensions/board.context.selector/ui.extension.board.context.selector.add.withTeamProjects");return r.extend({"bus dataBind:last + afterRender":function(e,t,r){var i=r.element;this.fire("$el.ready",i)},getConnectedType:t.constant("project"),"bus $el.ready":function(e,t){var r=this,i=this._initForm(t);this._addSubmitDataListener(i,function(e){r.fire("form.submitted",e)});var n=i.find("select"),a=this._initRichSelect(i,n);a.on("change",function(e,t){var r=a.attr("data-value");a.removeClass("tau-icon_name_"+r),a.addClass("tau-icon_name_"+(t||"default"))})},"bus configurator.ready:last + $el.ready:last + entity.add.success":function(e,t,r){r.find("form").trigger("entity.add.completed").trigger("reset"),this.fire("entity.add.completed")},"bus $el.ready:last + entity.add.failure":function(e,t,r){t.find("form").trigger("entity.add.failed"),t.find(".i-role-form :text:first").focus().select().addClass("tau-error"),this.fire("error",r)},"bus $el.ready:last + entity.add.nonFatalFailure":function(e,t,r){this.fire("error",r)},"bus $el.ready:last + show.completed":function(e,t){var r=t.find("form");r.trigger("reset"),setTimeout(function(){r.find(":submit:first").focus(),r.find(":text:first").focus()},10)}})});