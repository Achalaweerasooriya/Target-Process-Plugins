define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/ui/templates/board.limits/ui.template.board.limit-item","libs/jquery/jquery.inputMaskEditor"],function(t,e,i){return i.extend({temp:{},"bus afterRender:last + dataLimits.ready + configurator.ready:last + boardSettings.ready:last":function(e,i,n,a,s){var r=i.element;r.html(""),this.temp=t.extend(this.temp,n.values),r.append(a.getTemplateFactory().get("board.limit-item").bind({},n)),this.setHandler(r,s.boardSettings)},setHandler:function(i,n){var a=i.find("input"),s=/^\d+$/i;a.closest("form").on("submit",function(){return!1});var r=t.debounce(t.bind(function(i){var a=e(i.target);s.test(a.val())||a.val("");var r=a.closest("form").serializeArray();r=t.reduce(r,function(t,e){return t[e.name]=parseInt(e.value,10),t},{}),this.temp=t.extend(this.temp,r),n.set({set:{limits:{entitystate:this.temp}},callback:e.noop}),this.fire("changeLimits",this.temp)},this),100);a.on("input keydown",r),a.inputMaskEditor({mask:s})}})});