define(["jQuery","tau/core/extension.base"],function($,BaseExtension){return BaseExtension.extend({resetLifecycle:!0,"bus configurator.ready":function(e,configurator){var self=this,appStateStore=configurator.getAppStateStore();appStateStore.get({fields:["acid"],callback:function(r){self.fire("acidData.ready",{id:r.id,acid:r.acid})}}),appStateStore.unbind({listener:this}),appStateStore.bind({listener:self,fields:["acid"],callback:function(r){self.fire("acidData.ready",{id:appStateStore.settings.id,acid:r.acid})}})},"bus configurator.ready:last + $links.ready:last + acidData.ready":function(evt,configurator,$links,acidData){$links.each(function(){var $link=$(this),data=_.clone(acidData),boardId=$link.attr("data-id"),boardAcid=$link.attr("data-acid").trim();data.acid=boardAcid||acidData.acid;var url=configurator.getUrlBuilder().getRelativeBoardUrl(boardId,data);$link.attr("href",url)}),this.fire("linksUpdated")},"bus configurator.ready:last + destroy":function(e,configurator){var appStateStore=configurator.getAppStateStore();appStateStore.unbind({listener:this})}})})