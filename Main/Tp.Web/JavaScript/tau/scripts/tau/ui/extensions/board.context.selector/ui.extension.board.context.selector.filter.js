define(["Underscore","jQuery","tau/core/extension.base"],function(e,t,n){return n.extend({"bus $el.ready":function(n,a){var i=null,r=null;a.off("input.search keydown.search");var o=e.bind(function(e){clearTimeout(r);var n=t(e.currentTarget);i!=n.val()&&(r=setTimeout(function(){this.fire("filter.changed",n.val())}.bind(this),50))},this);a.on("input.search keydown.search","input[name=filter]",o),a.delegate("input[name=filter]","keydown",function(e){e.keyCode==t.ui.keyCode.ESCAPE&&e.stopPropagation(),e.which==t.ui.keyCode.ENTER&&t(this).trigger("blur")})},match:function(t,n){var a=t.toLowerCase();return 0==n.length||e.any(n,function(e){return a.indexOf(e)>=0})},"bus $sections.ready:last + filter.changed":function(n,a,i){var r=e.trim(i).toLowerCase().split(/\s+/g),o=this.match;a.each(function(){var e=t(this),n=e.find(".i-role-list"),a=n.find(".i-role-item"),i=0;a.each(function(){var e=t(this),n=e.text(),a=o(n,r);a&&(i+=1),e.toggleClass("tau-category-items-selector__item_filtered_false",!a)}),e.toggleClass("tau-managed-category_filtered_none",0==i)}),this.fire("filter.completed")},"bus $teamSection.ready:last + team.add.completed":function(e,t){t.removeClass("tau-managed-category_filtered_none")},"bus $projectSection.ready:last + project.add.completed":function(e,t){t.removeClass("tau-managed-category_filtered_none")}})});