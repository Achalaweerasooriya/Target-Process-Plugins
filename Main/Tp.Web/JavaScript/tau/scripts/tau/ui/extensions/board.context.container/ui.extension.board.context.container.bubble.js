define(["Underscore","jQuery","tau/core/extension.base"],function(e,t,i){return i.extend({"bus $bubbled.ready":function(t,i){i.tauBubble("option",{template:['<div class="tau-bubble-board tau-teams-projects-manager-wrapper">','<div class="tau-bubble-board__arrow" role="arrow"></div>','<div class="tau-bubble-board__inner tau-container" role="content"></div>',"</div>"].join(""),dontCloseSelectors:[".ui-autocomplete",".tau-invite-widget-tooltip"],onArrowPositionConfig:function(e){e.at="left+26 bottom"},stackName:"contextcontainer",onResize:function(e,t){var i=t.height,o=e.find(".tau-managed-category");o.find(".tau-category-settings-container,.i-role-list").css({maxHeight:i-e.find(".tau-teams-projects-search").height()-e.find(".tau-teams-projects-updater").height()-200,overflowY:"auto"}),e.find(".tau-projects .i-role-form .i-role-list").css({maxHeight:i-500,overflowY:"auto"}),e.find(".tau-teams .i-role-form .i-role-list").css({maxHeight:i-400,overflowY:"auto"})},onPositionConfig:function(e){e.collision="flipfit flipfit"},show:function(){this.fire("$popup.shown");var e=i.tauBubble("widget");e.one("click",".i-role-popupcontent .i-role-action-submit",function(){i.tauBubble("hide",{selectContext:!0})}),e.one("click",".i-role-popupcontent .i-role-process-setup-link",function(){i.tauBubble("hide",{selectContext:!0})}),e.one("click",".i-role-popupcontent .i-role-selecttrigger",function(){i.tauBubble("hide",{silent:!0})});var t=e.find(".tau-search input");t.length&&t.is(":visible")&&t.focus()}.bind(this)}),i.on("taububblehide.ctx",e.bind(function(e,t){t.silent||this.fire("$popup.hidden",t)},this))},"bus $bubbled.ready + afterRender":function(e,t){t.tauBubble("adjust")},"bus selectorBus.ready:last + tab.activate.completed:last + $popup.hidden":function(e,t,i,o){"selector"==i?o.selectContext&&t.fire("filter.submitted"):t.fire("refresh")}})});