define(["jQuery","app.path","tau/components/extensions/component.extension.base"],function($,a,b){return b.extend({childApplicationId:"popup","bus view.skeleton.built":function(a){var b=a.data.element;b.delegate(".tau-id","mousedown",$.proxy(this.onCardIdMouseDown,this)),this.subscribe(b,$.proxy(this.loadCardDetails,this)),this.restore(b)},onCardIdMouseDown:function(a){a.stopPropagation()},restore:function(a){var b=this,c=b.config.context.configurator.getExternal(),d=c.getHashParam(b.childApplicationId,null);if(d!==null){var e=d.split("/");b.builtInCardDetails(a,{type:e[0],id:e[1]})}},subscribe:function(a,b){a.delegate(".i-role-card","dblclick",function(a){var c=$(a.currentTarget).data();b(c)})},loadCardDetails:function(a){this.fire("view.load.cardDetails",a)},"bus view.skeleton.built:last+view.load.cardDetails":function(a){var b=a["view.skeleton.built"].data.element,c=a["view.load.cardDetails"].data;this.builtInCardDetails(b,c)},builtInCardDetails:function(a,b){var c=this;require(["tau/components/component.application","tau/configurator"],function(a,d){var e=d;e.pushRouting(),e.isBoardEdition=!0;var f=a.create({applicationId:c.childApplicationId,pageType:b.type,pageId:b.id,integration:{showInPopup:!0},context:{configurator:d}});f.on("destroy",function(){e.popRouting()}),c.on("destroy",function(){f.fire("destroy")}),f.initialize()})}})})