define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(_,$,ExtensionBase){var generalErrorHandler=function(evt){var self=this,err=evt.data,msg=err.message||"Looks like application is not available. Please check your connection or server availability";msg=_.isObject(msg)&&msg.hasOwnProperty("Message")?msg.Message:msg,self.fire("error",{message:msg})};return ExtensionBase.extend({init:function(){var self=this;self._super.apply(self,arguments),self.generalErrorHandler=_.bind(generalErrorHandler,self);var storage=self.config.context.configurator.getRestStorage();storage.on("error",self.generalErrorHandler)},"bus slice.ready":function(evt){var self=this,slice=evt.data.slice;slice.on("error",self.generalErrorHandler),slice.on("slice.detailed.error",function(evt){self.fire("slice.error",evt.data)})}})})