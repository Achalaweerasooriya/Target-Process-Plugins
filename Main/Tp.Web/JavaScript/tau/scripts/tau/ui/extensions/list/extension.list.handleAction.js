define(["Underscore","tau/components/extensions/component.extension.base"],function(_,ExtensionBase){return ExtensionBase.extend({name:"extension.list.handleAction",getRowElement:function($el,rowId){var $row=$el.find(".i-item-"+rowId);return $row},"bus afterItemsProvided+afterRender+handleGlobalAction":function(evt){var items=evt.afterItemsProvided.data.data,id=evt.handleGlobalAction.data.id,isIdDetected=_(items).detect(function(obj){return obj.id==id});if(isIdDetected){var $el=evt.afterRender.data.element,$row=this.getRowElement($el,id);this.fire("markElementToBeUpdated",{element:$row}),this.fire("updateElement",{element:$row}),this.fire("refreshMainEntity")}},"bus afterRender+beforeDeleteRow":function(evt){var $el=evt.afterRender.data.element,rowId=evt.beforeDeleteRow.data.id,$row=this.getRowElement($el,rowId);this.fire("markElementToBeDeleted",{element:$row}),this.fire("deleteElement",{element:$row,callback:$.noop})},"bus afterRender+afterDeleteRow":function(evt){var self=this,$el=evt.afterRender.data.element,rowId=evt.afterDeleteRow.data.id,$row=this.getRowElement($el,rowId);this.fire("deleteElement",{element:$row,callback:function(){self.fire("refresh")}})}})})