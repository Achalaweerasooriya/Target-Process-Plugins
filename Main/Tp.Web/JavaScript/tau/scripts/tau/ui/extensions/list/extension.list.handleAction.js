define(["Underscore","tau/components/extensions/component.extension.base"],function(_,a){return a.extend({name:"extension.list.handleAction",getRowElement:function(a,b){var c=a.find(".i-item-"+b);return c},"bus afterItemsProvided+afterRender+handleGlobalAction":function(a){var b=a.afterItemsProvided.data.data,c=a.handleGlobalAction.data.id,d=_(b).detect(function(a){return a.id==c});if(d){var e=a.afterRender.data.element,f=this.getRowElement(e,c);this.fire("markElementToBeUpdated",{element:f}),this.fire("updateElement",{element:f}),this.fire("refreshMainEntity")}},"bus afterRender+beforeDeleteRow":function(a){var b=a.afterRender.data.element,c=a.beforeDeleteRow.data.id,d=this.getRowElement(b,c);this.fire("markElementToBeDeleted",{element:d}),this.fire("deleteElement",{element:d,callback:$.noop})},"bus afterRender+afterDeleteRow":function(a){var b=this,c=a.afterRender.data.element,d=a.afterDeleteRow.data.id,e=this.getRowElement(c,d);this.fire("deleteElement",{element:e,callback:function(){b.fire("refresh")}})}})})