define(["Underscore","tau/components/extensions/component.extension.base"],function(e,t){return t.extend({name:"extension.list.handleAction",getRowElement:function(e,t){var n=e.find(".i-item-"+t);return n},"bus afterItemsProvided+afterRender+handleGlobalAction":function(t){var n=t.afterItemsProvided.data.data,a=t.handleGlobalAction.data.id,r=e(n).detect(function(e){return e.id==a});if(r){var i=t.afterRender.data.element,d=this.getRowElement(i,a);this.fire("markElementToBeUpdated",{element:d}),this.fire("updateElement",{element:d}),this.fire("refreshMainEntity")}},"bus afterRender+beforeDeleteRow":function(e){var t=e.afterRender.data.element,n=e.beforeDeleteRow.data.id,a=this.getRowElement(t,n);this.fire("markElementToBeDeleted",{element:a}),this.fire("deleteElement",{element:a,callback:$.noop})},"bus afterRender+afterDeleteRow":function(e){var t=this,n=e.afterRender.data.element,a=e.afterDeleteRow.data.id,r=this.getRowElement(n,a);this.fire("deleteElement",{element:r,callback:function(){t.fire("refresh")}})}})});