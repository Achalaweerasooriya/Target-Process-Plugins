define(["Underscore","jQuery","tau/ui/extensions/stateList/ui.extension.stateList.editable"],function(_,$,a){var b=a.extend({"bus dataBind+afterRender":function(a){this._super(a);var b=a.afterRender.data.element;this.$el=b,this.field=this.config.data,this._updateSave();var c=b.find("[role=action-save]"),d=this;c.click(function(a){var c=b.find("[role=option].tau-option_selected_true"),e=[];_.forEach(c,function(a){e.push($(a).tmplItem().data.id)}),d._updateState(e)});var e=b.find("[role=action-cancel]");e.click(function(a){d.fire("close")})},"bus blur":function(){this.bus.fire("close")},onItemSelected:function(a){var b=$(a.target);b.toggleClass("tau-option_selected_true"),this._updateSave()},_updateSave:function(){if(this.field.required==1){this.enabled=this.enabled||null;var a=this.$el.find("[role=option].tau-option_selected_true"),b=this.$el.find("[role=action-save]");a.length?(b.removeClass("disable"),b.removeAttr("disabled")):(b.addClass("disable"),b.attr("disabled","disabled"))}}});return b})