define(["jQuery","Underscore","tau/ui/extensions/board.plus/card-context-menu/menu-timeline-action-item-base","tau/utils/utils.date"],function(e,t,a,n){var i=a.extend({name:"Plan",className:"i-role-card-context-menu-plan",itemClickCallback:function(e){var t=e.$trigger.data("data-item"),a={itemId:t.id,position:{plannedStartDate:this._serializeDate(t.actualStartDate),plannedEndDate:this._serializeDate(t.actualEndDate)}},n=this.settings.sliceReady.slice;n.movePlannedDatesBatch({$set:{items:[a]}})},disabled:function(e,a){var n=a.$trigger.data("data-item"),i=!t.isUndefined(n.plannedStartDate)||!t.isUndefined(n.plannedEndDate);return i||this._super.apply(this,arguments)},getSupportedEntityTypes:function(){return this._getPlannableTypes()},_serializeDate:function(e){return n.format.datetime.short(n.convertToTimezone(new Date(e)))}});return i});