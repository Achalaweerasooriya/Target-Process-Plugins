define(["Underscore","jQuery","tau/core/extension.base"],function(e,t,a){return a.extend({"bus beforeInit":function(t,a){var i=a.config;this.options=e.defaults(i.options||{},{itemClassName:"tab-item",itemRightClassName:"tab-item tab-item-right-part",selectedClassName:"selected"})},"bus afterRender + childrenRendered":function(a,i,s){var r=this,n=i.element,l=n.is(".i-role-tabheaders")?n:n.find(".i-role-tabheaders:first"),o=s.childrenEvtArgs,d=s.config.children;e.forEach(o,function(e,t){var a=e.element,i=d[t];r.insertChild(l,a,i)}),n.on("click",".i-role-tabheader",function(){var e=t(this).data("label");e&&r.fire("switched",e)}),this.fire("$el.ready",n)},insertChild:function(a,i,s){var r=this.options,n=[];e.has(s.position||{},"right")&&s.position.right?n.push(r.itemRightClassName):(n=["i-role-tabheader"],n.push(r.itemClassName)),s.selected&&n.push(r.selectedClassName),s.className&&n.push(s.className),n.push("i-taus");var l=s.label||i.text();i.length&&t("<li></li>").addClass(n.join(" ")).attr("data-label",l).attr("taustype","view-entity").attr("tauspref","tab").append(i).appendTo(a)},"bus $el.ready:last + switched.after":function(e,a,i){var s=a.find(".i-role-tabheader"),r=this.options;s.each(function(){var e=t(this);e.toggleClass(r.selectedClassName,e.data("label")==i)})}})});