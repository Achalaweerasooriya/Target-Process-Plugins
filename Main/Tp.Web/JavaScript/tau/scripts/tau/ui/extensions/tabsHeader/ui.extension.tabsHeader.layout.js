define(["Underscore","jQuery","tau/core/extension.base"],function(_,$,ExtensionBase){return ExtensionBase.extend({"bus beforeInit":function(evt,initConfig){var config=initConfig.config;this.options=_.defaults(config.options||{},{itemClassName:"tab-item",itemRightClassName:"tab-item tab-item-right-part",selectedClassName:"selected"})},"bus afterRender + childrenRendered":function(evt,renderData,childrenData){var self=this,$el=renderData.element,$holder=$el.is(".i-role-tabheaders")?$el:$el.find(".i-role-tabheaders:first"),childrenArgs=childrenData.childrenEvtArgs,childrenConfigList=childrenData.config.children;_.forEach(childrenArgs,function(data,index){var $childEl=data.element,childConfig=childrenConfigList[index];self.insertChild($holder,$childEl,childConfig)}),$el.on("click",".i-role-tabheader",function(){var label=$(this).data("label");label&&self.fire("switched",label)}),this.fire("$el.ready",$el)},insertChild:function($holder,$childEl,config){var opts=this.options,classNames=[];_.has(config.position||{},"right")&&config.position.right?classNames.push(opts.itemRightClassName):(classNames=["i-role-tabheader"],classNames.push(opts.itemClassName)),config.selected&&classNames.push(opts.selectedClassName);var label=config.label||$childEl.text();$("<li></li>").addClass(classNames.join(" ")).data("label",label).append($childEl).appendTo($holder)},"bus $el.ready:last + switched.after":function(evt,$el,id){var $items=$el.find(".i-role-tabheader"),opts=this.options;$items.each(function(){var $item=$(this);$item.toggleClass(opts.selectedClassName,$item.data("label")==id)})}})})