define(["jQuery","Underscore","tau/core/extension.base","tau/configurations/converters/converter.context","tau/configurations/factory.container.config"],function(e,t,n,i,o){return n.extend({"bus beforeInit":function(e,n){var r=n.config.options||{};r=t.defaults(r,{external:!1,type:"menu.actions",items:[]}),r.external&&(r.items=o.getEntityConfigObject(n.config).getActions(),r.items=t.filter(r.items,function(e){return!t.contains(e.editions,"~innerList")}));var a=n.config.context;r.items=i.convert(r.items,t.pluck(a.getPractices(),"name"),a.getEdition()),this.fire("options.ready",r),this.fire("dataBind",{isEmpty:!r.items.length})},"bus beforeInit + options.ready + afterRender":function(e,t,n,i){var o=t.config.context.configurator,r=i.element.find(".i-role-trigger");if(r.length){var a,s;n.external||(a=['<div class="tau-bubble">','<div class="tau-bubble__inner" role="content" style="margin:0"></div>',"</div>"].join(""),s=function(e){e.my="right top+2",e.at="right bottom"});var c={target:r,appendMethod:"appendTo",cleanupOnHide:!1,stackName:"quickAddGeneral",showOnCreation:!1,zIndex:1e4,className:"ui-menu-actions__bubble",hideOnScroll:!1,onShow:function(){o.getKeyBoardManager().pushHandler({})},onHide:function(){o.getKeyBoardManager().popHandler()},template:a,onPositionConfig:s,dontCloseSelectors:["#ui-datepicker-div"],componentsConfig:{components:[{name:"entity menu",type:n.type,options:n,items:n.items}]}};this.fire("initBubble",c)}},"bus afterRender:last + destroy":function(e,t){var n=t.element;n.length&&n.data("ui-tauBubble")&&n.tauBubble("hide")}})});