define(["jQuery","Underscore","tau/core/extension.base","tau/configurations/converters/converter.context","tau/configurations/factory.container.config"],function(e,t,n,i,o){return n.extend({"bus beforeInit":function(e,n){var a=n.config.options||{};a=t.defaults(a,{external:!1,type:"menu.actions",items:[]}),a.external&&(a.items=o.getContextBasedConfigObject(n.config).originalConfigObject.getActions(),a.items=t.filter(a.items,function(e){return!t.contains(e.editions,"~innerList")}));var r=n.config.context;a.items=i.convert(a.items,t.pluck(r.getPractices(),"name"),r.getEdition()),this.fire("options.ready",a),this.fire("dataBind",{isEmpty:!a.items.length})},"bus beforeInit + options.ready + afterRender":function(e,t,n,i){var o=t.config.context.configurator,a=i.element.find(".i-role-trigger");if(a.length){var r,s;n.external||(r=['<div class="tau-bubble">','<div class="tau-bubble__inner" role="content" style="margin:0"></div>',"</div>"].join(""),s=function(e){e.my="right top+2",e.at="right bottom"});var c={target:a,appendMethod:"appendTo",cleanupOnHide:!1,stackName:"quickAddGeneral",showOnCreation:!1,zIndex:1e4,className:"ui-menu-actions__bubble",hideOnScroll:!1,onShow:function(){o.getKeyBoardManager().pushHandler({})},onHide:function(){o.getKeyBoardManager().popHandler()},template:r,onPositionConfig:s,dontCloseSelectors:["#ui-datepicker-div"],componentsConfig:{components:[{name:"entity menu",type:n.type,options:n,items:n.items}]}};this.fire("initBubble",c)}},"bus afterRender:last + destroy":function(e,t){var n=t.element;n.length&&n.data("ui-tauBubble")&&n.tauBubble("hide")}})});