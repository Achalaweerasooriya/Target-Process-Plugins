define(["jQuery","tau/core/extension.base","tau/configurations/converters/converter.context"],function($,ExtensionBase,converter){return ExtensionBase.extend({"bus beforeInit":function(evt,initConfig){var options=initConfig.config.options||{};options=_.defaults(options,{items:[]});var context=initConfig.config.context;options.items=converter.convert(options.items,_.pluck(context.getPractices(),"name"),context.getEdition()),this.fire("dataBind",{isEmpty:options.items.length==0})},"bus beforeInit + afterRender":function(e,initConfig,renderData){var configurator=initConfig.config.context.configurator,options=initConfig.config.options||{},$el=renderData.element,$target=$el;if($target.length==0)return;var bubbleConfig={target:$target,cleanupOnHide:!0,stackName:"quickAddGeneral",showOnCreation:!1,zIndex:1e4,className:"tau-quick-add-dialog-general tau-quick-add-dialog-entity",hideOnScroll:!1,onBeforeShow:function(){var $t=$target.parent().find(".ui-menu-actions");$t.length&&$t.behaviourMenuActions("close")},onShow:function(){configurator.getKeyBoardManager().pushHandler({})},onHide:function(){configurator.getKeyBoardManager().popHandler()},onPositionConfig:function(){return{of:$target,collision:"none none",my:"right top",at:"right bottom",offset:"20 0"}},dontCloseSelectors:["#ui-datepicker-div"],componentsConfig:{components:[{type:"entity.quickAdd",options:options}]}};this.fire("initBubble",bubbleConfig),$target.data("tauBubble")._append=function($popup){var $host=this.$target.parents(".i-role-application:first");$host.append($popup)}},"bus afterRender:last + destroy":function(e,renderData){var $target=renderData.element;if($target.length==0)return;$target.tauBubble("hide")}})})