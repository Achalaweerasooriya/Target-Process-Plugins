define(["Underscore","jQuery"],function(e,t){return{initializeHeaderCells:function(e){var i=e.model,a=e.$element,n=[],r=function(e){var a="x"===e?"cols":"rows",r="x"===e?"width":"height";return function(){var l=t(this);if(!l.parent().attr("data-is-hidden")){var s=l.data(),c=s[e],d={$el:l,data:s,syncItem:i[a][c],syncSize:r};n.push(d)}}},l=a.find(".i-role-header");return l.filter("[data-dimension=x]").find(".i-role-cell").each(r("x")),l.filter("[data-dimension=y]").find(".i-role-cell").each(r("y")),n},calculateHeight:function(i){var a=t();e.each(i.row.items,function(e){a=a.add(e.$el)}),a.css({height:"","min-height":""});var n=e.pluck(a,"clientHeight").concat(i.row.minHeight);return e.max(n)},applyHeight:function(t,i){var a=i.headerCell;a&&a.lastHeight!==t&&(a.lastHeight=t,a.$el.css({height:t,"min-height":t})),e.each(i.row.items,function(e){e.$el.css({height:t})})},getCardsInRow:function(e,t){return e.isCollapsed?e.cardsInRow:6==t?1:e.cardsInRow},calculateWidth:function(e){var t=e.col,i=this.getCardsInRow(t,e.zoomLevel),a=e.getCardWidth(t);return i*a+t.extraWidth},_isBacklogHeader:function(e){var t=e.data();return t.isbacklog},applyWidth:function(e,t){var i=t.headerCell;if(i.lastWidth!==e&&this._isBacklogHeader(i.$el)){var a=".i-role-timeline-column",n=i.$el.closest(".i-role-board-body"),r=n.find(a).eq(0);i.lastWidth=e;var l=parseInt(i.$el.css("padding-left"),10),s=2*l+e;i.$el.css({width:s});var c=parseInt(r.css("left"),10);r.css({width:s}).next(a).css({left:c+s})}}}});