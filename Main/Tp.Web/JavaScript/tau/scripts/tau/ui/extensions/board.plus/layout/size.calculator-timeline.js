define(["Underscore","jQuery"],function(e,t){return{initializeHeaderCells:function(e){var i=e.model,a=e.$element,n=[],l=function(e){var a="x"===e?"cols":"rows",l="x"===e?"width":"height";return function(){var r=t(this);if(!r.parent().attr("data-is-hidden")){var s=r.data(),c=s[e],d={$el:r,data:s,syncItem:i[a][c],syncSize:l};n.push(d)}}},r=a.find(".i-role-header");return r.filter("[data-dimension=x]").find(".i-role-cell").each(l("x")),r.filter("[data-dimension=y]").find(".i-role-cell").each(l("y")),n},calculateHeight:function(t){var i=t.row,a=i.items[0].$el,n=i.items[1].$el;a.add(n).css({height:"","min-height":""});var l=[a[0].clientHeight,n[0].clientHeight,i.minHeight];return e.max(l)},applyHeight:function(t,i){var a=i.headerCell,n=i.row;a&&a.lastHeight!==t&&(a.lastHeight=t,a.$el.css({height:t,"min-height":t})),e(n.items).each(function(e){e.$el.css({height:t})})},getCardsInRow:function(e,t){return e.isCollapsed?e.cardsInRow:6==t?1:e.cardsInRow},calculateWidth:function(e){var t=e.ctx,i=this.getCardsInRow(e.col,e.zoomLevel),a=e.col.extraWidth,n=t.getCardWidth(e.col);return i*n+a},applyWidth:function(e,t){var i=t.headerCell,a=i.$el.data(),n=a.isbacklog?0:1,l=".i-role-timeline-column",r=i.$el.closest(".i-role-board-body").find(l).eq(n);if(a.isbacklog&&i.lastWidth!==e){i.lastWidth=e;var s=parseInt(i.$el.css("padding-left"),10),c=2*s+e;i.$el.css({width:c});var d=parseInt(r.css("left"),10);r.css({width:c}).next(l).css({left:d+c})}}}});