define(["jQuery","tau/core/extension.base"],function(e,t){return t.extend({resetLifecycle:!0,"bus afterRender":function(e,t){var a=t.element;this.fire("confirmation.toggle",!0),this.fire("$el.ready",a),this.fire("$list.ready",a.find(".tau-templates-body")),this.fire("$items.ready",a.find(".i-role-item"))},"bus $items.ready":function(e,t){var a=this;t.find(".i-role-tabheader").on("click",function(e){e.stopPropagation(),a.fire("setup.pressed")})},"bus $el.ready:last + $items.ready:last + confirmation.toggle":function(t,a,i,n){var l=this,o=a.data("confirmation");o!=n&&(i.each(function(){var t=e(this),a=t.data("id"),n=t.tauBubble({template:['<div class="tau-bubble tau-warning-bubble">','<div class="tau-bubble__inner tau-container"  role="content"></div>',"</div>"].join(""),content:["<h3>This View settings will be reset and new template will be applied. Do you want to do that?</h3>",'<div class="tau-buttons">','<button class="tau-btn tau-attention i-role-actionok">Ok</button>','<button class="tau-btn i-role-actioncancel">Cancel</button>',"</div>"].join(""),onPositionConfig:function(e){e.my="center center",e.at="center center"},onBeforeShow:function(){return t.hasClass("tau-template-item-checked")?!1:void 0},onHide:function(){t.toggleClass("tau-template-item_hover",!1)},onShow:function(){t.toggleClass("tau-template-item_hover",!0);var e=n.tauBubble("widget");e.unbind("click"),e.one("click",".i-role-actioncancel",function(){n.tauBubble("hide")}),e.one("click",".i-role-actionok",function(){i.not(t).removeClass("tau-template-item-checked"),t.toggleClass("tau-template-item-checked",!0),n.tauBubble("hide"),l.fire("item.selected",a)})},zIndex:130})}),n?(i.tauBubble("enable"),i.unbind("click.boardTemplates")):(i.tauBubble("disable"),i.on("click.boardTemplates",function(){var t=e(this),a=t.data("id");i.not(t).removeClass("tau-template-item-checked"),t.toggleClass("tau-template-item-checked",!0),l.fire("item.selected",a)})),a.data("confirmation",!!n))},"bus $el.ready:last + $list.ready:last + $items.ready:last + external.setFocusOnSelected":function(e,t,a,i){var n=i.filter(".tau-template-item-checked");n.length&&a.scrollTo(n)},"bus $el.ready:last + $list.ready:last + $items.ready:last + external.selectDefault":function(e,t,a,i){var n=i.first().toggleClass("tau-template-item-checked",!0);n.length&&a.scrollTo(n)},"bus $el.ready:last + $list.ready:last + $items.ready:last + external.selectNone":function(e,t,a,i){i.filter(".tau-template-item-checked").toggleClass("tau-template-item-checked",!1)}})});