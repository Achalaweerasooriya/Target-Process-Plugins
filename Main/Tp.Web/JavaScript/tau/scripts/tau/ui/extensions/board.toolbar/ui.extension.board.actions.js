define(["jQuery","Underscore","tau/components/extensions/component.extension.base","tau/ui/templates/board.toolbar/ui.template.board.actions.menu","tau/models/print.cards/model.print.cards.board"],function(t,e,n,o,a){return n.extend({"bus boardSettings.ready:last + configurator.ready:last + afterRender":function(t,s,i,r){var d=i.getLoggedUser(),c=d.isAdministrator,b=r.element.find("[role=actions-button]"),l={target:b,cleanupOnHide:!0,className:"tau-board-actions-bubble",stackName:"actionsBoard",showOnCreation:!0,zIndex:42,componentsConfig:{components:[{name:"actions-bubble",layout:"selectable",model:r.data,boardTemplatesEnabled:c,extensions:[n.extend({"bus childComponentCreated":function(t,e){e.fire("boardSettings.ready",s)}})],type:"container",template:o,children:e.compact([r.data.isEditable?{selector:".remove-board-button",type:"board.remove"}:!1,{selector:".clone-board-button",type:"board.clone"},r.data.isPrintable?{selector:".print-board-button",type:"print.cards",extensions:[a,n.extend({init:function(t){this._super(t),b.one("taububblehide",function(){this.fire("clearPrintBlock")}.bind(this))}})]}:!1,{selector:".tau-csv",type:"board.csv"},c?{selector:".save-template-button",type:"board.templates.editor"}:!1,r.data.canSetupStates?{selector:".setup-states-button",type:"board.workflow"}:!1])}]},onShow:function(t){b.addClass("tau-checked"),t.on("click.settings",".tau-btn-settings",function(){b.tauBubble("hide"),s.boardSettings.set({set:{edit:!0}})})},onHide:function(t){t.off("click.settings",".tau-btn-settings"),b.removeClass("tau-checked")}};b.on("click",function(){this.fire("initBubble",l)}.bind(this))}})});