define(["tau/components/extensions/component.extension.base"],function(e){return e.extend({"bus afterRender":function(e){var t=e.data.element,i=this.config.store,n=this.config.context.entity,s=this.bus;t.delegate("[role=action-detach]","click",function(e){var t=$(e.target).parents("[role=item]:first"),r=t.data("tmplItem").data;i.removeFromList(r.__type,{id:r.id,$set:{relatedRequests:{id:n.id}}}).done({success:function(){i.save("request",{id:n.id,$set:{relatedEntities:[]}}).done(),i.evictProperties(n.id,n.entityType.name,["relatedEntities","relatedEntities-count"]),s.fire("refresh")}})})}})});