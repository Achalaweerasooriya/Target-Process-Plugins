define(["tau/components/extensions/component.extension.base"],function(e){return e.extend({ENTITY_PROPS_MAP:{userStory:["tasks","bugs"],feature:["bugs"]},"bus afterInit":function(){if(!this.signedUp){this.signedUp=!0;var e=this.config.context.entity,t=e.entityType.name,i=this.config.store;this._refresher||(this._refresher=function(){i.evictProperties(e.id,t,this.ENTITY_PROPS_MAP[t]),this.fire("refresh")}.bind(this),i.unbind(this),i.on({eventName:"afterSave",type:t,listener:this,filter:{id:e.id},hasChanges:["entityState"]},this._refresher))}},"bus destroy":function(){this.config.store.unbind(this),delete this._refresher,this._super.apply(this,arguments)}})});