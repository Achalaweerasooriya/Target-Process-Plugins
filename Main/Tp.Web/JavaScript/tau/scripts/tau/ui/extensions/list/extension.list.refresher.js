define(["tau/components/extensions/component.extension.base"],function(a,b){return a.extend({"bus afterInit":function(){if(this.signedUp)return;this.signedUp=!0;var a=this.config.context.entity,b=a.entityType.name,c=this.config.store,d=this;this._refresher||(this._refresher=function(){c.evictProperties(a.id,b,["tasks","bugs"]),d.fire("refresh")},c.unbind(this),c.on({eventName:"afterSave",type:"userStory",listener:this,filter:{id:a.id},hasChanges:["entityState"]},this._refresher))},"bus destroy":function(){this.config.store.unbind(this),delete this._refresher,this._super.apply(this,arguments)}})})