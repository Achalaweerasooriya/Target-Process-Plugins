define(["jQuery","Underscore","tau/core/extension.base","tau/ui/extensions/ui.context-menu","tau/ui/extensions/board.plus/card-context-menu/menu-action-open-new-tab","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-rename","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-change-tags","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-add","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-assignments","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-delete","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-convert","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-copy-to-project","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-plan","tau/ui/extensions/board.plus/card-context-menu/menu-action-item-unplan","tau/ui/behaviour/common/ui.behaviour.editableText"],function(e,t,n,a,i,s,o,r,u,c,d,l,m,p){return n.extend({resetLifecycle:!0,cardMenuActionActivatedCssClass:"i-role-permanent-context-menu-action-activated","bus slice.ready + configurator.ready:last + domWrapper.ready:last + viewMode.ready:last + model.zoomLevelChanged:last + boardSettings.ready:last + cardLayoutFactory.ready:last":function(e,t,n,g,x,h,b,v){this.options={bus:this,sliceReady:t,configurator:n,domWrapper:g,viewMode:x,zoomLevelData:h,boardSettings:b,layout:v,activationCssClass:this.cardMenuActionActivatedCssClass,propertiesToEvict:[]};var S={handlers:{open:new i(this.getSettings()),rename:new s(this.getSettings()),changeTagsAction:new o(this.getSettings({propertiesToEvict:["tags"],activationCssClass:["i-role-permanent-context-menu-tags",this.cardMenuActionActivatedCssClass].join(" ")})),assignments:new u(this.getSettings({propertiesToEvict:["entityState","assignments","roleEfforts"],activationCssClass:["i-role-permanent-context-menu-assignments",this.cardMenuActionActivatedCssClass].join(" ")})),addAction:new r(this.getSettings()),convert:d.createMenuItem(this.getSettings()),copyToProject:new l(this.getSettings()),plan:new m(this.getSettings()),sep1:"---------",unplan:new p(this.getSettings()),del:new c(this.getSettings())},showSelectors:[".tau-board .i-role-card",".tau-boardclipboard .i-role-card"],skipShowSelectors:[".tau-id"]};"timeline"!==this.options.viewMode&&(delete S.handlers.plan,delete S.handlers.unplan);var w=new a(S);w.initContextMenu()},getSettings:function(e){return t.extend(this.options,e)}})});