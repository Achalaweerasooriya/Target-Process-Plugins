define(["Underscore","jQuery","tau/ui/extensions/inviter/ui.extension.inviter.widget.abstract"],function(_,$,ExtensionBase){return ExtensionBase.extend({"bus configurator.ready":function(evt,configurator){this._initTemplates(configurator)},"bus configurator.ready + $el.ready":function(evt,configurator,$section){var $widget=this._initWidget(configurator,$section)},"bus configurator.ready + entity.ready":function(evt,configurator,entity){var self=this,store=configurator.getStore();store.unbind(this),store.on({eventName:"afterSave",type:"team",listener:this,hasChanges:["teamMembers"]},function(){self.fire("refresh")}),store.get("team",{id:entity.id,fields:[{teamMembers:[{user:["id"]}]}]}).done(function(res){var ids=_.pluck(_.pluck(res[0].data.teamMembers,"user"),"id");self._getExcludedIds=function(){return ids}})}})})