define(["Underscore","jQuery","tau/components/extensions/component.extension.base","tau/ui/extensions/board.customize/ui.board.editor.customize.editor.helper"],function(e,t,n,a){return n.extend({_search:function(e){var t=e.val();this.fire("public.searchText.changed",t)},setSearchAndHandler:function(t){var n=this,a=null,i=null,r=t.find(".tau-in-text");r.off("input.search keydown.search");var s=e.bind(function(){clearTimeout(i),a!=r.val()&&(i=setTimeout(e.bind(n._search,this,r),50))},this);this._search(r),r.on("input.search keydown.search",s)},"bus afterRender":function(e,t){this.setSearchAndHandler(t.element)},"bus elementRefreshedWithData":function(e,t){this.setSearchAndHandler(t.element),this.fire("parent.ready",t)},"bus elementRefreshedWithData:last + public.card.changed":function(e,t){this._search(t.element.find(".tau-in-text"))},"bus elementRefreshedWithData:last + public.searchText.changed":function(e,t,n){a.searchInLibrary(t.element,n)}})});