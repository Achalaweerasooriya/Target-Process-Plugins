define(["Underscore","jQuery","tau/components/extensions/component.extension.base"],function(a,b,c){return c.extend({"bus afterRender":function(c){var d=c.data,e=this.$element=d.element,f=this.config.shortcutProcessorTarget,g=[],h=e.find(f),i=/\b(?:id):(?:\W|&nbsp;){0,5}(\d+)\b/gi;h.each(function(a,c){var d=b(c),e=d.html(),f=!1;e=e.replace(i,function(){f=!0;var a=arguments[1];return g.push(a),"<span class='tau-shortcut-loading' entity_ref='"+a+"'>id:"+a+"</span>"}),f&&d.html(e)}),g=a(g).uniq();var j=g.length;if(j){var k=this,l=this.config.store;for(var m=0;m<j;m++){var n=g[m],o={id:n,fields:["id","name",{entityType:["id","name"]}],silent:!0};l=l.get("general",o,{success:k.replaceShortcut,scope:k})}l.done()}},replaceShortcut:function(a){var c=a.data,d=b('<a href="#'+c.entityType.name+"/"+c.id+'">#'+c.id+"&nbsp;"+c.name+"</a>");this.$element.find("[entity_ref='"+c.id+"']").each(function(a,c){var e=b(c);e.replaceWith(d.clone())})}})})