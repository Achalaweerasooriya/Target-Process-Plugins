define(["jQuery","tau/core/class"],function(e,n){var t=null,s=n.extend({init:function(e){this.config=e},resetSettings:function(){t=null},getGlobalSettings:function(n){var s=function(e,n){e&&e.success&&e.success.call(e.scope,n.d)};return t?(s(n,t),e.Deferred().resolve(t.d)):this.sendRequest("GlobalSettingsService","GetGlobalSettings",null,function(e){t=e,s(n,e)},function(e){n.failure&&n.failure.call(n.scope,e)}).then(function(e){return e.d})},sendRequest:function(n,t,s,i,c){var r=this.config.appPath+"/PageServices/"+n+".asmx/"+t,u={contentType:"application/json",type:"POST",success:i,error:c};return s&&(u.data=JSON.stringify(s)),e.ajax(r,u)}});return s});