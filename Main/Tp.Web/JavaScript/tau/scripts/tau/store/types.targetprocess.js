define(["Underscore","tau/store/types","tau/store/types.targetprocess.generated","tau/store/types.targetprocess.additional"],function(e,t,r,s){var n=function(e){for(var t=[],r=0,s=e.length;s>r;r++){var n=e.charAt(r),a=n.toUpperCase();0===r?n=a:n===a&&t.push(" "),t.push(n)}return t.join("")},a=function(e){return{key:e,val:e}},i=function(t,r){return r=r||e.pluralize(t),{key:r,val:r}},o=function(e){return{key:e+" Big Icon Text",val:e}},c={testcase:"TC",teamiteration:"TI",testplan:"TP",testplanrun:"TR",userstory:"U"},l=function(t,r){return{key:t+" Small Icon Text",val:c[r.toLowerCase()]||e.last(t.split(" ")).charAt(0)}},u=function(e){if(e&&e.entityType&&e.entityType.name)return e.entityType.name;throw new Error("Type of entity is not detected")},p=function(e,t){var r=n(e);return{name:a(r),names:i(r,t),iconBig:o(r),iconSmall:l(r,e)}};return e.each(r.concat(s),function(e){var r;switch(e.name){case"projectMember":r="Project Allocations";break;case"userStory":e.aliases.unshift("story","stories","us"),e.simpleFields.push("tasks-effort-sum","tasks-effortToDo-sum");break;case"general":case"assignable":e.isParentType=!0,e.discriminator={entityType:["id","name"]},e.detectType=u}("general"===e.parent||"assignable"===e.parent)&&e.simpleFields.push("customFields"),e.terms=p(e.name,r),"processInfo"===e.name&&e.refs&&(e.refs={}),"context"===e.name&&(e.refs||(e.refs={}),e.refs.culture&&delete e.refs.culture,e.refs.appContext&&delete e.refs.appContext,e.refs.selectedProjects={list:!0,name:"project"},e.simpleFields=["id","acid"]),t.register(e)}),t.register({name:"implementationHistory",aliases:["stats"]}),t.register({name:"solution"}),t.register({name:"prioritizer",fields:["id"],refs:[]}),t});