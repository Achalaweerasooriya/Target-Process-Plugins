define(["Underscore"],function(n){var r=function(r){var t=r.split("/");if(t.length<2)return null;var e=t[0],a=t[1],i=a.length,u=n.without([a.indexOf("&"),a.indexOf("||"),i],-1),f=n.min(u),o=a.substring(0,f);return{id:o,type:e}};return{resolvePageInfo:function(t,e,a){var i=t.configurator.getExternal(),u=i.getHashParam(t.appId,null),f=u||i.getHash(),o=r(f),l=o;return o||(l=e,n.isFunction(a)&&a.call(i,l)),l},getQueryParam:function(n,r){var t=n.indexOf(r+"=");if(-1===t)throw'Param "'+r+'" not found';t=t+r.length+1;var e=n.indexOf("&",t);e=-1!==e?e:n.length;var a=n.substring(t,e);return a}}});