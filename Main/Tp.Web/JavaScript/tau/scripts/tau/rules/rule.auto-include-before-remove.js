define(["Underscore"],function(_){var fn=function(evt,rule){var rulesEngine=this,obj=evt.data.obj;for(var i=0;i<rule.fields.length;i++){var field=rule.fields[i];_.mergeFields(evt.data.cmd.config.fields,[field])}};return{"auto-include-before-remove":function(rule){var rulesEngine=this;if(rule.fields.length===0)return;var fnProcess=function(evt){fn.call(rulesEngine,evt,rule)};rulesEngine.store.on({eventName:"beforeRemove",type:rule.type,listener:rulesEngine},fnProcess)}}})