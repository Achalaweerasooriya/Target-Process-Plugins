define(["Underscore"],function(e){var i=function(i,n){for(var t=this,a=i.data.obj,r=0;r<n.fields.length;r++){var o=n.fields[r];(a.id&&t.store.isPropertyInitialized(a.id,a.type,e.getFieldName(o))||n.force)&&e.mergeFields(i.data.cmd.config.fields,[o])}};return{"auto-include-before-save":function(n){var t=this;0!==n.fields.length&&e.each(n.changes,function(e){var a=[e],r=function(e){i.call(t,e,n)};t.store.on({eventName:"beforeSave",type:n.type,listener:t,hasChanges:a},r)})}}});