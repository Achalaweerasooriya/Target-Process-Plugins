define(["Underscore"],function(a){var b=function(b,c){var d=this,e=b.data.obj;for(var f=0;f<c.fields.length;f++){var g=c.fields[f];(d.store.isPropertyInitialized(e.id,e.type,a.getFieldName(g))||c.force)&&a.mergeFields(b.data.cmd.config.fields,[g])}};return{"auto-include-before-save":function(c){var d=this;if(c.fields.length===0)return;a.each(c.changes,function(a){var e=[a],f=function(a){b.call(d,a,c)};d.store.on({eventName:"beforeSave",type:c.type,listener:d,hasChanges:e},f)})}}})