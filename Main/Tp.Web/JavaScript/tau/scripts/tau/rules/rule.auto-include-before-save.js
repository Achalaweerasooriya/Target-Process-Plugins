define(["Underscore"],function(_){var a=function(a,b){var c=this,d=a.data.obj;for(var e=0;e<b.fields.length;e++){var f=b.fields[e];(d.id&&c.store.isPropertyInitialized(d.id,d.type,_.getFieldName(f))||b.force)&&_.mergeFields(a.data.cmd.config.fields,[f])}};return{"auto-include-before-save":function(b){var c=this;if(b.fields.length===0)return;_.each(b.changes,function(d){var e=[d],f=function(d){a.call(c,d,b)};c.store.on({eventName:"beforeSave",type:b.type,listener:c,hasChanges:e},f)})}}})