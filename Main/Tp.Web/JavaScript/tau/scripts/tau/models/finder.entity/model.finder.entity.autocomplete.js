define(["Underscore","tau/core/extension.base","tau/models/board.editor/board.filter.suggestionManager"],function(e,t,r){return t.extend({"bus configurator.ready":function(e,t){var n=new r(t);this.fire("suggestionManager.ready",n)},"bus suggestionManager.ready:last + types.ready:last + filter.autocomplete.preload":function(t,r,n,o){var a=o.value;if(a&&0!==a.length&&"?"==a[0]){var s=[a.trim()+" ",a.trim()+"."];e.each(s,function(e){var t={query:{resourceTypes:n,script:e}};r.get(t)})}},"bus suggestionManager.ready:last + types.ready:last + filter.autocomplete.resolve":function(t,r,n,o){var a=function(t){var r=t.Suggestions?t.Suggestions.Items:[];r=e.map(r,function(e){return e.Source=t.Source,e.Position=t.Position,e}),o.next(r)},s=function(){o.next([])},i={query:{resourceTypes:n,script:o.term}};r.get(i).done(a).fail(s)}})});