define(["Underscore","tau/core/model-base"],function(_,BaseModel){return BaseModel.extend({"bus afterInit":function(evt){var self=this;self.fire("dataBind",{});var configurator=evt.data.config.context.configurator;this.fire("configurator.ready",configurator)},"bus configurator.ready:last+add.executed":function(evt,configurator){var storage=configurator.getRestStorage(),user=configurator.getLoggedUser(),definition=configurator.getBoardDefinitionFactory().createByOwner(user);storage.data(definition.groupName,definition.id,{scope:"Public",publicData:definition,userData:{menuIsVisible:1}}).done(_.bind(function(res){definition.id=res.data.key,this.fire("add.board",{board:{id:definition.id}}),this.fire("definition.saved",definition)},this))},"bus configurator.ready:last + definition.saved":function(evt,configurator,definition){var hash=configurator.getUrlBuilder().getRelativeBoardUrl(definition.id);configurator.setConfig("tmpBoardIsJustAdded",!0),configurator.getRouting().redirect(hash)}})})