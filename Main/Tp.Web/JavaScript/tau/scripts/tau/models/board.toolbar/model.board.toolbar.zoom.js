define(["tau/core/model-base"],function(e){var i=e.extend({"bus boardSettings.ready":function(e,i){var t=i.boardSettings;t.unbind({listener:this}),t.bind({fields:["zoomLevel"],listener:this,callback:this.safeCallback(this._provideZoomLevel)}),t.get({fields:["zoomLevel"],callback:this.safeCallback(this._provideZoomLevel)})},_provideZoomLevel:function(e){var i=this.normalize(e.zoomLevel,this.config);this.isValid(i,this.config)&&this.fire("zoom.provided",{value:i})},"bus boardSettings.ready:last + zoom.updated":function(e,i,t){var o=i.boardSettings,n=this.normalize(t.value,this.config);this.isValid(n,this.config)&&o.get({fields:["zoomLevel"],callback:function(e){e.zoomLevel!=n&&o.set({set:{zoomLevel:n}})}.bind(this)})},"bus boardSettings.ready + destroy":function(e,i){var t=i.boardSettings;t.unbind({listener:this})},isValid:function(e,i){return i.hasOwnProperty("min")&&e<i.min?!1:i.hasOwnProperty("max")&&e>i.max?!1:void 0!=e},normalize:function(e,i){if(i.hasOwnProperty("min")&&i.hasOwnProperty("max")){if(void 0==e)return i.defaultValue;if(e<i.min)return i.min;if(e>i.max)return i.max}return e}});return i});