define(["require","Underscore","./model.customField.number.editable","tau/utils/utils.jsonSchema"],function(e){var t=e("Underscore"),a=e("./model.customField.number.editable"),i=e("tau/utils/utils.jsonSchema");return a.extend({category:"edit",name:"Editable custom field",schema:i.Schema.create({type:"object",properties:{value:{type:"number",optional:!1,minimum:0,maximum:t.MAX_INT,minimumCanEqual:!0,pre:["trim","castTolerantlyToType"],"default":0,fallbacks:{type:"setDefault"}}}}),"bus beforeInit + validate":function(e,t,a){var i=t.config.context.applicationContext.culture.currencyGroupSeparator,r=a.cmd.$set.customFields[0];r.value=r.value.toString().replace(i,"").replace(",",".");var u=this.config.customField||this.config.data;this.schema.properties.value.optional=!u.required,this.schema.properties.value.empty=!u.required,a.validation=this.schema.validate(r)}})});