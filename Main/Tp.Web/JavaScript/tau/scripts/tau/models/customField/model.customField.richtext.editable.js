define(["tau/models/model.customField.editable","tau/utils/utils.jsonSchema","tau/utils/utils.htmlConverter"],function(a,b,c){var d=a.extend({category:"edit",name:"Editable custom field",schema:b.Schema.create({type:"object",properties:{value:{optional:!0,empty:!0,maxLength:4e3,type:"string",pre:["trim"]}}}),"bus validate":function(a){var b=a.data,c=b.cmd.$set.customFields[0];b.validation=this.schema.validate(c)},"bus beforeSave":function(a){var b=a.data.cmd.$set,d=b.customFields[0];d.value=c.fromHtmlToSource(d.value)}});return d})