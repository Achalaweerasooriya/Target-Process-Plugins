define(["Underscore"],function(e){function t(t){return e.isUndefined(t)||e.isNull(t)?null:(t.checkPractice=v,t.isPracticeAvailable=v,t.getTimeTrackingPolicies=r,t.getEffortPoint=s,t.getTerms=i,t.getCustomFields=o,t.getPractices=c,t.getEdition=u,t.hasEdition=p,t.getTeam=l,t.getTeamId=m,t.getProject=a,t.getProjectId=h,t.getProcess=g,t.getLoggedUser=d,t.getProcessId=f,t)}var n=function(e,t){for(var n=null,r=e.processes[0].practices,s=0;s<r.length;s++)r[s].name.toLowerCase()===t.toLowerCase()&&(n=r[s]);return n},r=function(){var e=n(this.applicationContext,"Time Tracking"),t=!e;return{disableSpentRemain:t}},s=function(e){var t=n(this.applicationContext,"Planning")||{},r=t.effortPoints;if(e=e||this.entity.entityType.name.toLowerCase(),("task"===e||"request"===e)&&(r="Hour"),!r)return{};var s="point"===r.toLowerCase()?"pt":"h";return{name:r,shortName:s}},i=function(){var e=this.applicationContext;return e&&e.processes&&e.processes.length>0?e.processes[0].terms:[]},o=function(){var e=this.applicationContext;return e&&e.processes&&e.processes.length>0?e.processes[0].customFields:[]},c=function(){var e=this.applicationContext;return e&&e.processes&&e.processes.length>0?e.processes[0].practices:[]},a=function(){var e=this.applicationContext;return e&&e.selectedProjects&&e.selectedProjects.length>0?e.selectedProjects[0]:null},l=function(){var e=this.applicationContext;return e&&e.selectedTeams&&e.selectedTeams.length>0?e.selectedTeams[0]:null},u=function(){var t=this.applicationContext,n=t&&t.edition?t.edition:[];return e.isArray(n)?n:[n]},p=function(t){return e.indexOf(this.getEdition(),t)>=0},g=function(){var e=this.applicationContext;return e&&e.processes&&e.processes.length>0?e.processes[0]:null},d=function(){var e=this.applicationContext;return e&&e.loggedUser?e.loggedUser:null},f=function(){var e=this.getProcess();return e?e.id:null},h=function(){var e=this.getProject();return e?e.id:null},m=function(){var e=this.getTeam();return e?e.id:null},v=function(e){return null!==n(this.applicationContext,e)};return t});