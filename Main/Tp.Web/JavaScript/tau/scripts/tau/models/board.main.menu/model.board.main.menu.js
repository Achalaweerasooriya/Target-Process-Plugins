define(["tau/core/extension.base"],function(BaseModel){return BaseModel.extend({"bus beforeInit":function(evt,initConfig){this.fire("configurator.ready",initConfig.config.context.configurator)},"bus afterInit":function(evt,config){var configurator=config.config.context.configurator,loggedUser=configurator.getLoggedUser(),store=configurator.getStore(),self=this;store.get("user",{id:loggedUser.id,fields:["avatarUri","firstName","lastName"]}).done({success:function(result){var userData=result[0].data;self.fire("dataBind",{userAvatarURI:userData.avatarUri+"24",userId:userData.id,dashboardUrl:configurator.getUrlBuilder().getDashboardUrl(),logoutUrl:configurator.getUrlBuilder().getLogoutUrl(),userName:[userData.firstName,userData.lastName].join(" ")})}}),store.unbind(this),store.on({eventName:"afterSave",type:"user",listener:self},function(data){data.data.id==loggedUser.id&&self.fire("refresh")})}})})