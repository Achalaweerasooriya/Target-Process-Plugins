define(["tau/core/extension.base"],function(ExtensionBase){return ExtensionBase.extend({"bus configurator.ready":function(evt,configurator){var gb=configurator.getGlobalBus();gb.removeAllListeners(this),gb.on("bugWasMarkedAsDuplicate",_.bind(function(evt){this.fire("bug.duplicated",{sourceId:evt.data.bugId,duplicateId:evt.data.duplicateBugId})},this),this)},"bus configurator.ready:last + entity.ready:last + bug.duplicated":function(evt,configurator,entity,bugData){if(entity.id==bugData.duplicateId||entity.id==bugData.sourceId)configurator.getStore().evictProperties(entity.id,entity.entityType.name,["tags"]),this.fire("refresh")},"bus configurator.ready > destroy":function(evt,configurator){configurator.getGlobalBus().removeAllListeners(this)}})})