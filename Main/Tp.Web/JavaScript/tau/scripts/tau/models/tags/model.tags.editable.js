define(["Underscore","tau/core/extension.base"],function(t,e){return e.extend({"bus configurator.ready:last + entity.ready:last + tagsProcessor.ready:last + form.submitted":function(t,e,n,a,i){var r=e.getStore();r.save(n.entityType.name,{id:n.id,$set:{tags:a.asString(i.tags)},fields:["id","tags"]}).done()},"bus configurator.ready + entity.ready + beforeInit":function(e,n,a){var i=n.getStore();i.unbind(this),i.on({eventName:"afterSave",type:a.entityType.name,listener:this,filter:{id:a.id}},t.bind(function(e){e.data.cmd&&e.data.cmd.config.$set&&t.has(e.data.cmd.config.$set,"tags")&&this.fire("refresh")},this))},"bus configurator.ready > destroy":function(t,e){var n=e.getStore();n.unbind(this)}})});