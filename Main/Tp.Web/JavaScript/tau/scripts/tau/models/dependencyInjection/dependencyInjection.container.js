define(["Underscore","tau/core/Class"],function(_,Class){var Container=Class.extend({init:function(){this.options={},this.services={},this.definitions={}},setOptions:function(options){this.options=options},setOption:function(name,value){this.options[name]=value},getOption:function(name){return this.options[name]},getService:function(name){return this.services.hasOwnProperty(name)||this._error("No service "+name),this.services[name]},setService:function(name,service){this.services[name]=service},define:function(name,definition){this.definitions[name]=definition},compile:function(){var self=this;_.forEach(this.definitions,function(func,key){self.set(key,func.call(self,self))}),_.forEach(this.services,function(service,name){self[self.esc("set "+name)]=function(service){return self.set.call(self,name,service)},self[self.esc("get "+name)]=function(){return self.get.call(self,name)}})},esc:function(str){return _.camelize(_.trim(str).replace(/[-_ .]/g," "))}});return Container.prototype.get=Container.prototype.getService,Container.prototype.set=Container.prototype.setService,Container})