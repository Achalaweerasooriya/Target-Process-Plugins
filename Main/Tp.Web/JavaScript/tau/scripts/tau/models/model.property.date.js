define(["tau/models/model.property.simple","tau/utils/utils.date"],function(ModelBase,datesUtil){return ModelBase.extend({onEntityRetrieved:function(r){if(!this.config)return;var format=this.config.format?this.config.format:"date",entity=r[0].data;this.property=entity[this.propertyName];var text=datesUtil.format[format].short(datesUtil.convertToTimezone(this.property)),date=datesUtil.parse(this.property),data={text:text};this.fire("extendData",{dataToBind:data,entity:entity,date:date}),this.fire("dataBind",data)}})})