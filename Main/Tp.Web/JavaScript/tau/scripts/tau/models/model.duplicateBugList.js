define(["Underscore","tau/core/model-base"],function(_,a){var b=a.extend({_retrieveEntity:function(){var a=this.config.context,b=a.entity.entityType.name,c=a.entity.id,d={id:c,fields:["id"]};this.store.get(b,d,{scope:this,success:this.onEntityRetrieved}).done()},convertServerDataModelData:function(a){return{__type:a.__type,id:a.id,name:a.name,state:{name:a.entityState.name}}},onEntityRetrieved:function(a){this.fire("registerStoreRequest"),this.fire("commitTransaction")},"bus duplicateBugRetrieved":function(a){var b=a.data.items,c=_.map(b,this.convertServerDataModelData,this);c=_.compact(c);var d={items:c};this.bus.fire("dataBind",d)},onInit:function(){this._retrieveEntity()}});return b})