define(["Underscore","tau/models/propertyLists/model.propertyList.base"],function(_,a){return a.extend({name:"states-list",propertyType:"entityState",onInit:function(){var a=this,b=function(b){var c=b[0].data;a.store.get(a.propertyType,a.createGetStateForAssignableCommand(c)).done({success:a.onDataRetrieved.tauCreateDelegate(a)})};this.getAssignable(b)},getRequiredFields:function(){return[{entityState:["id"]}]},createGetStateForAssignableCommand:function(a){return{id:a.entityState.id,fields:["id","name","isCommentRequired",{nextStates:["id","name","isCommentRequired","numericPriority"]}]}},processData:function(a){var b=[];a.nextStates=_.sortBy(a.nextStates,function(a){return a.numericPriority}),_.each(a.nextStates,function(a){b.push({id:a.id,name:a.name,isCommentRequired:a.isCommentRequired})}),this.fire("dataBind",{states:b,completed:!0,nullableValue:!1})}})})