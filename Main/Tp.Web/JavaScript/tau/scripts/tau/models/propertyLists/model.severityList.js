define(["Underscore","tau/models/propertyLists/model.propertyList.base"],function(_,ModelProperyListBase){return ModelProperyListBase.extend({name:"severity-list",propertyType:"severity",onInit:function(){var self=this;self.store.get(self.propertyType,{fields:["id","name","importance"]}).done({success:_.bind(self.onDataRetrieved,self)})},getRequiredFields:function(){return["id","name","importance"]},createGetStateForAssignableCommand:function(){return{fields:["id","name","importance"]}},processData:function(severities){var currentSeverityId=this.getCurrentEntityId(),items=[];_.each(severities,function(severity){severity.id!==currentSeverityId&&items.push({id:severity.id,name:severity.name,importance:severity.importance})}),items.sort(function(a,b){return a.importance-b.importance}),this.fire("dataBind",{states:items,completed:!0,nullableValue:!1})}})})