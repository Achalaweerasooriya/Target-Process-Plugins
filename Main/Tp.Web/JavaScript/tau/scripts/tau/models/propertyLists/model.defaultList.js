define(["Underscore","tau/models/propertyLists/model.propertyList.base"],function(_,a){return a.extend({onInit:function(){var a=this,b=this.config,c=this.config.context.entity;this.propertyType=b.listType,a.store.get(b.listType,{fields:["id","name"]}).get(c.entityType.name,{id:c.id,fields:["id",b.listType]}).done({success:_.bind(a.onDataRetrieved,a)})},onDataRetrieved:function(a){var b=a[0].data,c=a[1].data,d=this.config.data,e=!!(this.config.showReset&&d&&d.id),f={states:_.reject(b,function(a){return d&&a.id===d.id}),completed:!0,nullableValue:e};this.fire("dataBind",f)}})})