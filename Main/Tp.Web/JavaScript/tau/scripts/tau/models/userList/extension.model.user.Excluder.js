define(["Underscore","tau/core/model-base"],function(_,EditableBase){return EditableBase.extend({"bus registerStoreRequest":function(){var entity=this.config.context.entity||{entityType:{}},userFields=["id","firstName","lastName"],userType={};userType[this.getUserPropertyName()]=userFields,this.fire("get",{type:entity.entityType.name,query:{id:entity.id,fields:[userType]},callback:{scope:this,success:this.onEntityRetrieved}})},getUserPropertyName:function(){throw"Use Excluder getUserPropertyName should be ovveriden"},onEntityRetrieved:function(evtArgs){var entity=evtArgs.data||{},excludedUsers=[entity[this.getUserPropertyName()]];this.fire("excludedUserReady",excludedUsers)}})})