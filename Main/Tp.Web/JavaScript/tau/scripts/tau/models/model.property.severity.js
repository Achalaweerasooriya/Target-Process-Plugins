define(["Underscore","tau/models/model.property","tau/models/dataprocessor/model.processor.importance"],function(a,b,c){return b.extend({getPropertyFields:function(){var b=this._super(),c=a.union(b,["importance"]);return c},buildRequest:function(a){var b=this._super(a);return b=b.get("severity",{fields:["id","importance"]}),b},onProcessProperty:function(a){var b=this._super(a);return b.kind=this.importanceProcessor.getKind(a.importance),b},onEntityRetrieved:function(b){var d=this.property=b[0].data[this.propertyName]||{},e=a(b[1].data).pluck("importance"),f=a.min(e),g=a.max(e);this.importanceProcessor=new c(f,g),this.processProperty(d)}})})