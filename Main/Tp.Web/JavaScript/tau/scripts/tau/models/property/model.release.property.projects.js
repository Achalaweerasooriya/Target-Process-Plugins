define(["Underscore","tau/models/model.property"],function(t,e){return e.extend({getPropertyData:function(){this.store.get(this.getEntityTypeName(),{id:this.getEntityId(),fields:["id",{projects:["id","name","color"]}]}).done({success:this.onEntityRetrieved,scope:this})},processProperty:function(e){var i=t.map(e,this._getProjectData,this);this.fire("dataBind",i)},_getProjectData:function(t){var e={id:t[this.valueField],type:"project",name:t[this.displayField]||"No Project",color:t.color,url:this.config.context.configurator.getUrlBuilder().getNewViewUrl(t[this.valueField],"project",!0),isEditable:this.config.editable};return e}})});