define(["tau/models/model.property.text.validation","tau/utils/utils.jsonSchema"],function(ModelBase,jsonSchema){var model=ModelBase.extend({category:"edit",schema:jsonSchema.Schema.create({type:"string",optional:!0,empty:!0,maxLength:3,pre:["trim"],post:[function(d){return(d+"").toUpperCase()},function(d){var reg=/^[\dа-яa-z]{1,3}$/i;return d.match(reg)||new this.Error("Abbr","Should contain letters or digits"),d}]}),"bus beforeInit":function(evt,initConfig){initConfig.config.required?(this.schema.empty=!1,this.schema.optional=!1):(this.schema.empty=!0,this.schema.optional=!0)}});return model})