define(["Underscore","tau/core/class"],function(e,n){return n.extend({init:function(n){this.dataDeferred=$.Deferred();var r=e.bind(function(e,t){n.bus.removeListener("public.relationsReady",r,n.bus),this.dataDeferred.resolve(t[n.dependencyType])},this);n.bus.on("public.relationsReady",r)},fetch:function(e){this.dataDeferred.done(e)}})});