define(["Underscore","tau/models/dataProviders/model.provider.items.base"],function(t,e){return e.extend({fetch:function(t){this._fetch("tasks","task","priority",t)},_createDetailCommand:function(t){var e={};return e[t]=["id","name","numericPriority","tags","effort","effortCompleted","effortToDo","timeSpent","timeRemain",{userStory:["id"]},{entityState:this.fields.entityState},{roleEfforts:["id","effort","effortToDo",{role:["id","name","isPair","hasEffort"]}]},{owner:["id","firstName","lastName"]},{assignments:["id",{role:["id"]},{generalUser:this.fields.generalUser}]},{priority:["id","name","importance"]},{project:["id"]}],e},_convertItem:function(t){t.project=t.project||{};var e={id:t.id,name:t.name,numericPriority:t.numericPriority,__type:t.__type,entityState:{id:t.entityState.id,name:t.entityState.name,isInitial:t.entityState.isInitial,isFinal:t.entityState.isFinal,numericPriority:t.entityState.numericPriority},tags:this._processTags(t),effort:this._getEffortData(t),assignments:this._processAssignments(t),priority:null,projectId:t.project.id,entitiesCount:0};return e}})});