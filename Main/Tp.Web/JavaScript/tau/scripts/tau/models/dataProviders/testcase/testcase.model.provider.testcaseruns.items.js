define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/utils/utils.date"],function(e,t,n){return t.extend({fetch:function(e){this._fetch("testCaseRuns","testCaseRun","priority",e)},_createDetailCommand:function(e){var t={};return t[e]=["id","passed","executed","comment","runDate",{testPlanRun:["id","name","tags","numericPriority",{testPlan:["id","name"]},{priority:["id","name","importance"]},{release:["id","name"]},{iteration:["id","name"]},{build:["id","name"]}]}],t},_convertData:function(t){return t=this._super(t),t=e.compact(t),e.sortBy(t,function(e){return e.runDateReal}).reverse()},_convertItem:function(e){if(null==e.runDate)return null;if(null===e.passed)return null;var t=e.testPlanRun,a=t.testPlan,r={id:e.id,__type:e.__type,name:a.name,testplan:a,comment:e.comment,testplanrun:{id:t.id,__type:t.__type,name:t.name,url:this.config.context.configurator.getUrlBuilder().getNewViewUrl(t.id,t.__type,!0)},release:t.release,iteration:t.iteration,build:t.build,passed:e.passed,runDate:n.format.datetime.short(n.convertToTimezone(e.runDate)),runDateReal:e.runDate,executed:e.executed,status:e.passed===!0?"Passed":e.passed===!1?"Failed":"Skipped"};return r}})});