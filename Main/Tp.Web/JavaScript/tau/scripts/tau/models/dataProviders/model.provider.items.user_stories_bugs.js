define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/models/dataProviders/model.provider.items.user_stories","tau/models/dataProviders/model.provider.items.bugs"],function(a,b,c,d){return b.extend({init:function(a){this.config=a,this.providers=[new c(a)],this.config.context.isPracticeAvailable("Bug Tracking")&&this.providers.push(new d(a))},_convertData:function(a){return a=this._calculateEffortToMaximum(a),this._sortByPriority(a)},fetch:function(b){var c=this,d=function(a){var d=c._convertData(a);b(d)},e=[];a.forEach(c.providers,function(a){e.push(function(b){a.fetch(function(a){b(null,a)})})}),a.parallel(e,function(b,c){var e=a.flatten(c);d(e)})}})})