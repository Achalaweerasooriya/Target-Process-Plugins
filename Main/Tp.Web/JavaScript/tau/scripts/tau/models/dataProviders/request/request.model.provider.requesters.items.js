define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/utils/utils.date"],function(e,t,r){return t.extend({fetch:function(e){this._fetch("requesters","user",null,e)},_convertData:function(t){return t=this._super(t),e.reject(t,function(e){return null!=e.deleteDate})},_createDetailCommand:function(e){var t={};return t[e]=["id","firstName","lastName","deleteDate","email","login","kind"],t},_convertItem:function(e){var t=this.config.context.configurator.getUrlBuilder(),a=this.config.context.configurator.getFeaturesService().isEnabled("tp3.only"),i={id:e.id,firstName:e.firstName,lastName:e.lastName,deleteDate:e.deleteDate,login:e.login,email:e.email,endDate:r.format.date.short(e.endDate),avatar:t.getAvatarUrl(e.id,32),url:a?"user"==e.kind.toLowerCase()?t.getNewViewUrl(e.id,"user",!0):null:t.getUserUrl(e.id,e.kind)};return i}})});