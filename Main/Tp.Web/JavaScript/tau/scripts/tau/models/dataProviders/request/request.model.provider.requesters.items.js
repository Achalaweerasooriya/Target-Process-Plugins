define(["require","Underscore","tau/models/dataProviders/model.provider.items.base","tau/utils/utils.date"],function(e){var t=e("Underscore"),r=e("tau/models/dataProviders/model.provider.items.base"),i=e("tau/utils/utils.date");return r.extend({fetch:function(e){this._fetch("requesters","user",null,e)},_convertData:function(e){return e=this._super(e),t.reject(e,function(e){return null!==e.deleteDate})},_createDetailCommand:function(e){var t={};return t[e]=["id","firstName","lastName","deleteDate","email","login","kind"],t},_convertItem:function(e){var t=this.config.context.configurator.getUrlBuilder();return{id:e.id,firstName:e.firstName,lastName:e.lastName,deleteDate:e.deleteDate,login:e.login,email:e.email,endDate:i.format.date.short(e.endDate),avatar:t.getAvatarUrl(e.id,32),url:this._getUserUrl(e.id,e.kind)}},_getUserUrl:function(e,t){var r=this.config.context.configurator,i=r.getUrlBuilder();if(!r.isBoardEdition)return i.getUserUrl(e,t);var a=(t||"").toLowerCase();return"user"==a||"requester"==a?i.getNewViewUrl(e,t,!0):null}})});