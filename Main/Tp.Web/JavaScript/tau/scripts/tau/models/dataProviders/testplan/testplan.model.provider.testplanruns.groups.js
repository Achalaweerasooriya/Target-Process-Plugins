define(["Underscore","tau/models/dataProviders/model.provider.groups.base","tau/models/dataProviders/strategies/model.provider.groups.strategy.states"],function(_,a,b){return a.extend({init:function(a){this._super(a),this.strategy=new b},fetch:function(a,b,c){var d=_(b).pluck("projectId"),e=this.config.store,f={fields:[{process:["id"]}],list:!0};e.get("projects",f,{scope:this,success:this.onProjects(d,a,c)}).done()},onProjects:function(a,b,c){return function(d){var e=_(d.data).chain().select(function(b){return _(a).include(b.id)}).map(function(a){return a.process.id}).uniq().value(),f=function(a){var b=(a.entityType.name||"").toLowerCase();return b==="testplanrun"&&_(e).include(a.process.id)};return this._fetchState(b,f,c)}},moveToGroup:function(a,b,c,d){var e=this.config.store;return this.strategy.moveToGroup(e,a,b,c,d)},isAvailableForItem:function(a,b,c){return this.strategy.isAvailableForItem(a,b,c)},getCommentRequirements:function(a,b,c){return this.strategy.getCommentRequirements(a,b,c)}})})