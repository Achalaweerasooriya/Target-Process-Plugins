define(["Underscore","tau/models/dataProviders/model.provider.groups.base","tau/models/dataProviders/strategies/model.provider.groups.strategy.states"],function(a,b,c){return b.extend({init:function(a){this._super(a),this.strategy=new c},fetch:function(b,c,d){var e=a(c).pluck("projectId"),f=this.config.store,g={fields:[{process:["id"]}],list:!0};f.get("projects",g,{scope:this,success:this.onProjects(e,b,d)}).done()},onProjects:function(b,c,d){return function(e){var f=a(e.data).chain().select(function(c){return a(b).include(c.id)}).map(function(a){return a.process.id}).uniq().value(),g=function(b){var c=(b.entityType.name||"").toLowerCase();return c==="testplanrun"&&a(f).include(b.process.id)};return this._fetchState(c,g,d)}},moveToGroup:function(a,b,c,d){var e=this.config.store;return this.strategy.moveToGroup(e,a,b,c,d)},isAvailableForItem:function(a,b,c){return this.strategy.isAvailableForItem(a,b,c)},getCommentRequirements:function(a,b,c){return this.strategy.getCommentRequirements(a,b,c)}})})