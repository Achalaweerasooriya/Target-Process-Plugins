define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/models/dataProviders/model.provider.items.bugs","tau/models/dataProviders/model.provider.items.tasks"],function(_,BaseProvider,BugsProvider,TasksProvider){return BaseProvider.extend({init:function(config){this.config=config,this.providers=[new TasksProvider(config)],this.config.context.isPracticeAvailable("Bug Tracking")&&this.providers.push(new BugsProvider(config))},_convertData:function(data){return data=this._calculateEffortToMaximum(data),this._sortByPriority(data)},fetch:function(fnCallback){var self=this,_success=function(data){var result=self._convertData(data);fnCallback(result)},funcs=[];_.forEach(self.providers,function(provider){funcs.push(function(next){provider.fetch(function(items){next(null,items)})})}),_.parallel(funcs,function(err,results){var result=_.flatten(results);_success(result)})}})})