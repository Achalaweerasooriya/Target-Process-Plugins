define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/models/dataProviders/model.provider.items.bugs","tau/models/dataProviders/model.provider.items.tasks"],function(t,i,e,r){return i.extend({init:function(t){this.config=t,this.providers=[new r(t)],this.config.context.isPracticeAvailable("Bug Tracking")&&this.providers.push(new e(t))},_convertData:function(t){return t=this._calculateEffortToMaximum(t),this._sortByPriority(t)},fetch:function(i){var e=this,r=function(t){var r=e._convertData(t);i(r)},o=[];t.forEach(e.providers,function(t){o.push(function(i){t.fetch(function(t){i(null,t)})})}),t.parallel(o,function(i,e){var o=t.flatten(e);r(o)})}})});