define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/models/dataProviders/model.provider.items.user_stories","tau/models/dataProviders/model.provider.items.bugs"],function(_,a,b,c){return a.extend({init:function(a){this.config=a,this.providers=[new b(a)],this.config.context.isPracticeAvailable("Bug Tracking")&&this.providers.push(new c(a))},_convertData:function(a){return a=this._calculateEffortToMaximum(a),this._sortByPriority(a)},fetch:function(a){var b=this,c=function(c){var d=b._convertData(c);a(d)},d=[];_.forEach(b.providers,function(a){d.push(function(b){a.fetch(function(a){b(null,a)})})}),_.parallel(d,function(a,b){var d=_.flatten(b);c(d)})}})})