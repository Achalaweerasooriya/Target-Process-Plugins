define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/utils/utils.date"],function(t,e,r){return e.extend({fetch:function(t){var e=this.config.context.configurator.getFeaturesService().isEnabled("release.crossproject"),r=e?"crossprojectreleases":"releases";this._fetch(r,"release",!1,t)},_createDetailCommand:function(t){var e={};return e[t]=["id","name","tags","startDate","endDate"],e},_convertItem:function(t){var e=r.parse(t.startDate),a=r.parse(t.endDate),s=!1;r.Date.today().between(e,a)&&(s=!0);var n={id:t.id,name:t.name+(s?" (current)":""),__type:t.__type,tags:this._processTags(t),startDate:r.format.date.short(t.startDate),endDate:r.format.date.short(t.endDate),url:this.config.context.configurator.getUrlBuilder().getNewViewUrl(t.id,t.__type,!0)};return n},_convertData:function(t){return t=this._super(t),this._sortByStartDate(t)},_sortByStartDate:function(e){return t.sortBy(e,function(t){return-1*t.startDate})}})});