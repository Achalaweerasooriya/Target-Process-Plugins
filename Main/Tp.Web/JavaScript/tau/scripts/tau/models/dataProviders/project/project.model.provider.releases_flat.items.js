define(["Underscore","tau/models/dataProviders/model.provider.items.base","tau/utils/utils.date"],function(_,BaseProvider,dateUtils){return BaseProvider.extend({fetch:function(fnCallback){this._fetch("releases","release",!1,fnCallback)},_createDetailCommand:function(collectionType){var detailCommand={};return detailCommand[collectionType]=["id","name","tags","startDate","endDate"],detailCommand},_convertItem:function(data){var startDate=dateUtils.parse(data.startDate),endDate=dateUtils.parse(data.endDate),isCurrent=!1;dateUtils.Date.today().between(startDate,endDate)&&(isCurrent=!0);var item={id:data.id,name:data.name+(isCurrent?" (current)":""),__type:data.__type,tags:this._processTags(data),startDate:dateUtils.format.date.short(data.startDate),endDate:dateUtils.format.date.short(data.endDate)};return item},_convertData:function(data){return data=this._super(data),this._sortByStartDate(data)},_sortByStartDate:function(items){return _.sortBy(items,function(item){return-1*item.startDate})}})})