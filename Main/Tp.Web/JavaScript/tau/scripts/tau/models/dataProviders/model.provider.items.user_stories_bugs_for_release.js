define(["Underscore","tau/models/dataProviders/model.provider.items.user_stories_bugs","tau/models/dataProviders/model.provider.items.user_stories","tau/models/dataProviders/model.provider.items.bugs"],function(t,i,e,r){return i.extend({init:function(t){this.config=t,t.additionalFields=["iteration"],this.providers=[new e(t)],this.config.context.isPracticeAvailable("Bug Tracking")&&this.providers.push(new r(t))},_convertData:function(e){return e=i.prototype._convertData.call(this,e),t.forEach(e,function(t){t.visibleEntityState=t.entityState.name}),this._sortByPriority(e)},_sortByState:function(i){return t.forEach(i,function(t){var i=t.entityState;t.stateWeight=i.isInitial?0:i.isFinal?100500:i.numericPriority}),i=t.sortBy(i,function(t){return t.stateWeight})}})});