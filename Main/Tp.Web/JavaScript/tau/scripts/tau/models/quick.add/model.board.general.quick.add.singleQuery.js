define(["Underscore","jQuery","tau/models/quick.add/model.board.general.quick.add"],function(e,t,i){return i.extend({getDataTemplate:function(i,n,o){var a=e.find(o.action,function(e){return e.availableResource.name===n.name});return t.Deferred().resolve({data:a.fieldTemplates}).promise()},getActions:function(t,i,n){var o=t.acid,a=this.getDefinition(o),c=i.context.configurator.getSliceFactory().create({definition:a});c.globalDataTemplates().then(function(t){var a={};a.action=t.data.items,e.isEmpty(a.action)?this.processEmptyAddButtonAction(i,o,n):this.processAddButtonAction(a,c,i,n)}.bind(this))},processAddButtonAction:function(t,i,n,o){var a=e.map(t.action,function(e){return e.availableResource});o.resolve({slice:i,types:this.getProcessedTypes(n,a),action:t.action,viewMode:this.getViewMode(),isGeneralAdd:!0})}})});