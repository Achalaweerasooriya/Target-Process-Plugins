define(["Underscore","tau/models/model.property"],function(_,ModelBase){return ModelBase.extend({getPropertyData:function(propertyField){this.store.get(this.getEntityTypeName(),{id:this.getEntityId(),fields:["id",{team:["id","name","icon"]}]}).done({success:this.onEntityRetrieved,scope:this})},processProperty:function(property){var data={id:property[this.valueField],type:property.__type,name:property[this.displayField]||"No Team",icon:property.icon,url:"#team/"+property[this.valueField],isEditable:this.config.editable};this.fire("dataBind",data)}})})