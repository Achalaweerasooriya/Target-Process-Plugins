define(["Underscore","tau/core/model-base"],function(e,a){var t=a.extend({"bus afterInit":function(a,t){var i=t.config,r=t.config.context.configurator;this.fire("configurator.ready",r),r.getComponentBusRegistry().getByName(i.boardName).done(e.bind(function(e){this.fire("boardBus.ready",e)},this))},"bus boardBus.ready":function(a,t){var i=e.bind(this.fire,this),r=function(e){return function(a){i(e||a.name,a.data)}};t.removeAllListeners(this),t.on("board.paging.settings",r("pagingData.ready"),this),t.on("board.paging.settings.retrieved",r("pagingData.retrieved"),this),t.on("page.move.to",r("refresh"),this),t.fire("board.paging.settings.retrieve",{})},"bus pagingData.retrieved":function(e,a){var t=this._calculatePaging(a);this.fire("dataBind",t),this.fire("paging.ready",t)},"bus paging.ready:last + pagingData.ready":function(e,a,t){var i=this._calculatePaging(t);(a.pagesX!=i.pagesX||a.pagesY!=i.pagesY)&&this.fire("refresh")},"bus boardBus.ready:last+page.switched":function(e,a,t){a.fire("page.switched",t)},"bus boardBus.ready+destroy":function(e,a){a.removeAllListeners(this)},_calculatePaging:function(e){var a={pagesX:e.x.totalPages||1,pagesY:e.y.totalPages||1,current:e.page};return a}});return t});