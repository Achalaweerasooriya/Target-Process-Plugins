define(["Underscore","./model.choice.base"],function(e,t){return t.extend({onInit:function(){var t=this.config,i=this.config.context.entity;this.propertyType=t.listType,this.store.get(t.listType,{fields:["id","name"]}).get(i.entityType.name,{id:i.id,fields:["id",t.listType]}).done({success:e.bind(this.onDataRetrieved,this)})},onDataRetrieved:function(t){var i=t[0].data,n=this.config.data,d={states:e.reject(i,function(e){return n&&e.id===n.id}),completed:!0};this.fire("dataBind",d)}})});