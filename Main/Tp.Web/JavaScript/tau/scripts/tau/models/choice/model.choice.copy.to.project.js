define(["tau/models/choice/model.choice.project","tau/utils/utils.serverErrorTranslator"],function(e,t){return e.extend({init:function(e){this._super(e,!0)},handleSave:function(e,t){var i=e.$set||e,a=i.project.id,n=t.id,r=this.config.context.configurator,o=r.getActionsService();this.fire("beforeSave",e.additionalData),o.copyGeneralToProject(n,a,this._saveCompleted.bind(this,e.additionalData),this._saveFailed.bind(this,e.additionalData))},_saveCompleted:function(e,t){var i=t.d,a=i.EntityTypeName.split("."),n=a[a.length-1],r={entityId:i.GeneralID,entityType:n,selectedProjectData:e};this.fire("afterSave",r)},_saveFailed:function(e,i){var a=t.translateXhrError(i);a.data=e,this.fire("saveFailed",a)}})});