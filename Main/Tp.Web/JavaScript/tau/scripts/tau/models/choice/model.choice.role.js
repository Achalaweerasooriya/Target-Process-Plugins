define(["Underscore","./model.choice.base"],function(e,t){return t.extend({onInit:function(){var t=this,i=this.config,n=this.config.context.entity;this.propertyType=i.listType,t.store.get("role",{fields:["id","name"]}).get(n.entityType.name,{id:n.id,fields:["id",{role:["id","name"]}]}).done({success:e.bind(t.onDataRetrieved,t)})},onDataRetrieved:function(t){var i=t[0].data,n=this.config.data,d={states:e.reject(i,function(e){return n&&e.id===n.id}),completed:!0};this.fire("dataBind",d)}})});