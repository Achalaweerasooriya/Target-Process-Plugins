define(["Underscore","tau/core/model.editable.base"],function(_,ModelBase){var Model=ModelBase.extend({name:"model.list.editable",category:"edit","bus dataBind":function(){this.bus.fire("permissionsReady",{editable:!0,deletable:!0})},"bus positionUpdated":function(e){var data=e.data,self=this,item=data.item,store=this.config.store,actions=[];data.isCollapsed==0&&actions.push(function(next){var provider=new self.config.itemsDataProvider(self.config);provider.changePriority(data.item,data.prev,data.next,function(result){next(null,result)})}),data.group&&actions.push(function(next){var provider=new self.config.groupsDataProvider(self.config);provider.moveToGroup(data.item,data.group,data.prevGroup,function(result){next(null,result)})}),data.isCollapsed==1?(self.fire("beforeUpdate"),self.fire("showOverlay"),_.parallel(actions,function(){self.fire("refresh")})):(self.fire("beforeUpdate"),_.parallel(actions,function(err,results){var changed={};_.forEach(results,function(result){result&&_.extend(changed,result.changed||{})}),self.fire("afterUpdate",{changedItem:changed})}))}});return Model})