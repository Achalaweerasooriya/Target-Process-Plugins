define(["tau/core/model.editable.base","tau/utils/utils.htmlConverter","tau/utils/utils.jsonSchema"],function(ModelBase,htmlConverter,jsonSchema){var editableModel=ModelBase.extend({category:"edit",name:"Editable description",schema:jsonSchema.Schema.create({type:"object",properties:{description:{optional:!0,empty:!0,type:"string"}}}),"bus dataBind":function(){this.bus.fire("permissionsReady",{editable:!0,deletable:!0})},"bus beforeSave":function(evtData){var item=evtData.data.cmd.$set;item.description=htmlConverter.fromHtmlToSource(item.description)},"bus validate":function(evt){var args=evt.data,data=args.cmd.$set;args.validation=this.schema.validate(data)}});return editableModel})