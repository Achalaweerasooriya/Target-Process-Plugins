define(["Underscore","tau/core/model-base"],function(_,ModelBase){var model=ModelBase.extend({"bus loadMore+commandNextPage":function(evt){var self=this,cmd=evt.commandNextPage.data;self.config.store.find(cmd.type,cmd.config,{success:function(r){self.fire("commandExecuted",r),self.fire("nextDataPortionRetrieved",r)}}).done()},"bus commandExecuted":function(evt){var r=evt.data,self=this;if(r.data.isNextPageAvailable()){self.fire("commandNextPage",r.data.getNextPageCommand());return}self.fire("allDataLoaded")},onInit:function(){var self=this,fields=["id","name",{project:["id","name"]},{entityState:["id","name"]}];self.config.store.find("assignable",{$query:{entityState:{isFinal:0},entityType:{name:{$in:["bug","userStory"]}}},$limit:50,fields:fields},{success:function(r){self.fire("commandExecuted",r),self.fire("dataBind",{data:{items:r.data}})}}).done()}});return model})