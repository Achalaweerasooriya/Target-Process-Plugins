define(["jQuery"],function(e){return{resolveSearchToken:function(t,n){var r=e.Deferred();return/^\d+$/.test(t)?(t=parseInt(t,10),n.getStore().get("general",{failureGlobal:!1,id:t,fields:["id",{entityType:["id","name"]}],errorHandler:function(e){var t=e.status,n=404==t||400==t;return!n}}).done({success:function(e){var t=e[0].data,i=n.getStore();"project"===t.entityType.name.toLowerCase()?i.get("project",{id:t.id,fields:["id","name"]}).done({success:function(){r.resolve({id:t.id,entity:t.entityType.name})},failure:function(){r.resolve({id:null,entity:"search"})}}):r.resolve({id:t.id,entity:t.entityType.name})},failure:function(){r.resolve({id:null,entity:"search"})}})):/^(?:\*\d+\*|\*\d+|\d+\*)$/.test(t)||t.length>2?r.resolve({id:null,entity:"search"}):r.reject("Enter more than 2 chars"),r}}});