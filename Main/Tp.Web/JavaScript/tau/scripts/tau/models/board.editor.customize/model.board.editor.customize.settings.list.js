define(["Underscore","jQuery","tau/models/board.editor.customize/model.board.editor.customize.settings","tau/models/board.customize.units/const.card.sizes"],function(t,e,i){return i.extend({_getLayout:function(e,i,n){e.getLayoutFactory().then(function(e){var o=t.flatten(t.toArray(e(i))),u=t.chain(o).uniq(function(t){return t.id}).value();this.fire("layout.changed",{cardLayout:u,isDefaultSettings:!o||o.isDefault,types:i,size:n})}.bind(this))}})});