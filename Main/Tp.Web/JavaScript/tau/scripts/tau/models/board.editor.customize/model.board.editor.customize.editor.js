define(["Underscore","tau/core/extension.base"],function(e,n){return n.extend({"bus beforeInit":function(){this.fire("dataBind",{})},"bus configurator.ready:last + layout.changed":function(e,n,t){this.refreshLayout(n,t)},refreshLayout:function(n,t){t.configurator=n,t.cardLayout=e.map(t.cardLayout,function(n){return e.map(n,function(n){var t=e.clone(n.unit);return t.settings={classes:["dnd_source","maximized"],isDesignMode:!0,metaData:{id:n.id,title:t.name,alignment:n.alignment}},n.unit=t,n})}),this.fire("refreshData",t)}})});