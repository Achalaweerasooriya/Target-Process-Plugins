define(["require","Underscore","tau/const/entityType.names","tau/models/board.customize.units/const.card.sizes","tau/models/board.customize.units/const.sorting.applying","tau/models/board.customize.units/board.customize.units.base","app.path","tau/utils/utils.date","tau/const/testCaseRun.status","./board.customize.units.interaction","tau/services/entities/service.entity.delete","tau/components/panel.testPlan.run/helper/testPlan.run.helper","tau/services/service.features","tau/const/linkedGeneral.entityType.names"],function(t){var e=t("Underscore"),a=t("tau/const/entityType.names"),s=t("tau/models/board.customize.units/const.card.sizes"),i=t("tau/models/board.customize.units/const.sorting.applying"),n=t("tau/models/board.customize.units/board.customize.units.base"),d=t("app.path"),l=t("tau/utils/utils.date"),o=t("tau/const/testCaseRun.status"),r=t("./board.customize.units.interaction"),u=t("tau/services/entities/service.entity.delete"),m=t("tau/components/panel.testPlan.run/helper/testPlan.run.helper"),_=new(t("tau/services/service.features")),c=t("tau/const/linkedGeneral.entityType.names"),p=r.openUnitEditor.bind(r),y=[s.XS,s.S,s.M,s.L,s.XL],f=[s.XS,s.S,s.M,s.L,s.XL,s.LIST],S={daysOrHoursValue:function(t,e){return this.precise_round(1>t?24*t:t,e||1)},daysOrHoursUnit:function(t){return 1>t?"h":"d"}},T=function(t){return['<div class="tau-board-unit__value_type_day"><%=fn.formatDayShort(this.data.{{DATE}})%></div>','<div class="tau-board-unit__value_type_month"><%=fn.formatDate(this.data.{{DATE}}, "MMM")%></div>','<div class="tau-board-unit__value_type_year"><%=fn.formatDate(this.data.{{DATE}}, "yyyy")%></div>'].join("").replace(new RegExp("{{DATE}}","g"),t)},E=function(t){var e=t.startRunDate&&0!=(t.passedCount|t.failedCount)&&0==(t.notRunCount|t.onHoldCount|t.blockedCount);return t.entityState&&!t.entityState.isFinal&&!e},h=function(t){var e=0!=(t.passedCount|t.failedCount|t.onHoldCount|t.blockedCount);return t.startRunDate&&e?"Continue":"Run"},v=['<div class="tau-board-unit_type_date-range__start-date <% if (this.data.isCurrent) { %>tau-date-range_current<%}%>">',"<% if (this.data.startDate) {%>",'<div class="tau-board-unit__value_type_day"><%= fn.formatDayShort(this.data.startDate)%></div>','<div class="tau-board-unit__value_type_month"><%= fn.formatDate(this.data.startDate, "MMM")%></div>',"<% } else {%>",'<div class="tau-board-unit__value_type_unknown">not set</div>',"<%}%>","</div>",'<div class="tau-board-unit_type_date-range__end-date <%if (this.data.isCurrent) {%>tau-date-range_current<%}%>">',"<% if(this.data.endDate) {%>",'<div class="tau-board-unit__value_type_day"><%= fn.formatDayShort(this.data.endDate)%></div>','<div class="tau-board-unit__value_type_month"><%= fn.formatDate(this.data.endDate, "MMM")%></div>',"<% } else {%>",'<div class="tau-board-unit__value_type_unknown">not set</div>',"<%}%>","</div>"],R=['<div class="tau-board-unit_type_date-range__start-date tau-board-tcr_run_date">',"<% if (this.data.startRunDate) {%>",'<div class="tau-board-unit__value"><%= fn.formatDate(this.data.startRunDate, "d MMM HH:mm")%></div>',"<% } else {%>",'<div class="tau-board-unit__value_type_unknown">&hellip;</div>',"<%}%>","</div>",'<div class="tau-board-unit_type_date-range__end-date">',"<% if(this.data.endRunDate) {%>",'<div class="tau-board-unit__value"><%= fn.formatDate(this.data.endRunDate, "d MMM HH:mm")%></div>',"<% } else {%>",'<div class="tau-board-unit__value_type_unknown">&hellip;</div>',"<%}%>","</div>"],b=['<div class="tau-board-unit_type_date-range__start-date <% if (this.data.isActive) { %>tau-date-range_current<%}%>">',"<% if (this.data.startDate) {%>",'<div class="tau-board-unit__value_type_day"><%= fn.formatDate(this.data.startDate, "dd") %></div>','<div class="tau-board-unit__value_type_month"><%=fn.formatDate(this.data.startDate, "MMM")%></div>','<div class="tau-board-unit__value_type_year"><%=fn.formatDate(this.data.startDate, "yyyy")%></div>',"<% } else {%>",'<div class="tau-board-unit__value_type_unknown">not set</div>',"<%}%>","</div>",'<div class="tau-board-unit_type_date-range__end-date <% if (this.data.isActive) { %>tau-date-range_current<%}%>">',"<% if (this.data.endDate) {%>",'<div class="tau-board-unit__value_type_day"><%= fn.formatDate(this.data.endDate, "dd")%></div>','<div class="tau-board-unit__value_type_month"><%=fn.formatDate(this.data.endDate, "MMM")%></div>','<div class="tau-board-unit__value_type_year"><%=fn.formatDate(this.data.endDate, "yyyy")%></div>',"<% } else {%>",'<div class="tau-board-unit__value_type_unknown">not set</div>',"<%}%>","</div>"],D=n.createUnitValueWrapperTemplate.bind(n),I=function(t){return d.get()+t
},g=function(t){return o.getName(t)},C=function(t){var e,a="tau-icon_name_status-";return e=o.isFailed(t)?"failed":o.isPassed(t)?"passed":o.isBlocked(t)?"blocked":o.isOnHold(t)?"onhold":"skipped",a+e},N=function(t){return t=t.toLowerCase().replace("milestone",""),"tau-timeline-milestone--"+t},L={customFunctions:{REQUEST_SOURCE_MAP:{phone:{icon:"phone",text:"Phone call",title:"Phone call"},email:{icon:"email",text:"Email",title:"Email"},mail:{icon:"email",text:"Mail",title:"Mail"},internal:{icon:"rect-in",text:"Internal source",title:"Internal"},external:{icon:"rect-out",text:"External source",title:"External"},unknownSource:{icon:"undefined",text:"",title:""}},_getRequestSourceInfo:function(t){return this.REQUEST_SOURCE_MAP[t.toLowerCase()]||this.REQUEST_SOURCE_MAP.unknownSource},sourceToIcon:function(t){return this._getRequestSourceInfo(t).icon},sourceToText:function(t){return this._getRequestSourceInfo(t).text},sourceToTitle:function(t){return this._getRequestSourceInfo(t).title}},markup:['<i class="tau-icon tau-icon_type_svg tau-icon_name_<%= fn.sourceToIcon(this.data.sourceType) %>"></i>']},A=[{id:"general_entity_id",classId:"tau-board-unit_type_id",name:"Id",header:"ID",rank:100,settings:[{types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_CASE,a.IMPEDIMENT,a.TEAM,a.PROJECT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.RESPONSIBLE_TEAM,a.BUILD,a.PROGRAM,a.TEST_CASE_RUN],sizes:[s.XS,s.S,s.M,s.L,s.XL,s.LIST]},{types:[a.GENERAL,a.INBOUND_RELATIONS,a.OUTBOUND_RELATIONS],sizes:[s.LIST]}],template:['<div class="tau-board-unit__value">','<%= fn.generateEntityLink(this, this.data, this.data.entityType.name, { className: "" }) %>',"</div>"],sampleData:{id:193011,entityType:{name:"userstory"}},listSettings:{title:'<%= fn.term(this.data.entityType.name, "name") + " #" + this.data.id %>'}},{id:"user_entity_id",classId:"tau-board-unit_type_id",name:"Id",header:"ID",settings:[{types:[a.USER,a.ASSIGNED_USER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:'id,type:"user"'},{types:[a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:'id,type:"requester"'}],template:['<div class="tau-board-unit__value">','<%= fn.generateEntityLink(this, this.data, this.data.type, { className: "" }) %>',"</div>"],sampleData:{id:193011},listSettings:{title:'<%= fn.term(this.type, "name") + " #" + this.data.id %>'}},{id:"entity_name_1line",classId:"tau-board-unit_type_entity-name",name:"Name",settings:[{types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_CASE,a.IMPEDIMENT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.BUILD,a.PROGRAM],sizes:[s.M,s.L,s.XL,s.LIST]},{types:[a.GENERAL,a.INBOUND_RELATIONS,a.OUTBOUND_RELATIONS],sizes:[s.LIST]}],sections:1,rank:101,isNameUnit:!0,template:['<div class="tau-board-unit__value tau-name i-role-name"><%!this.data.name%></div>'],sampleData:{name:"Chances are you'll remember information printed in a font like this one better than information presented in a font like this, because less legible fonts make you concentrate harder."},interactionConfig:{isEditable:!0,handler:p("title",{template:{name:"title.simple"}})}},{id:"testitem_name_1line",classId:"tau-board-unit_type_entity-name",name:"Name",settings:[{types:[a.TEST_CASE],sizes:[s.LIST],model:"name"},{types:[a.TEST_PLAN],sizes:[s.LIST],model:"name,linkedEntityType:linkedGeneral.entityType"}],hidden:!0,sections:1,rank:101,isNameUnit:!0,template:['<div class="tau-board-unit__value tau-name i-role-name">',"<% if (this.data.linkedEntityType) { %>",'<span class="tau-linked-entity-type tau-entity-icon tau-entity-icon--<%=this.data.linkedEntityType.name.toLowerCase()%>">','<%=fn.term(this.data.linkedEntityType.name, "iconSmall")%>',"</span>","<% } %>","<%!this.data.name%>","</div>"],sampleData:{name:"Chances are you'll remember information printed in a font like this one better than information presented in a font like this, because less legible fonts make you concentrate harder."},interactionConfig:{isEditable:!0,handler:p("title",{template:{name:"title.simple"}})}},{id:"entity_name_small_sizes",classId:"tau-board-unit_type_entity-name-extended-small",name:"Name",types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_CASE,a.IMPEDIMENT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.BUILD,a.PROGRAM],sizes:y,sections:1,isStretchable:!1,template:['<div class="tau-board-unit__value tau-name i-role-name"><%!this.data.name%></div>'],sampleData:{name:"Chances are you'll remember information printed in a font like this one better than information presented in a font like this, because less legible fonts make you concentrate harder."}},{id:"entity_name_3lines",classId:"tau-board-unit_type_entity-name-extended",name:"Name",types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_CASE,a.IMPEDIMENT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.BUILD,a.PROGRAM],sizes:[s.S,s.M,s.L,s.XL],sections:2,template:['<div class="tau-board-unit__value tau-name i-role-name"><%!this.data.name%></div>'],sampleData:{name:"Chances are you'll remember information printed in a font like this one better than information presented in a font like this"}},{id:"entity_name_5lines",classId:"tau-board-unit_type_entity-name-extended-plus",name:"Name",types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_CASE,a.IMPEDIMENT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.BUILD,a.PROGRAM],sizes:[s.M],sections:3,template:['<div class="tau-board-unit__value tau-name i-role-name"><%!this.data.name%></div>'],sampleData:{name:"Chances are you'll remember information printed in a font like this one better than information presented in a font like this. Cras tristique at lacus pretium rutrum. Sed suscipit aliquam diam, nec feugiat quam pharetra ac. Suspendisse vel neque laoreet"}},{id:"team_project_name_short",classId:"tau-board-unit_type_entity-name",name:"Name",types:[a.TEAM,a.PROJECT,a.RESPONSIBLE_TEAM],sizes:[s.XS,s.M,s.L,s.XL],template:['<div class="tau-board-unit__value tau-name i-role-name"><%!fn.trim(this.data.name,15)%></div>'],sampleData:{name:"Custom Graphic Reports"},interactionConfig:{isEditable:!0,handler:p("title",{template:{name:"title.simple"}})}},{id:"team_project_name_long",classId:"tau-board-unit_type_entity-name",name:"Name",types:[a.RESPONSIBLE_TEAM,a.TEAM,a.PROJECT],sizes:[s.XS,s.S,s.M,s.L,s.XL,s.LIST],sections:1,rank:101,isNameUnit:!0,template:['<div class="tau-board-unit__value tau-name i-role-name"><%!this.data.name%></div>'],sampleData:{name:"Custom Graphic Reports"},interactionConfig:{isEditable:!0,handler:p("title",{template:{name:"title.simple"}})}},{id:"user_name",classId:"tau-board-unit_type_user-name",name:"Full name",header:"Full Name",isNameUnit:!0,settings:[{types:[a.USER,a.ASSIGNED_USER,a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:"firstName,lastName,email",sortConfig:{field:"lastName,firstName,email"}},{types:[a.PROJECT_MEMBER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:"user.firstName,user.lastName,user.email",sortConfig:{field:"user.lastName,user.firstName,user.email"}}],template:['<div class="tau-board-unit__value tau-name i-role-name">','<%! (this.data.firstName && this.data.lastName || this.data.empty)? [this.data.firstName, this.data.lastName].join(" ") : this.data.email %></div>'],sampleData:{firstName:"Uladzimir",lastName:"Karatkievich",email:"u.karatkievich@writer.com"}},{id:"effort_spent_total",classId:"tau-board-unit_type_effort-todo-total",name:"Todo/total effort",header:"Effort",types:[a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_PLAN_RUN,a.FEATURE,a.EPIC],sizes:f,sortConfig:{allowed:i.NONE},template:['<div class="tau-board-unit__value-todo"><%=fn.precise_round(this.data.effortToDo||0,1)%></div>','<div class="tau-board-unit__value-total"><%=fn.precise_round(this.data.effort||0,1)%></div>','<div class="tau-board-unit__points"><%=this.data.units%></div>'],sampleData:{effortToDo:20.5,effort:55.5,units:"pt"},listSettings:{title:["<%= fn.precise_round(this.data.effortToDo || 0, 1) %>"," / ","<%= fn.precise_round(this.data.effort || 0, 1) %><%= this.data.units %>"]}},{id:"effort_total",classId:"tau-board-unit_type_effort-total",name:"Total effort",header:"Effort",types:[a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_PLAN_RUN,a.FEATURE,a.EPIC],sizes:f,template:['<div class="tau-board-unit__value"><%=fn.precise_round(this.data.effort||0,1)%></div>','<div class="tau-board-unit__points"><%=this.data.units%></div>'],sampleData:{effort:10.5,units:"pt"},interactionConfig:{isEditable:function(t){return"feature"!==t.type&&"epic"!==t.type
},handler:p("effort")}},{id:"initial_estimate",classId:"tau-board-unit_type_effort-total",name:"Initial estimate",header:"Estimate",types:[a.STORY,a.FEATURE,a.EPIC],sizes:f,template:['<div class="tau-board-unit__value"><%=fn.precise_round(this.data.initialEstimate||0,1)%></div>','<div class="tau-board-unit__points"><%=this.data.units%></div>'],sampleData:{initialEstimate:18.3,units:"pt"}},{id:"create_date",classId:"tau-board-unit_type_date tau-board-unit_type_creation-date",hideIf:function(t){return!t.createDate},name:"Created",settings:[{types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_CASE,a.IMPEDIMENT,a.TEAM,a.PROJECT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.RESPONSIBLE_TEAM,a.BUILD],sizes:f},{types:[a.USER,a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL,s.LIST]}],template:D(T("createDate")),sampleData:{createDate:"/Date(1385350733000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.createDate, "dd MMM yyyy")%>'}},{id:"last_login_date",classId:"tau-board-unit_type_time-last-login",name:"Last login",header:"Last Login",settings:[{types:[a.USER],sizes:[s.M,s.L,s.XL,s.LIST]}],template:['<div class="tau-board-unit__value">',"<% if (this.data.lastLoginDate) { %>",T("lastLoginDate"),"<% } else { %>",'<span class="tau-board-unit_type_time-last-login-never">unknown</span>',"<% } %>","</div>"],sampleData:{lastLoginDate:"/Date(1385350733000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.lastLoginDate, "dd MMM yyyy")%>'}},{id:"start_date",classId:"tau-board-unit_type_date tau-board-unit_type_start-date",hideIf:function(t){return!t.startDate},name:"Started",types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.IMPEDIMENT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.PROJECT,a.PROGRAM],sizes:f,template:D(T("startDate")),sampleData:{startDate:"/Date(1385360733000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.startDate, "dd MMM yyyy")%>'}},{id:"dates",classId:"tau-board-unit_type_date-range",hideIf:function(t){return!t.startDate&&!t.endDate
},name:"Started — Finished",sortConfig:{allowed:i.NONE},types:[a.ITERATION,a.TEAM_ITERATION,a.RELEASE],sizes:f,template:D(v),listSettings:{title:["<% if (this.data.startDate || this.data.endDate) { %>",'<%= this.data.startDate ? fn.formatDate(this.data.startDate, "dd MMM") : "..."%>'," — ",'<%= this.data.endDate ? fn.formatDate(this.data.endDate, "dd MMM") : "..."%>',"<% } %>"]},sampleData:{startDate:"/Date(1385360733000-0500)/",endDate:"/Date(1305360733000-0500)/",isCurrent:!1}},{id:"pm_dates",classId:"tau-board-unit_type_date-range",hideIf:function(t){return!t.startDate&&!t.endDate},name:"Started — Finished",sortConfig:{allowed:i.NONE},types:[a.PROJECT_MEMBER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:D(b),sampleData:{startDate:"/Date(1305360733000-0500)/",endDate:"/Date(1385360733000-0500)/"},model:"startDate:membershipStartDate,endDate:membershipEndDate",listSettings:{title:['<%= fn.cond(this.data.startDate, fn.formatDate(this.data.startDate, "dd MMM yyyy"), "not set") %>'," — ",'<%= fn.cond(this.data.endDate, fn.formatDate(this.data.endDate, "dd MMM yyyy"), "not set") %>']}},{id:"long_dates",classId:"tau-board-unit_type_date-range",hideIf:function(t){return!t.startDate&&!t.endDate},name:"Started — Finished",types:[a.PROJECT,a.PROGRAM],sizes:[s.XS,s.S,s.M,s.L,s.XL,s.LIST],sortConfig:{allowed:i.NONE},template:D(b),sampleData:{startDate:"/Date(1305360733000-0500)/",endDate:"/Date(1385360733000-0500)/"},listSettings:{title:['<%= fn.cond(this.data.startDate, fn.formatDate(this.data.startDate, "dd MMM yyyy"), "not set") %>'," — ",'<%= fn.cond(this.data.endDate, fn.formatDate(this.data.endDate, "dd MMM yyyy"), "not set") %>']}},{id:"end_date",classId:"tau-board-unit_type_date tau-board-unit_type_end-date",hideIf:function(t){return!t.endDate},name:"Finished",types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.IMPEDIMENT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN_RUN,a.PROJECT,a.PROGRAM],sizes:f,template:D(T("endDate")),sampleData:{endDate:"/Date(1305360733000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.endDate, "dd MMM yyyy")%>'}},{id:"build_date",classId:"tau-board-unit_type_date tau-board-unit_type_build-date",name:"${Build,capital} date",header:"${Build,camel} Date",types:[a.BUILD],sizes:f,template:D(['<div class="tau-board-unit_type_build-date__date">',T("buildDate"),"</div>",'<div class="tau-board-unit_type_build-date__time">','<div class="tau-board-unit__value_type_hours"><%=fn.formatDate(this.data.buildDate, "HH")%></div>','<div class="tau-board-unit__value_type_minutes"><%=fn.formatDate(this.data.buildDate, "mm")%></div>',"</div>"]),sampleData:{buildDate:"/Date(1305360733000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.buildDate, "dd MMM yyyy HH:mm")%>'}},{id:"cycle_time",classId:"tau-board-unit_type_time-cycle",name:"Cycle time",header:"Cycle Time",types:[a.STORY,a.BUG,a.TASK,a.TEST_PLAN_RUN,a.FEATURE,a.EPIC],sizes:f,sortConfig:{allowed:i.NONE},template:{customFunctions:S,markup:['<div class="tau-board-unit__value"><%=fn._.isUndefined(this.data.cycleTime)?"n/a":fn.daysOrHoursValue(this.data.cycleTime)%></div>','<div class="tau-board-unit__points"><%=fn._.isUndefined(this.data.cycleTime)?"":fn.daysOrHoursUnit(this.data.cycleTime)%></div>']},sampleData:{cycleTime:356.2}},{id:"lead_time",classId:"tau-board-unit_type_time-lead",name:"Lead time",header:"Lead Time",types:[a.STORY,a.BUG,a.TASK,a.TEST_PLAN_RUN,a.FEATURE,a.EPIC],sizes:f,sortConfig:{allowed:i.NONE},template:{customFunctions:S,markup:['<div class="tau-board-unit__value"><%=fn.daysOrHoursValue(this.data.leadTime||0)%></div>','<div class="tau-board-unit__points"><%=fn.daysOrHoursUnit(this.data.leadTime||0)%></div>']},sampleData:{leadTime:324.85}},{id:"time_spent_remain",name:"Time spent/time remaining",header:"Time",classId:"tau-board-unit_type_time-remain-spent",types:[a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_PLAN_RUN,a.FEATURE,a.EPIC],sizes:f,sortConfig:{allowed:i.NONE},template:D(['<div class="tau-board-unit__value-spent"><%=fn.formatTime(this.data.timeSpent,1)%></div>','<div class="tau-board-unit__value-remain"><%=fn.formatTime(this.data.timeRemain,1)%></div>']),listSettings:{title:["Spent: <%=fn.formatTime(this.data.timeSpent,1)%>"," / ","remain: <%=fn.formatTime(this.data.timeRemain,1)%>"]},sampleData:{timeSpent:322.47,timeRemain:320.8},model:"timeSpent,timeRemain,practices: project.process.practices",interactionConfig:{isEditable:function(t){return t.type===a.EPIC||t.type===a.FEATURE?!1:t.data.practices&&e.findWhere(t.data.practices.items,{name:"Time Tracking"})
},handler:p("entity.quickAdd",{options:{items:[{entityType:"time",relationName:"times",practices:["Time Tracking"]}]}})}},{id:"t_spent_remain",name:"Time spent/time remaining",header:"Spent/Remaining",classId:"tau-board-unit_type_time-remain-spent",types:[a.TIME],sizes:[s.LIST],sortConfig:{allowed:i.NONE},template:D(['<div class="tau-board-unit__value-spent"><%=fn.formatTime(this.data.spent,2)%></div>','<div class="tau-board-unit__value-remain"><%=fn.formatTime(this.data.remain,2)%></div>']),listSettings:{title:["Spent: <%=fn.formatTime(this.data.spent,2)%>"," / ","remain: <%=fn.formatTime(this.data.remain,2)%>"]},sampleData:{spent:322.47,remain:320.8},interactionConfig:{isEditable:function(t){return"time"===t.type},handler:p("time")}},{id:"tc_last_run_date",classId:"tau-board-unit_type_date tau-board-unit_type_last-run-date",hideIf:function(t){return!t.lastRunDate},name:"Last run",types:[a.TEST_CASE],sizes:y,template:D(T("lastRunDate")),sampleData:{lastRunDate:"/Date(1305360733000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.lastRunDate, "dd MMM yyyy")%>'}},{id:"last_comment_date",classId:"tau-board-unit_type_date tau-board-unit_type_last-comment-date",hideIf:function(t){return!t.lastCommentDate},name:"Last commented",header:"Last Commented",types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_CASE,a.IMPEDIMENT,a.ITERATION,a.TEAM_ITERATION,a.RELEASE,a.TEST_PLAN,a.TEST_PLAN_RUN,a.BUILD],sizes:f,template:D(T("lastCommentDate")),sampleData:{lastCommentDate:"/Date(1335360733000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.lastCommentDate, "dd MMM yyyy")%>'}},{id:"project_project_icon",classId:"tau-board-unit_type_icon",hideIf:function(t){return!t.color},name:"Project color",header:"Color",types:[a.PROJECT],sizes:f,sortConfig:{allowed:i.NONE},template:['<i class="tau-icon tau-icon_type_color" style="background-color:<%=this.data.color||\'transparent\'%>;"></i>'],sampleData:{color:"#f9d9d1",name:"CodeGuard 3"},listSettings:{title:"<%= this.data.name %>"}},{id:"project_project_abbr",classId:"tau-board-unit_type_project_abbr",name:"Abbreviation",header:"Abbr.",types:[a.PROJECT],sizes:f,sortConfig:{field:"abbreviation"},template:['<div class="tau-board-unit__value_type_abbr" style="background-color:<%=this.data.color||\'transparent\'%>;"><%!this.data.abbreviation%></div>'],sampleData:{color:"#f9d9d1",abbreviation:"CG3",name:"CodeGuard 3"},listSettings:{title:"<%= this.data.name %>"}},{id:"team_team",classId:"tau-board-unit_type_icon",hideIf:function(t){return!t.icon
},name:"Team icon",header:"Icon",types:[a.TEAM,a.RESPONSIBLE_TEAM],sizes:f,template:['<i class="tau-icon tau-icon_type_svg tau-icon_name_<%= this.data.icon %>"></i>'],sampleData:{icon:"ufo",name:"United Future Organization"},listSettings:{title:"<%! this.data.icon && this.data.name %>"}},{id:"request_private",classId:"tau-board-unit_type_icon",hideIf:function(t){return!t.isPrivate},name:"Private",header:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",settings:[{types:[a.REQUEST,a.IMPEDIMENT],sizes:f}],template:['<i class="tau-icon tau-icon_type_svg tau-icon_name_lock"></i>'],sampleData:{isPrivate:!0},listSettings:{title:"Private"}},{id:"progress_short",classId:"tau-board-unit_type_progress",name:"Progress",types:[a.PROJECT,a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_PLAN_RUN],sizes:y,template:['<div class="tau-board-unit__value"><%= fn.precise_round(this.data.progress * 100, 0) %></div>'],sampleData:{progress:1}},{id:"progress_long",classId:"tau-board-unit_type_progress",name:"Progress",types:[a.PROJECT,a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_PLAN_RUN],sizes:f,sortConfig:{allowed:i.NONE},template:['<div class="tau-progress tau-v-<%= fn.precise_round(this.data.progress * 10, 0) * 10 %>"></div>','<div class="tau-board-unit__value"><%= fn.precise_round(this.data.progress * 100, 0) %></div>'],listSettings:{title:"<%= fn.precise_round(this.data.progress * 100, 0) %>%"},sampleData:{progress:1}},{id:"user_avatar",classId:"tau-board-unit_type_avatar",name:"Avatar",sortConfig:{allowed:i.NONE},settings:[{types:[a.USER,a.ASSIGNED_USER,a.REQUESTER],sizes:f,model:"avatarUri,fullName,email"},{types:[a.PROJECT_MEMBER],sizes:f,model:"user.avatarUri,user.fullName,user.email"}],template:['<div class="tau-avatar"><img src="<%= this.data.avatarUri %>32"></div>'],listSettings:{title:"<%= this.data.fullName || this.data.email %>"},sampleData:{avatarUri:I("/javascript/tau/css/images/icons/user.png?size=")}},{id:"user_email_short",classId:"tau-board-unit_type_user-email",name:"Email",settings:[{types:[a.USER,a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:"email"},{types:[a.PROJECT_MEMBER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:"user.email"}],template:['<div class="tau-board-unit__value tau-board-unit-not-selectable">','<a <% if (!this.settings.isDesignMode) { %>href="mailto:<%! this.data.email %>"<%}%> ><%! fn.trim(this.data.email, 15) %></a>',"</div>"],sampleData:{email:"u.karatkievich@writer.com"}},{id:"user_email_long",classId:"tau-board-unit_type_user-email",name:"Email",settings:[{types:[a.USER,a.ASSIGNED_USER,a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL],model:"email",sortConfig:{field:"email"}},{types:[a.PROJECT_MEMBER],sizes:[s.S,s.M,s.L,s.XL],model:"user.email",sortConfig:{field:"user.email"}},{types:[a.REQUESTER],sizes:[],model:"email",sortConfig:{field:"email"}}],sections:1,template:['<div class="tau-board-unit__value tau-board-unit-not-selectable">','<a <% if (!this.settings.isDesignMode) { %>href="mailto:<%! this.data.email %>"<%}%> ><%! this.data.email %></a>',"</div>"],sampleData:{email:"u.karatkievich@writer.com"}},{id:"user_login",classId:"tau-board-unit_type_user-login",name:"Login",settings:[{types:[a.USER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:"login",sortConfig:{field:"login"}},{types:[a.PROJECT_MEMBER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:"user.login",sortConfig:{field:"user.login"}}],template:['<div class="tau-board-unit__value"><%! fn.trim(this.data.login, 15) %></div>'],sampleData:{login:"uladzimir.karatkievich"}},{id:"requester_phone",classId:"tau-board-unit_type_requester-phone",hideIf:function(t){return!t.phone
},name:"Phone",types:[a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],model:"phone",template:['<div class="tau-board-unit__value"><%! fn.trim(this.data.phone, 20) %></div>'],sampleData:{phone:"877-718-2617"}},{id:"user_login_long",classId:"tau-board-unit_type_user-login",name:"Login",settings:[{types:[a.USER],sizes:[s.S,s.M,s.L,s.XL],model:"login"},{types:[a.PROJECT_MEMBER],sizes:[s.S,s.M,s.L,s.XL],model:"user.login"}],sections:1,template:['<div class="tau-board-unit__value"><%! this.data.login %></div>'],sampleData:{login:"uladzimir.karatkievich"}},{id:"allocation",classId:"tau-board-unit_type_allocation",name:"Allocation",types:[a.USER,a.ASSIGNED_USER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:['<div class="tau-board-unit__value"><%= fn.precise_round(this.data.currentAllocation, 0) %></div>'],sampleData:{currentAllocation:150},listSettings:{title:"<%= fn.precise_round(this.data.currentAllocation, 0) %>%"}},{id:"user_is_active",classId:function(t){return"tau-board-unit_type_status-"+(t&&t.isActive?"active":"inactive")},data:{label:'<%= this.data.isActive ? "Active" : "Inactive" %>'},name:"Active",types:[a.USER,a.ASSIGNED_USER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:[],listSettings:{title:'<%= fn.cond(this.data && this.data.isActive, "Active", "Inactive") %>'},sampleData:{isActive:!0}},{id:"user_observer",classId:"tau-board-unit_type_status-observer",data:{label:"Observer"},hideIf:function(t){return!t.isObserver},name:"Observer",types:[a.USER,a.ASSIGNED_USER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:[],listSettings:{title:'<%= fn.cond(this.data && this.data.isObserver, "Observer", "") %>'},sampleData:{isObserver:!0}},{id:"user_admin",classId:"tau-board-unit_type_status-admin",data:{label:"Admin"},hideIf:function(t){return!t.isAdministrator},name:"Administrator",types:[a.USER,a.ASSIGNED_USER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:[],listSettings:{title:'<%= fn.cond(this.data && this.data.isAdministrator, "Administrator", "") %>'},sampleData:{isAdministrator:!0}},{id:"user_big_details",classId:"tau-board-unit_type_user-info",name:"Large avatar with some details (role, name)",sections:2,settings:[{types:[a.USER,a.ASSIGNED_USER],sizes:[s.S,s.M,s.L,s.XL],model:"avatarUri,fullName,email,role"},{types:[a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL],model:'avatarUri,fullName,email,role:"Requester"'}],sampleData:{fullName:"Uladzimir Karatkievich",email:"u.karatkievich@writer.com",avatarUri:I("/Javascript/tau/css/images/icons/user.png"),role:{name:"Writer"}},template:['<img class="tau-board-unit_type_user-info__avatar" src="<%= this.data.avatarUri %>50">','<div class="tau-board-unit_type_user-info__name">',"<%! _.trim(this.data.fullName) || this.data.email %>","</div>",'<div class="tau-board-unit_type_user-info__role"><%! this.data.role.name %></div>']},{id:"t_user_details",classId:"tau-board-unit_type_user-info tau-board-unit_type_time_user-info",sections:2,name:"User",types:[a.TIME],sizes:[s.LIST],model:"user.avatarUri,user.fullName,user.email,role",template:['<img class="tau-board-unit_type_time_user-info__avatar" src="<%= this.data.avatarUri %>32">',"<div><%! _.trim(this.data.fullName) || this.data.email %></div>","<div><%! this.data.role.name %></div>"],sampleData:{fullName:"Uladzimir Karatkievich",email:"u.karatkievich@writer.com",avatarUri:I("/Javascript/tau/css/images/icons/user.png"),role:{name:"Writer"}}},{id:"request_is_replied",classId:"tau-board-unit_type_icon",hideIf:function(t){return!t.isReplied
},name:"Replied",types:[a.REQUEST],sizes:f,template:['<i class="tau-icon tau-icon_type_svg tau-icon_name_back-arrow"></i>'],listSettings:{title:'<%= fn.cond(this.data && this.data.isReplied, "Replied", "") %>'},sampleData:{isReplied:!0}},{id:"requester_source",classId:"tau-board-unit_type_icon",hideIf:function(t){return!t||!t.sourceType||"none"===t.sourceType.toLowerCase()},name:"Requester source (mail, internal etc.)",header:"",types:[a.REQUESTER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:L,listSettings:{title:"Requester source: <%= fn.sourceToTitle(this.data.sourceType) %>"},sampleData:{sourceType:"email"},model:"sourceType"},{id:"request_email",classId:"tau-board-unit_type_icon",hideIf:function(t){return!t||!t.sourceType||"none"===t.sourceType.toLowerCase()},name:"Request source (email, phone etc.)",header:"Req. Source",types:[a.REQUEST],sizes:f,template:L,listSettings:{title:"Request source: <%= fn.sourceToTitle(this.data.sourceType) %>"},sampleData:{sourceType:"email"}},{id:"tc_note_message_short",classId:"tau-board-unit_type_note-comment",hideIf:function(t){return!t.lastFailureComment},name:"Most recent note",header:"Last Note",types:[a.TEST_CASE],sizes:[s.M,s.L,s.XL,s.LIST],template:['<div class="tau-board-unit__value"><%! fn.trim(this.data.lastFailureComment, 15) %></div>'],sampleData:{lastFailureComment:"The font is not legible at all"}},{id:"tc_note_message_long",classId:"tau-board-unit_type_note-comment",hideIf:function(t){return!t.lastFailureComment},name:"Most recent note",types:[a.TEST_CASE],sizes:y,sections:1,template:['<div class="tau-board-unit__value"><%! this.data.lastFailureComment %></div>'],sampleData:{lastFailureComment:"The font is not legible at all"}},{id:"tc_last_status",classId:"tau-board-unit_type_icon",name:"Last run result",header:"Last Run Result",types:[a.TEST_CASE],sizes:f,model:"lastRunStatus",template:{customFunctions:{getLastRunStatusName:g,getStatusStyle:C},markup:['<i class="tau-icon tau-icon_type_svg <%= fn.getStatusStyle(this.data.lastRunStatus) %>"></i>']},listSettings:{title:["<%= _.capitalize(fn.getLastRunStatusName(this.data.lastRunStatus)) %>"]},sampleData:{lastRunStatus:"Passed"}},{id:"tctp_last_status",classId:"tau-board-unit_type_testcases-detailed-counter tau-board-unit_type_testitems-counter tau-board-unit_type_last_status",hidden:!0,name:"Last run details",header:"Last Run Result",sortConfig:{allowed:i.NONE},settings:[{types:[a.TEST_PLAN],sizes:[s.LIST],model:'entityType,TestCaseStats:{passed:testCases.Count(lastRunStatus == "Passed"),failed:testCases.Count(lastRunStatus == "Failed"),notrun:testCases.Count(lastRunStatus == "NotRun"),onhold:testCases.Count(lastRunStatus == "OnHold"),blocked:testCases.Count(lastRunStatus == "Blocked")}'},{types:[a.TEST_CASE],sizes:[s.LIST],model:"entityType,lastRunStatus"}],template:{customFunctions:{getLastRunStatusName:g,getStatusStyle:C},markup:['<% if(this.data.entityType && this.data.entityType.name.toLowerCase() == "testplan" ) { %>',"<% var testCaseStats = this.data.testCaseStats || {}; %>",'<div class="tau-board-unit__value-passed <% if(!testCaseStats.passed) { %>  tau-board-unit__value--null <% } %>"><%= testCaseStats.passed || "" %></div>','<div class="tau-board-unit__value-failed <% if(!testCaseStats.failed) { %>  tau-board-unit__value--null <% } %>"><%= testCaseStats.failed || "" %></div>','<div class="tau-board-unit__value-notrun <% if(!testCaseStats.notrun) { %> tau-board-unit__value--null <% } %>"><%= testCaseStats.notrun || "" %></div>',"<% if (testCaseStats.onhold || testCaseStats.blocked) { %>",'<div class="tau-board-unit__value-onhold"><%= testCaseStats.onhold || 0 %></div>','<span class="tau-board-unit__separate">/</span>','<div class="tau-board-unit__value-blocked"><%= testCaseStats.blocked || 0 %></div>',"<% } else { %>",'<div class="tau-board-unit__value-onhold"></div>','<span class="tau-board-unit__separate"></span>','<div class="tau-board-unit__value-blocked"></div>',"<% } %>","<%} else { %>",'<i class="tau-icon tau-icon_type_svg <%= fn.getStatusStyle(this.data.lastRunStatus) %>"></i>',"<%}%>"]},listSettings:{title:['<% if(this.data.entityType && this.data.entityType.name.toLowerCase() == "testplan" ) { %>',"<% var testCaseStats = this.data.testCaseStats || {}; %>","<% if (testCaseStats.passed || testCaseStats.failed || testCaseStats.notrun || testCaseStats.onhold || testCaseStats.blocked) { %>","Passed: <%= testCaseStats.passed || 0 %>, ","Failed: <%= testCaseStats.failed || 0 %>, ","Not Run: <%= testCaseStats.notrun || 0 %>, ","On Hold: <%= testCaseStats.onhold || 0 %> / ","Blocked: <%= testCaseStats.blocked || 0 %>","<% } %>","<% } else { %>","<%= _.capitalize(fn.getLastRunStatusName(this.data.lastRunStatus)) %>","<% } %>"]},sampleData:{}},{id:"tcrtpr_last_status",classId:"tau-board-unit_type_testcases-detailed-counter tau-board-unit_type_testitems-counter tau-board-unit_type_last_status",hidden:!0,name:"Run details",header:"Run Result",sortConfig:{allowed:i.NONE},settings:[{types:[a.TEST_PLAN_RUN],sizes:[s.LIST],model:"entityType,TestCaseStats:{passed:PassedCount,failed:FailedCount,notrun:NotRunCount,onhold:OnHoldCount,blocked:BlockedCount}"},{types:[a.TEST_CASE_RUN],sizes:[s.LIST],model:"entityType,status"}],template:{customFunctions:{getStatus:g,getStatusStyle:C},markup:['<% if(this.data.entityType && this.data.entityType.name.toLowerCase() == "testplanrun" ) { %>',"<% var testCaseStats = this.data.testCaseStats || {}; %>",'<div class="tau-board-unit__value-passed <% if(!testCaseStats.passed) { %> tau-board-unit__value--null <% } %>"><%= testCaseStats.passed || "" %></div>','<div class="tau-board-unit__value-failed <% if(!testCaseStats.failed) { %> tau-board-unit__value--null <% } %>"><%= testCaseStats.failed || "" %></div>','<div class="tau-board-unit__value-notrun <% if(!testCaseStats.notrun) { %> tau-board-unit__value--null <% } %>"><%= testCaseStats.notrun || "" %></div>',"<% if (testCaseStats.onhold || testCaseStats.blocked) { %>",'<div class="tau-board-unit__value-onhold"><%= testCaseStats.onhold || 0 %></div>','<span class="tau-board-unit__separate">/</span>','<div class="tau-board-unit__value-blocked"><%= testCaseStats.blocked || 0 %></div>',"<% } %>","<% } else { %>",'<i class="tau-icon tau-icon_type_svg <%= fn.getStatusStyle(this.data.status) %>"></i>',"<% } %>"]},listSettings:{title:['<% if(this.data.entityType && this.data.entityType.name.toLowerCase() == "testplanrun" ) { %>',"<% var testCaseStats = this.data.testCaseStats || {}; %>","<% if (testCaseStats.passed || testCaseStats.failed || testCaseStats.notrun || testCaseStats.onhold || testCaseStats.blocked) { %>","Passed: <%= testCaseStats.passed || 0 %>, ","Failed: <%= testCaseStats.failed || 0 %>, ","Not Run: <%= testCaseStats.notrun || 0 %>, ","On Hold: <%= testCaseStats.onhold || 0 %> / ","Blocked: <%= testCaseStats.blocked || 0 %>","<% } %>","<%} else { %>","<%= fn.getStatus(this.data.status) %>","<% } %>"]},sampleData:{}},{id:"iteration_velocity",classId:"tau-board-velocity",name:"Velocity",types:[a.ITERATION,a.TEAM_ITERATION],sizes:f,template:['<div class="tau-board-unit__value"><%=fn.precise_round(this.data.velocity||0,1)%></div>','<div class="tau-board-unit__points"><%=this.data.units%></div>'],sampleData:{velocity:2853.9,units:"pt"}},{id:"tasks_total",classId:"tau-board-unit_type_effort-total-e",name:"Total tasks effort",header:"Tasks Effort",types:[a.STORY],sizes:f,sortConfig:{allowed:i.NONE},hideIf:function(t){return!t.effort
},template:['<div class="tau-board-unit__label">Tasks</div>','<div class="tau-board-unit__value"><%=fn.precise_round(this.data.effort||0,1)%></div>','<div class="tau-board-unit__points">h</div>'],sampleData:{effort:324.9},model:"effort:tasks.Sum(effort)",listSettings:{title:["<%=fn.precise_round(this.data.effort||0,1)%>h"]}},{id:"tc_last_run_date",classId:"tau-board-tc_last_run_date tau-board-unit_type_date",name:"Last run date",header:"Last Run Date",settings:[{types:[a.TEST_PLAN],model:"lastRun:LastRunDateForTestPlan",sizes:f,sortConfig:{allowed:i.NONE}},{types:[a.TEST_CASE],model:"lastRun:lastRunDate",sizes:f,sortConfig:{field:"lastRunDate"}}].concat(_.isEnabled("linked.test.plan")?[{types:c,sizes:f,model:"lastRun:linkedTestPlan!=null?linkedTestPlan.lastRunDateForTestPlan:null",sortConfig:{allowed:i.NONE}}]:[]),hideIf:function(t){return!t.lastRun},template:D(T("lastRun")),sampleData:{lastRun:"/Date(1363986000000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.lastRun, "dd MMM yyyy")%>'}},{id:"project_is_active",classId:function(t){return"tau-board-unit_type_status-"+(t&&t.isActive?"active":"inactive")},data:{label:'<%= this.data.isActive ? "Active" : "Inactive" %>'},name:"Active",types:[a.PROJECT],sizes:f,template:[],listSettings:{title:'<%= fn.cond(this.data && this.data.isActive, "Active", "Inactive") %>'},sampleData:{isActive:!0}},{id:"percent",classId:"tau-board-unit_type_percent-participating",name:"Percent participating",header:"Percent Participating",hideIf:function(t){return"undefined"==typeof t.allocation},types:[a.PROJECT_MEMBER],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:['<div class="tau-pie-progress tau-v-<%= fn.precise_round(this.data.allocation/10,0)*10 %>"></div> ','<div class="tau-board-unit__value"><%= this.data.allocation %>%</div>'],listSettings:{title:"<%= this.data.allocation %>%"},sampleData:{allocation:33}},{id:"planned_dates",classId:function(t){var e=!0;if(t.startDate||t.endDate){var a=l.getServerNow(),s=new Date(a.getFullYear(),a.getMonth(),a.getDate());
e=!t.startDate||l.convertToTimezone(t.startDate)<=s&&!t.endDate||l.convertToTimezone(t.endDate)>=s}return"tau-board-unit_type_planned_dates"+(e?" tau-board-unit_type_planned_dates-green":"")},hideIf:function(t){return!t.startDate&&!t.endDate},sortConfig:{allowed:i.NONE},data:{startDate:new Date},name:"Planned dates",header:"Planned Dates",types:[a.EPIC,a.FEATURE,a.STORY,a.TASK,a.BUG,a.REQUEST,a.TEST_PLAN,a.TEST_PLAN_RUN,a.IMPEDIMENT],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:D(v),listSettings:{title:["<% if (this.data.startDate || this.data.endDate) { %>",'<%= this.data.startDate ? fn.formatDate(this.data.startDate, "dd MMM") : "..."%>'," — ",'<%= this.data.endDate ? fn.formatDate(this.data.endDate, "dd MMM") : "..."%>',"<% } %>"]},sampleData:{startDate:"/Date(1385360733000-0500)/",endDate:"/Date(1305360733000-0500)/"},model:"startDate:PlannedStartDate,endDate:PlannedEndDate"},{id:"name_unit",classId:"tau-board-unit_type_simple-name",name:"Name",header:"Name",rank:100,isNameUnit:!0,settings:[{types:["tag","severity","requesttype","role","process"],model:"name:name",sizes:[s.LIST],sortConfig:{field:"name"}},{types:["enddate","datetime","createdate","startdate","effort"],model:"name:it.HumanFormat()",sizes:[s.LIST],sortConfig:{field:"name"}},{types:["priority"],model:"name:it.Key",sizes:[s.LIST],sortConfig:{field:"name"}},{types:["entitystate"],model:"name:it.Key.name",sizes:[s.LIST],sortConfig:{field:"name"}},{types:["teamentitystate"],model:"name:it.Key.name",sizes:[s.LIST],sortConfig:{field:"name"}},{types:["source","requestsourceenum"],model:"name:it.ToString()",sizes:[s.LIST],sortConfig:{allowed:i.NONE}},{types:["requestersource","requestersourcetypeenum"],model:"name:it.ToString()",sizes:[s.LIST],sortConfig:{allowed:i.NONE}}],template:['<div class="tau-board-unit__value tau-name i-role-name"><%! this.data.name %></div>'],sampleData:{name:"Open"}},{id:"list_name_unit",classId:"tau-board-unit_type_simple-name",name:"Name",header:"Name",hidden:!0,isNameUnit:!0,settings:[{types:["testplan"],model:"name:name,linkedEntityType:linkedGeneral.entityType",sizes:[s.LIST],sortConfig:{field:"name"}},{types:["testcaserun"],model:"name:name",sizes:[s.LIST],sortConfig:{field:"name"}}],template:['<div class="tau-board-unit__value tau-name i-role-name">',"<% if (this.data.linkedEntityType) { %>",'<span class="tau-linked-entity-type tau-entity-icon tau-entity-icon--<%=this.data.linkedEntityType.name.toLowerCase()%>">','<%=fn.term(this.data.linkedEntityType.name, "iconSmall")%>',"</span>","<% } %>","<%!this.data.name%>","</div>"],sampleData:{name:"Name"}},{id:"tcr_id",classId:"tau-board-unit_type_id",name:"Id",header:"ID",types:[a.TEST_CASE_RUN],sizes:[s.S,s.M,s.L,s.XL,s.LIST],template:['<div class="tau-board-unit__value">','<%= fn.generateEntityLink(this, this.data, "testcaserun", { className: "" }) %>',"</div>"],sampleData:{id:1},listSettings:{title:'<%= "TestCaseRun #" + this.data.id %>'}},{id:"root_tpr_name",classId:"tau-board-unit_type_entity-name",name:"Root Test Plan Run Name",header:"Test Plan Run Name",isNameUnit:!0,hidden:!0,settings:[{types:[a.TEST_CASE_RUN],sizes:[s.LIST],model:"RootTestPlanRun.name"}],sortConfig:{field:"RootTestPlanRun.name"},template:['<div class="tau-board-unit__value"><%! this.data.name %></div>'],sampleData:{name:"Test Plan Run Name"}},{id:"root_tpr_id",classId:"tau-board-unit_type_id",name:"Root Test Plan Run ID",header:"TPR ID",hidden:!0,settings:[{types:[a.TEST_CASE_RUN],sizes:[s.LIST],model:"RootTestPlanRun.id, RootTestPlanRun.entityType"}],sortConfig:{field:"RootTestPlanRun.id"},template:['<div class="tau-board-unit__value">','<%= fn.generateEntityLink(this, this.data, this.data.entityType.name, { className: "" }) %>',"</div>"],sampleData:{id:1},listSettings:{title:'<%= "TestPlanRun #" + this.data.id %>'}},{id:"testitemrun_name",classId:"tau-board-unit_type_entity-name",name:"Name",header:"Name",hidden:!0,isNameUnit:!0,settings:[{types:[a.TEST_CASE_RUN],sizes:f,model:"name,status,entityType"},{types:[a.TEST_PLAN_RUN],sizes:f,model:"name,entityType"}],template:{customFunctions:{getStatus:g,getStatusStyle:C},markup:['<div class="tau-board-unit__value tau-name i-role-name"><%!this.data.name%></div>','<% if(this.data.entityType.name.toLowerCase() == "testcaserun" ) { %>','<i class="tau-icon_type_svg tau-icon-floating-status <%= fn.getStatusStyle(this.data.status) %>"','title="<%= fn.getStatus(this.data.status) %>">',"</i>","<% } %>"]},sampleData:{name:"Test Case Run 1.",passed:!0,entityType:{name:"testcaserun"},status:"Passed"}},{id:"tcrtpr_run_daterange",classId:"tau-board-unit_type_date tau-board-unit_type_tcrdaterange",name:"Start/End Date",header:"Start/End Date",hideIf:function(t){return!(t.endRunDate||t.startRunDate)
},settings:[{types:[a.TEST_CASE_RUN],sizes:[s.LIST],sortConfig:{field:"startRunDate,endRunDate"}},{types:[a.TEST_PLAN_RUN],sizes:[s.LIST],model:"startRunDate:startDate,endRunDate:endDate",sortConfig:{field:"startDate,endDate"}}],template:{markup:R},sampleData:{startRunDate:"/Date(1363986000000-0500)/",endRunDate:"/Date(1363986000000-0500)/"},listSettings:{title:["<% if (this.data.startRunDate || this.data.endRunDate) { %>",'<%= this.data.startRunDate ? fn.formatDate(this.data.startRunDate, "d MMM HH:mm") : "..."%>'," — ",'<%= this.data.endRunDate ? fn.formatDate(this.data.endRunDate, "d MMM HH:mm") : "..."%>',"<% } %>"]}},{id:"tpr_run_action",name:"Run Action",hidden:!0,types:[a.TEST_PLAN_RUN],sizes:[s.LIST],model:"startRunDate:startDate,entityState,passedCount,failedCount,notRunCount,onHoldCount,blockedCount,id",sortConfig:{allowed:i.NONE},template:{customFunctions:{hasRunAction:E,getRunStatus:h},markup:["<% if (fn.hasRunAction(this.data)) {%>",'<button class="tau-btn tau-btn-play" type="button"><%= fn.getRunStatus(this.data)%></button>',"<% } %>"]},sampleData:{startRunDate:"/Date(1363986000000-0500)/",entityState:{isFinal:!0},passedCount:0,failedCount:1,notRunCount:2,onHoldCount:3,blockedCount:4,id:1},listSettings:{title:'<%= fn.hasRunAction(this.data) ? fn.getRunStatus(this.data) : "No Run Action" %>'},interactionConfig:{isEditable:!0,handler:function(t,e){var a=t.cardDataForUnit,s=t.unit.template.customFunctions;if(s.hasRunAction(a)){var i=e.configurator;new m(i.service("navigator"),i.getUrlBuilder()).startRun(a.id)}}}},{id:"entity_state",classId:"tau-board-unit_type_state",name:"State",header:"State",template:['<div class="tau-board-unit__value"><%!this.data.entityState.name%></div>'],interactionConfig:{isEditable:!0,handler:p("choice.entityState")},model:"entityState",settings:[{types:[a.TEST_PLAN_RUN],sizes:[s.LIST],sortConfig:{field:"entityState.name"}},{types:[a.BUG],sizes:[s.LIST],sortConfig:{field:"entityState.name"}}],sampleData:{entityState:{name:"Open"}}},{id:"unit_time",classId:"tau-board-unit_type_date",name:"Spent date",header:"Spent Date",rank:100,isNameUnit:!0,types:[a.TIME],model:"date",sizes:[s.LIST],hideInLibrary:!0,template:D(T("date")),sampleData:{date:"/Date(1363986000000-0500)/"},listSettings:{title:'<%=fn.formatDate(this.data.date, "dd MMM yyyy")%>'},interactionConfig:{isEditable:!0,handler:p("date",{template:{name:"date.simple"}})}},{id:"t_description_1line",classId:"tau-board-unit_type_role",name:"Description",types:[a.TIME],sizes:[s.LIST],template:['<div class="tau-board-unit__value"><%!fn.trim(this.data.description,30)%></div>'],listSettings:{title:"<%= this.data.description %>"},sampleData:{description:"Chances are you'll remember information printed in a font like this one better than information presented in a font like this, because less legible fonts make you concentrate harder."},interactionConfig:{isEditable:!0,handler:p("time.description.edit",{template:{name:"description.simple"}})}},{id:"action_delete",classId:"ui-menu__item-action-delete",name:"Actions",types:[a.TIME,a.FEATURE,a.STORY,a.BUG],sizes:[s.LIST],sortConfig:{allowed:i.NONE},template:['<div class="tau-board-unit__value"><button type="button" class="tau-btn tau-btn-red tau-btn_hidden i-role-actiondelete">Delete</button></div>'],sampleData:{id:193011},interactionConfig:{isEditable:!0,handler:function(t,e){u.showDeleteEntityConfirmation(e.configurator,t.$unit.find(".i-role-actiondelete"),t.$card.data("entityType"),t.$card.data("entityId"))
}}},{id:"name_unit_default",classId:"tau-board-unit_type_simple-name",name:"Name",header:"Name",rank:100,isNameUnit:!0,types:[a.ANY_TYPE],model:"name:it.ToString()",sizes:[s.LIST],hideInLibrary:!0,template:['<div class="tau-board-unit__value"><%! this.data.name %></div>'],sampleData:{name:"Open"}},{id:"milestone_date",classId:"tau-board-unit_type_date",name:"Milestone Date",header:"Date",rank:100,isNameUnit:!1,types:[a.MILESTONE],model:"date:date,color:cssClass",sizes:[s.LIST],hideInLibrary:!0,sortConfig:{field:"date"},template:{customFunctions:{getMilestoneStyle:N},markup:['<div class="tau-board-unit__value tau-timeline-milestone-color <%=fn.getMilestoneStyle(this.data.color)%>"><span class="tau-timeline-milestone-flag <%=fn.getMilestoneStyle(this.data.color)%>"/><%=fn.formatDate(this.data.date, "dd MMM yyyy")%></div>']},sampleData:{date:"/Date(1363986000000-0500)/",color:"milestoneRed"}},{id:"milestone_name",classId:"tau-board-unit_type_simple-name",name:"Milestone Name",header:"Name",rank:100,isNameUnit:!0,types:[a.MILESTONE],model:"name",sizes:[s.LIST],hideInLibrary:!0,sortConfig:{field:"name"},template:['<div class="tau-board-unit__value"><%! this.data.name %></div>'],sampleData:{name:"milestone"}}];return e.each(A,function(t){t.category="simple"}),A});