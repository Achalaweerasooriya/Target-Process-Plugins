define(["Underscore","jQuery","tau/core/model-base"],function(_,$,a){var b=a.extend({onInit:function(){this.config.context.pluginRepository.getPlugins($.proxy(this.onPluginsRetrieved,this))},onPluginsRetrieved:function(a){this.augmentData(a),this.fire("dataBind",{items:a})},augmentData:function(a){_(a).each(function(a){_(a.plugins).each(function(a){a.iconSrc=[this.config.configurator.getApplicationPath(),"/PluginIcon.ashx?pluginName=",a.name].join(""),a.profilesShort=a.profiles.slice(0,3),a.profilesMore=a.profiles.slice(3)},this)},this)}});return b})