define(["Underscore","jQuery","tau/configurator","tau/core/model-base"],function(_,$,a,b){var c=b.extend({onInit:function(){this.config.context.pluginRepository.getPlugins($.proxy(this.onPluginsRetrieved,this))},onPluginsRetrieved:function(a){this.augmentData(a),this.fire("dataBind",{items:a})},augmentData:function(b){_(b).each(function(b){_(b.plugins).each(function(b){b.iconSrc=[a.getApplicationPath(),"/PluginIcon.ashx?pluginName=",b.name].join(""),b.profilesShort=b.profiles.slice(0,3),b.profilesMore=b.profiles.slice(3)},this)},this)}});return c})