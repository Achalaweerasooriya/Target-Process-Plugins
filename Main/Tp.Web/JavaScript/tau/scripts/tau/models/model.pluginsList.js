define(["Underscore","jQuery","tau/core/model-base"],function(_,$,ModelBase){var pluginsListModel=ModelBase.extend({onInit:function(){this.config.context.pluginRepository.getPlugins($.proxy(this.onPluginsRetrieved,this))},onPluginsRetrieved:function(data){this.augmentData(data),this.fire("dataBind",{items:data})},augmentData:function(data){var configurator=this.config.context.configurator;_(data).each(function(category){_(category.plugins).each(function(plugin){plugin.iconSrc=[configurator.getApplicationPath(),"/PluginIcon.ashx?pluginName=",plugin.name].join(""),plugin.profilesShort=plugin.profiles.slice(0,3),plugin.profilesMore=plugin.profiles.slice(3)},this)},this)}});return pluginsListModel})