define(["Underscore","tau/core/model-base"],function(_,ModelBase){var entityListModel=ModelBase.extend({init:function(){this._super.apply(this,arguments)},convertServerDataModelData:function(serverData){return{__type:serverData.__type,id:serverData.id,name:serverData.name,state:{name:serverData.entityState.name}}},"bus registerStoreRequest":function(){var ctx=this.config.context,entityTypeName=ctx.entity.entityType.name,entityId=ctx.entity.id,cmdSettings={fields:["id","name",{entityState:["name"]}],$query:{tags:{$contains:"duplicateOf#"+entityId}}};this.fire("find",{type:entityTypeName,query:cmdSettings,callback:{scope:this,success:this.onDuplicateBugsRetrieved}})},onDuplicateBugsRetrieved:function(result){var items=_.sortBy(result.data,function(item){return item.id}),initData={items:items};this.fire("duplicateBugRetrieved",initData)}});return entityListModel})