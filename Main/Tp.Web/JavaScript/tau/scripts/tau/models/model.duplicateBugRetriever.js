define(["Underscore","tau/core/model-base"],function(e,t){var n=t.extend({init:function(){this._super.apply(this,arguments)},"bus registerStoreRequest":function(){this.config.context.configurator.getStore2().findAll(this._getQuery()).done(function(e){this.onDuplicateBugsRetrieved(e)}.bind(this))},_getQuery:function(){var e=this.config.context,t=e.entity.id,n=e.entity.entityType.name;return n+"?select={id,name,entityState,entityType.name as __type}&where=tagObjects.Count(name="+encodeURIComponent('"duplicateOf#'+t+'"')+")>0&take=9999"},convertServerDataModelData:function(e){return{__type:e.__type,id:e.id,name:e.name,state:{name:e.entityState.name}}},onDuplicateBugsRetrieved:function(t){var n=e.sortBy(t,function(e){return e.id}),i={items:n};this.fire("duplicateBugRetrieved",i)}});return n});