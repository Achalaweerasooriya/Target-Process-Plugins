define(["tau/core/model-base"],function(ModelBase){var initialDataProcessor=function(model){this.model=model};initialDataProcessor.prototype={onGetEntity:function(result){this.entity=result.data},done:function(){var owner=this.entity.owner,data={id:owner.id,avatar:[this.model.config.context.configurator.getApplicationPath(),"/Avatar.ashx?UserId=",owner.id,"&size=32"].join(""),name:[owner.firstName,owner.lastName].join(" ")};this.model.fire("dataBind",data)}};var titleModel=ModelBase.extend({onInit:function(){var self=this,ctx=self.config.context,typeName=ctx.entity.entityType.name,entityId=ctx.entity.id,processor=new initialDataProcessor(self);self.store.get(typeName,{id:entityId,fields:["id",{owner:["firstName","lastName"]}]},{scope:processor,success:processor.onGetEntity}).done({scope:processor,success:processor.done})}});return titleModel})