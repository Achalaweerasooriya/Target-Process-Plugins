define(["Underscore","tau/core/model-base"],function(e,r){return r.extend({"bus registerStoreRequest":function(){var r=this;this.store.get("user",{fields:["id","firstName","lastName","avatarUri","email","isActive","deleteDate",{role:["id","name"]}]}).done({success:function(t){var a=t[0].data,i={},s=[];a=e.filter(a,function(e){return null===e.deleteDate}),e.forEach(a,function(r){var t=r.role;t&&(i[t.id]=t),r.name=e.trim([r.firstName,r.lastName].join(" "))||r.email,s.push({user:r,role:t})}),r.fire("projectMembersReady",s),r.fire("projectRolesReady",e.values(i))}})}})});