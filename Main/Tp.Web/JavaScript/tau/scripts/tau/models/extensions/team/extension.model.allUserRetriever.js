define(["Underscore","tau/core/model-base"],function(_,EditableBase){return EditableBase.extend({"bus registerStoreRequest":function(){var self=this;this.store.get("user",{fields:["id","firstName","lastName","email","isActive","deleteDate",{role:["id","name"]}]}).done({success:function(data){var users=data[0].data,roles={},members=[];users=_.filter(users,function(user){return user.deleteDate===null}),_.forEach(users,function(user){var role=user.role;role&&(roles[role.id]=role),user.name=_.trim([user.firstName,user.lastName].join(" "))||user.email,members.push({user:user,role:role})}),self.fire("projectMembersReady",members),self.fire("projectRolesReady",_.values(roles))}})}})})