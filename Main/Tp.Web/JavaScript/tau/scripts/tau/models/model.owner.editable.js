define(["tau/core/model.editable.base","libs/underscore"],function(a){var b=a.extend({name:"Owner Editable",onInit:function(){var a=this,b=function(){a.onEntityAfterSave.apply(a,arguments)},c=function(){a.onEntityBeforeSave.apply(a,arguments)};a.store.unbind(a),a.store.on({type:this.config.context.entity.entityType.name,eventName:"afterSave",listener:a},b),a.store.on({type:this.config.context.entity.entityType.name,eventName:"beforeSave",listener:a},c)},"bus dataBind":function(){this.fire("permissionsReady",{editable:!0})},entityBelongCurrentContext:function(a){return a.changes.owner&&a.cmd.config.id==this.config.context.entity.id},onEntityAfterSave:function(a){var b=a.data;this.entityBelongCurrentContext(b)&&this.fire("ownerChanged")},onEntityBeforeSave:function(a){var b=a.data;this.entityBelongCurrentContext(b)&&this.fire("beforeChangeOwner")}});return b})