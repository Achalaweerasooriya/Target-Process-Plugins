define(["Underscore","tau/core/event.emitter"],function(_,a){return a.extend({"bus slice.ready:last+model.get.cell.content":function(a){var b=this,c=a["slice.ready"].data.slice,d=a["model.get.cell.content"].data;b.onGetCellContent(c,d)},onGetCellContent:function(a,b){var c=this;a.cell({x:b.x,y:b.y}).done(function(a){var d=a.data.items.length>0?a.data.items[0]:{};_(d).defaults({x:b.x,y:b.y,dynamic:{items:[]},fixed:{items:[]}}),c.fireCellBasicInfoRetrieved(d)})},"bus model.get.cell.basicInfo":function(a){var b=this,c=a.data;c.x=c.x||null,c.y=c.y||null,c.x&&c.y?b.fire("model.get.cell.content",{x:c.x.toString(),y:c.y.toString()}):b.fire("model.get.axisCell.basicInfo",c)},"bus model.sliceInfo.retrieved:last+model.get.axisCell.basicInfo":function(a){var b=this,c=a["model.get.axisCell.basicInfo"].data,d=a["model.sliceInfo.retrieved"].data,e=c.hasOwnProperty("x"),f=c.hasOwnProperty("y"),g=c.x?"X":"Y",h=d["marks"+g],i=_(h).find(function(a){var b=g.toLowerCase();return a[b]==c[b]});b.fireCellBasicInfoRetrieved(i)},fireCellBasicInfoRetrieved:function(a){var b=this;b.fire("model.cell.basicInfo.retrieved",a)}})})