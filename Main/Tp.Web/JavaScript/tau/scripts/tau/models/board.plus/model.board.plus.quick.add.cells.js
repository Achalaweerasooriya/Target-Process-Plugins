define(["Underscore","tau/core/extension.base"],function(e,i){return i.extend({resetLifecycle:!0,"bus overview.board.ready":function(){var i=e.bind(this.fire,this,"cellActions.init");e.delay(i,500)},"bus configurator.ready:last + slice.ready + cellActions.init:last":function(e,i,t){this.slice&&this.slice.abort();var l=t.slice.clone();this.slice=l,this.fire("slice.cells.quickadd.api.ready",l)},"bus  model.sliceInfo.retrieved:last > slice.cells.quickadd.api.ready":function(i,t,l){if(t.definition.cells&&0===t.definition.cells.types.length)return void this.fire("model.cellActions.ready",{items:[]});var s,c=e.pluck(t.x.data,"x"),n=e.pluck(t.y.data,"y"),a={$whereX:c.length?{x:{$in:c}}:void 0,$whereY:n.length?{y:{$in:n}}:void 0};switch(t.viewMode){case"board":s=l.cellActionsV2(a);break;case"timeline":s=l.cellActionsV2(a);break;default:s=l.listModeActionsV2(a)}s.done(e.bind(function(e){this.fire("model.cellActions.ready",e.data)},this))}})});