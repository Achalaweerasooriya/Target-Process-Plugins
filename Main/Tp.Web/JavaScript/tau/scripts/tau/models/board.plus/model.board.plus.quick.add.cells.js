define(["Underscore","./model.board.base"],function(_,ModelBase){return ModelBase.extend({"bus overview.board.ready":function(evt){var f=_.bind(this.fire,this,"cellActions.init");_.delay(f,500)},"bus configurator.ready + slice.ready + cellActions.init":function(evt,configurator,sliceData){var slice=sliceData.slice.clone();this.fire("slice.cells.quickadd.api.ready",slice)},"bus slice.cells.quickadd.api.ready + model.sliceInfo.retrieved":function(evt,slice,sliceInfo){var x=_.pluck(sliceInfo.x.data,"x"),y=_.pluck(sliceInfo.y.data,"y"),coords={$whereX:x.length?{x:{$in:x}}:undefined,$whereY:y.length?{y:{$in:y}}:undefined},self=this;if(sliceInfo.definition.cells&&sliceInfo.definition.cells.types.length==0){self.fire("model.cellActions.ready",{items:[]});return}var cellActionsDeferred;switch(sliceInfo.viewMode){case"list":cellActionsDeferred=slice.listModeActionsV2(coords);break;default:cellActionsDeferred=slice.cellActionsV2(coords)}cellActionsDeferred.done(function(cellActions){self.fire("model.cellActions.ready",cellActions.data)})}})})