define(["Underscore","jQuery","tau/core/event.emitter"],function(_,$,Model){return Model.extend({"bus boardSettings.ready":function(evt,boardData){var self=this;boardData.boardSettings.get({fields:["collapse"],callback:function(res){self.fire("settings.collapse.provided",res.collapse)}})},"bus settings.collapse.provided":function(evt){var collapsed=evt.data||{x:[],y:[]};this.fire("view.collapsed.axis",collapsed)},"bus boardSettings.ready:last + board.save.header.collapsing.settings":function(evt,boardData,headerData){var that=this,boardSettings=boardData.boardSettings;boardSettings.get({fields:["collapse"],callback:function(res){boardSettings.set({set:{collapse:that.toggleCollapsedId(res.collapse,headerData)}})}})},toggleCollapsedId:function(collapsedIds,headerData){var methodName={collapse:"union",expand:"without"};return collapsedIds=collapsedIds||{x:[],y:[]},collapsedIds[headerData.dimension]=_[methodName[headerData.setting]](collapsedIds[headerData.dimension],headerData.id),collapsedIds}})})