define(["Underscore","jQuery","tau/core/event.emitter"],function(_,$,Model){return Model.extend({"bus boardSettings.ready":function(evt){var boardSettings=evt.data.boardSettings,self=this;boardSettings.get({fields:["collapse"],callback:function(res){self.fire("settings.collapse.provided",res.collapse)}})},"bus settings.collapse.provided":function(evt){var collapsed=evt.data||{x:[],y:[]};this.fire("view.collapsed.axis",collapsed)},"bus boardSettings.ready:last + board.save.header.collapsing.settings":function(evt){var boardSettings=evt["boardSettings.ready"].data.boardSettings,config=evt["board.save.header.collapsing.settings"].data,fnName={collapse:"union",expand:"without"};boardSettings.get({fields:["collapse"],callback:function(res){var collapsed=res.collapse||{x:[],y:[]};collapsed[config.dimension]=_[fnName[config.setting]](collapsed[config.dimension],config.id),boardSettings.set({set:{collapse:collapsed}})}})}})})