define(["Underscore","tau/core/extension.base"],function(e,t){return t.extend({"bus beforeInit":function(t,i){var n=i.config.context.configurator.getHistory();n.removeAllListeners(this),n.on("changed",e.bind(this.fire,this,"refresh"),this),this.fire("dataBind",{items:n.getFlatStack().slice(-3)})},"bus beforeInit + destroy":function(e,t){var i=t.config.context.configurator.getHistory();i.removeAllListeners(this)}})});