define(["Underscore","tau/core/extension.base","tau/configurations/team.icons"],function(t,e,n){return e.extend({"bus beforeInit":function(t,e){var n=e.config.context.configurator;this.fire("configurator.ready",n)},"bus configurator.ready:last + beforeInit":function(e,i){var o=i.getStore(),r=t.bind(this.fire,this),a=function(t){return t.name.toUpperCase()};o.get("projects",{fields:["id","name","color","isActive"]}).done(function(e){var i=t.sortBy(e[0].data,a);i=t.filter(i,function(t){return t.isActive}),t.each(i,function(t){t.tooltip=""}),r("dataBind",{projects:i,icons:n})}),o.unbind(this),o.on({type:"project",eventName:"afterSave",listener:this},function(e){t.isEmpty(e.data.changes)||r("refresh")})}})});