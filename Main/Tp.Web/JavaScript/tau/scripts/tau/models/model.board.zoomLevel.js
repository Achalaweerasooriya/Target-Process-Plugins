define(["Underscore","tau/core/model-base"],function(_,a){var b=a.extend({"bus boardSettings.ready":function(a){var b=this,c=a.data.boardSettings;c.bind({fields:["zoomLevel"],listener:b,callback:_.bind(b.onZoomLevelUpdated,b)}),c.get({fields:["zoomLevel"],callback:_.bind(b.onDataReady,b)})},onDataReady:function(a){var b=this,c={zoomLevel:a.zoomLevel};b.bus.fire("zoomLevelReady",c),this.config.bindData&&b.bus.fire("dataBind",c),!this.validateZoomLevel(a.zoomLevel)&&this.normalizeZoomLevel(a.zoomLevel)&&this.fire("updateZoomLevel",{zoomLevel:this.normalizeZoomLevel(a.zoomLevel)})},validateZoomLevel:function(a){return this.config.hasOwnProperty("min")&&a<this.config.min?!1:this.config.hasOwnProperty("max")&&a>this.config.max?!1:a!=undefined},normalizeZoomLevel:function(a){if(this.config.hasOwnProperty("min")&&this.config.hasOwnProperty("max")){if(a==undefined)return this.config.defaultValue;if(a<this.config.min)return this.config.min;if(a>this.config.max)return this.config.max}return a},onZoomLevelUpdated:function(a){var b=this;if(!this.validateZoomLevel(a.zoomLevel))return;b.bus.fire("zoomLevelUpdated",a)},"bus boardSettings.ready:last+updateZoomLevel":function(a){var b=a["boardSettings.ready"].data.boardSettings,c=a.updateZoomLevel.data,d=c.zoomLevel;this.validateZoomLevel(d)||(d=this.normalizeZoomLevel(d)),b.set({set:{zoomLevel:d}})}});return b})