define(["tau/core/model-base","tau/utils/utils.jsonSchema"],function(a,b,c){var d=a.extend({category:"edit",name:"Model text validation",schema:b.Schema.create({type:"string",optional:!1,empty:!1,maxLength:50,minLength:0,pre:["trim"]}),"bus afterRender":function(a){this.$element=a.data.element},"bus validate":function(a){this.$element.find(".property-text").dateEditor("resetValidationErrors");var b=a.data,c=b.cmd.$set[this.config.propertyName];b.validation=this.schema.validate(c);if(!b.validation||b.validation.isError()!=1)b.validation=this.schema.validate(c),b.cmd.$set[this.config.propertyName]=b.validation.instance},"bus afterValidate":function(a){var b=a.data.validation;this.$element.find(".property-text").editableText("setValue",b.instance)},"bus validationFailed":function(a){var b=a.data.validation;this.$element.find(".property-text").editableText("setValidationErrors",b.errors[0].description)}});return d})