define(["tau/core/model-base","tau/utils/utils.jsonSchema"],function(ModelBase,jsonSchema,dateUtils){var model=ModelBase.extend({category:"edit",name:"Model text validation",schema:jsonSchema.Schema.create({type:"string",optional:!1,empty:!1,maxLength:50,minLength:0,pre:["trim"]}),"bus afterRender":function(evt){this.$element=evt.data.element},"bus validate":function(evt){this.$element.find(".property-text").dateEditor("resetValidationErrors");var args=evt.data,data=args.cmd.$set[this.config.propertyName];args.validation=this.schema.validate(data);if(!args.validation||args.validation.isError()!=1)args.validation=this.schema.validate(data),args.cmd.$set[this.config.propertyName]=args.validation.instance},"bus afterValidate":function(evt){var validation=evt.data.validation;this.$element.find(".property-text").editableText("setValue",validation.instance)},"bus validationFailed":function(evt){var validation=evt.data.validation;this.$element.find(".property-text").editableText("setValidationErrors",validation.errors[0].description)}});return model})