define(["Underscore","jQuery","tau/core/class"],function(t,e,n){return n.extend({init:function(t){this.config=this._createConfig(t)},fetch:function(){return this._fetchData(this._buildFetchCommand())},_fetchData:function(t){var n=e.Deferred();return this.config.store.get(this.config.entityTypeName,t).done({success:function(t){n.resolve(t)},scope:this}),n.promise()},_createConfig:function(t){var e={configurator:t.context.configurator,entityId:t.context.entity.id,entityTypeName:t.context.entity.entityType.name,store:t.store,fieldConfig:t.fieldConfig};return e},_buildFetchCommand:function(){return{id:this.config.entityId,fields:this.config.fieldConfig,nested:!0}}})});