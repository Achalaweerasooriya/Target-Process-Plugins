define(["Underscore","tau/core/extension.base","jQuery"],function(e,t,r){return t.extend({"bus beforeInit":function(e,t){var r=t.config.context.configurator;this.fire("dataBind",{url:""}),this.fire("model.shareReport.ready",{getLinkReport:this._getLinkReport.bind(this,r)})},_getLinkReport:function(t){var n=t.getBoardSettingsFactory().createComponentSettings({id:"reports"}),i=t.getRestStorage();return n.get({fields:["reports"]}).then(function(t){var n=t.reports,a="settings",o=n+"Chart";"burnDown"==n&&(a="burnDownVer2Filter",o="setting");var u=e.bind(i.data,i,a,o);return r.when(u(),n)}).then(function(t,r){var n=t.value||{};n.reportType=r;var a=e.bind(i.data,i,"reports");return a({scope:"Public",publicData:n})}).then(function(e){var r=t.getUrlBuilder();return r.getNewViewUrl(e.data.key,"report"),r.getApplicationPath()+"/"+r.getBoardPageRelativePath()+r.getNewViewUrl(e.data.key,"report")})}})});