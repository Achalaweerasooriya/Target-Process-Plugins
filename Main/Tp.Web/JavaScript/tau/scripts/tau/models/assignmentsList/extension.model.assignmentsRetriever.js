define(["Underscore","tau/models/extension.model.base"],function(_,ExtensionBase){return ExtensionBase.extend({category:"model extension assignments retriever","bus registerStoreRequest":function(){var entity=this.config.context.entity||{entityType:{}},userType={generalUser:["id","firstName","lastName","avatarUri","email"]};this.fire("get",{type:entity.entityType.name,query:{id:entity.id,fields:[{assignments:["id",{role:["id","name"]},userType],list:!0}]},callback:{scope:this,success:this.onAssignmentsRetrieved}})},onAssignmentsRetrieved:function(evtArgs){var assignments=evtArgs.data.assignments;this.fire("assignmentsReady",assignments)}})})