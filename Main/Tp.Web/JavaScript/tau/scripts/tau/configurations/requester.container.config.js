define(["require","tau/configurations/base.container.config","tau/ui/extensions/ui.extension.add.css","tau/ui/templates/property/ui.template.property.title","tau/ui/extensions/label/ui.extension.label.entity.relation.count","tau/ui/extensions/label/ui.extension.label.refresher.comet","tau/utils/utils.date","tau/core/termProcessor"],function(e){"use strict";var t=e("tau/configurations/base.container.config"),r=e("tau/ui/extensions/ui.extension.add.css"),n=e("tau/ui/templates/property/ui.template.property.title"),a=e("tau/ui/extensions/label/ui.extension.label.entity.relation.count"),s=e("tau/ui/extensions/label/ui.extension.label.refresher.comet"),i=e("tau/utils/utils.date"),o=e("tau/core/termProcessor");return t.extend({init:function(e){this._super(e),this.registerTab("Requests",{selected:!0,label:"requests",header:[{type:"label",text:"Requests",countFieldNames:["requests"],extensions:[{extType:a,args:["request","requesters"]},s],lazy:!0}],items:[{name:"Requests",type:"entity.new.list",lazy:!0,spinnerConfigForLazy:this.getSpinnerConfigForLazy(),definition:{cells:{types:["request"]},cardSettings:{list_request:{list:[[{id:"entity_name_1line",order:0},{id:"general_entity_id",order:1},{id:"state_short",order:2},{id:"project_long",order:3},{id:"assigned_users",order:4},{id:"request_question",order:5},{id:"request_private",order:6}]]}}}}]}),this.registerTab("Account Settings",{label:"accountSettings",header:[{type:"label",text:"Account Settings"}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",children:[{type:"requester.settings"}]}]}]})},getTabsAliases:function(){return["Requests","Account Settings"]},getPanelsAliases:function(){return[]},getAdditionalInfoAliases:function(){return[]},getConfig:function(e){this._mergeConfigRegistries(e,{});var t=e.context.getTerms(),a=e.context,s=a.entity.id,l=a.getLoggedUser(),u=s===l.id||l.isAdministrator;return this.termProcessor=new o(t),{children:[{type:"container",name:"main entity container",layout:"list",cssClass:"main-container tau-user-view i-role-unit-editor-popup-append-target",cellsCssClass:["general-info","additional-info"],children:[{type:"breadcrumbs"},{type:"container",layout:"table",children:[{type:"avatar",userKind:"requester"},{type:"container",name:"main entity container",layout:"list",children:[{type:"container",layout:"table",children:[{type:"property.text",propertyName:"firstName",restoreText:!0,editable:u,placeholderText:"first name",template:n},{type:"property.text",propertyName:"lastName",restoreText:!0,editable:u,placeholderText:"last name",template:n}]},{type:"container",layout:"table",children:[{type:"label",cssClass:"tau-role tau-property__value_margin_right",extensions:[r],template:{name:"requester.role",engine:"jqote2",markup:"<div>Requester</div>"}},{type:"property.text",propertyName:"createDate",cssClass:"tay-last_login_date",extensions:[r],template:{name:"requester.createDate",customFunctions:{format:function(e){return e?i.format.date.short(e):"unknown"
}},engine:"jqote2",markup:['<div class="tau-last_login_date">','<span class="property tau-property">','<span class="property-text tau-property__value tau-property__value_margin_right">',"Added: <%= fn.format(this.text) %>","</span>","</span>","</div>"].join("")}},{type:"property.text",propertyName:"sourceType",cssClass:"tay-last_login_date",extensions:[r],template:{name:"requester.sourceType",engine:"jqote2",markup:['<div class="tau-last_login_date">','<span class="property tau-property">','<span class="property-text tau-property__value tau-property__value_margin_right">',"Source: <%= this.text %>","</span>","</span>","</div>"].join("")}}]}]}]},{type:"container",name:"general info column container",children:[{type:"tabs",cssClass:"tau-tabs",stateName:"generalTab",tabs:this.getTabs(e)}]}]}]}}})});