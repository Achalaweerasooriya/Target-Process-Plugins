define(["require","tau/configurations/base.container.config","tau/models/model.extensions","tau/models/dataProviders/release/release.model.provider.iterations.items","tau/models/dataProviders/release/release.model.provider.iterations.groups","tau/ui/extensions/list/iterations/extension.list.release_iterations","tau/models/dataProviders/release/release.model.provider.features.items","tau/models/dataProviders/entity/entity.model.provider.bug.items","tau/models/dataProviders/release/release.model.provider.user_stories.items","tau/ui/extensions/list/request/extension.list.entityState","tau/ui/extensions/list/external.refresh.extension","tau/configurations/release.projects.tab.config","tau/ui/extensions/label/ui.extension.label.refresher.comet","tau/ui/extensions/label/ui.extension.label.entity.count"],function(e){var t=e("tau/configurations/base.container.config"),r=(e("tau/models/model.extensions"),e("tau/models/dataProviders/release/release.model.provider.iterations.items")),i=e("tau/models/dataProviders/release/release.model.provider.iterations.groups"),s=e("tau/ui/extensions/list/iterations/extension.list.release_iterations"),a=e("tau/models/dataProviders/release/release.model.provider.features.items"),n=e("tau/models/dataProviders/entity/entity.model.provider.bug.items"),o=e("tau/models/dataProviders/release/release.model.provider.user_stories.items"),l=e("tau/ui/extensions/list/request/extension.list.entityState"),d=(e("tau/ui/extensions/list/external.refresh.extension"),e("tau/configurations/release.projects.tab.config")),u=e("tau/ui/extensions/label/ui.extension.label.refresher.comet"),c=e("tau/ui/extensions/label/ui.extension.label.entity.count");return t.extend({init:function(e){this._super(e),this.registerAdditionalInfoItem("Release Projects",{label:{text:this.getNames("Projects"),containerCssClass:"tau-additionalinfo__projects"},field:{type:"release.property.projects"}}),this.registerPanel("Progress Bar",{type:"release.progressBar"});var t=d.create(this.getSpinnerConfigForLazy());
this.registerTab("Projects",{label:"projects",header:[{type:"label",text:this.getNames("project"),countFieldNames:["projects"]}],items:[t]}),this.registerTab("Iterations",{practices:["Iterations"],label:"iterations",header:[{type:"label",text:this.getNames("iteration"),countFieldNames:["iterations"]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),practices:["Iterations"],children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",practices:["Iterations"],children:[{practices:["Iterations"],type:"list",itemsDataProvider:r,groupsDataProvider:i,groupBy:"iteration.id",extensions:[s],externalRefreshEvents:["iteration.items.added"],views:[{type:"grid.entity",group:{dataIndex:"id"}}]}]}]}]});var p=this;this.registerTab("User Stories",{enabledIf:{isBoard:!0},label:"userStories",header:[{type:"label",text:p.getNames("userStory"),countFieldNames:["userStories"],extensions:[{extType:c,args:["userstory","release"]},u]}],items:[{name:"User Stories",type:"entity.new.list",lazy:!0,spinnerConfigForLazy:this.getSpinnerConfigForLazy(),definition:{cells:{types:["userStory"]},cardSettings:{list_userstory:{list:[[{id:"entity_name_1line",order:0},{id:"general_entity_id",order:1},{id:"state_short",order:2},{id:"assigned_users",order:3},{id:"business_value_short",order:4},{id:"progress_long",order:5},{id:"effort_total",order:6},{id:"project_short",order:7},{id:"action_delete",order:8}]]}}}}]}),this.registerTab("Bugs",{enabledIf:{isBoard:!0},practices:["Bug Tracking"],label:"bugs",header:[{type:"label",text:p.getNames("bug"),countFieldNames:["bugs"],extensions:[{extType:c,args:["bug","release"]},u]}],items:[{name:"Bugs",type:"entity.new.list",lazy:!0,spinnerConfigForLazy:this.getSpinnerConfigForLazy(),definition:{cells:{types:["bug"]},cardSettings:{list_bug:{list:[[{id:"entity_name_1line",order:0},{id:"general_entity_id",order:1},{id:"state_short",order:2},{id:"assigned_users",order:3},{id:"business_value_short",order:4},{id:"progress_long",order:5},{id:"effort_total",order:6},{id:"project_short",order:7},{id:"action_delete",order:8}]]}}}}]}),this.registerTab("Features",{enabledIf:{isBoard:!0},practices:["Requirements"],label:"features",header:[{type:"label",text:p.getNames("feature"),countFieldNames:["features"],extensions:[{extType:c,args:["feature","release"]},u]}],items:[{name:"Features",type:"entity.new.list",lazy:!0,spinnerConfigForLazy:this.getSpinnerConfigForLazy(),definition:{cells:{types:["feature"]},cardSettings:{list_feature:{list:[[{id:"entity_name_1line",order:0},{id:"general_entity_id",order:1},{id:"state_short",order:2},{id:"assigned_users",order:3},{id:"business_value_short",order:4},{id:"progress_long",order:5},{id:"effort_total",order:6},{id:"project_short",order:7},{id:"action_delete",order:8}]]}}}}]}),this.registerTab("User Stories TP2",{disabledIf:{isBoard:!0},label:"userStories",header:[{type:"label",text:p.getNames("userStory"),countFieldNames:["userStories"]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",children:[{type:"quick.add",printable:!1,property:"release",entityType:"userStory",evictProperties:["userStories","userStories-count"],label:"Add "+p.getNames("UserStory")},{type:"list.editable",externalRefreshEvents:["userStory.items.added"],itemsDataProvider:o,views:[{type:"grid.entity"}],extensions:[l]}]}]}]}),this.registerTab("Bugs TP2",{disabledIf:{isBoard:!0},practices:["Bug Tracking"],label:"bugs",header:[{type:"label",text:p.getNames("bug"),countFieldNames:["bugs"]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),practices:["Bug Tracking"],children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",practices:["Bug Tracking"],children:[{type:"quick.add",printable:!1,property:"release",entityType:"bug",evictProperties:["bugs","bugs-count"],label:"Add "+p.getNames("Bug"),practices:["Bug Tracking"]},{type:"list.editable",itemsDataProvider:n,externalRefreshEvents:["bug.items.added"],views:[{type:"grid.entity"}],practices:["Bug Tracking"],extensions:[l]}]}]}]}),this.registerTab("Features TP2",{disabledIf:{isBoard:!0},practices:["Requirements"],label:"features",header:[{type:"label",text:p.getNames("feature"),countFieldNames:["features"]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),practices:["Requirements"],children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",practices:["Requirements"],children:[{type:"quick.add",printable:!1,property:"release",entityType:"feature",evictProperties:["features","features-count"],label:"Add "+p.getNames("Feature"),practices:["Requirements"]},{practices:["Requirements"],type:"list.editable",externalRefreshEvents:["feature.items.added"],itemsDataProvider:a,views:[{type:"grid.entity"}]}]}]}]}),this.registerTab("Release Notes",{label:"notes",header:[{type:"label",text:"Notes"}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",children:[{type:"releaseNotes"}]}]}]})
},getAdditionalInfoAliases:function(){return[this.configurator.getFeaturesService().isEnabled("release.crossproject")?"Release Projects":"Project","StartDate","FinishDate","Release Assigned Effort"]},getPanelsAliases:function(){return["Diagnostic","Progress Bar","Additional Info","Custom Fields"]},getActionsAliases:function(){return["Old Edit","Print","-----","Delete"]},getEntityQuickAddOptions:function(){return{items:[{entityType:"iteration",relationName:"iterations",practices:["Iterations"]},{entityType:"project",relationName:"project"},{entityType:"feature",relationName:"features",practices:["Requirements"]},{entityType:"userstory",relationName:"userStories"},{entityType:"bug",relationName:"bugs",practices:["Bug Tracking"]}]}},getTabsAliases:function(){return["Description",this.configurator.getFeaturesService().isEnabled("release.crossproject")?"Projects":"","Iterations","User Stories","Bugs","Features","User Stories TP2","Bugs TP2","Features TP2","Release Notes","Relations","Time","History"]}})});