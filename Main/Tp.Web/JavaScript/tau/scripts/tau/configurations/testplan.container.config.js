define(["tau/configurations/baseAssignable.container.config","tau/models/model.extensions","tau/components/extensions/testCaseList/extensions.testCaseList.labelRefresher","tau/ui/extensions/list/testplan/extension.list.editableCells","tau/models/dataProviders/testplan/testplan.model.provider.testplanruns.items","tau/models/dataProviders/testplan/testplan.model.provider.testplanruns.groups","tau/ui/extensions/list/testplan/extension.list.testplanruns.refresher","tau/models/dataProviders/testplan/testplan.model.provider.testcases.items","tau/ui/extensions/list/testcases/extension.list.testcases.actions","tau/ui/templates/list_/grid.entity.testcase/ui.template.list.grid.entity.testcase"],function(e,t,s,a,n,i,r,l,o,p){return e.extend({init:function(e){this._super(e);var t=e.context.entity,d=e.context.configurator.getUrlBuilder();this.registerAction("Assign Test Cases",{disabledIf:{isBoard:!0},label:"Assign "+this.getTermName("TestCase"),url:d.getAssignTestCasesForTestPlanUrl(t.id),practices:["Test Cases"]}),this.registerAdditionalInfoItem("Initial Estimate",{label:{text:"Run Estimate"},field:{type:"property.initialEstimate"},practices:["Planning"]}),this.registerTab("Test Cases",{disabledIf:{isBoard:!0},label:"testcases",header:[{type:"label",text:this.getNames("testCase"),countFieldNames:["testCases"],extensions:[s]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),practices:["Test Cases"],children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",practices:["Test Cases"],children:[{practices:["Test Cases"],type:"quick.add",printable:!1,property:"testPlan",onBeforeAdd:function(e){var t=e.$set;e.fields=["id","name",{testPlans:["id","testCases-count"]}];var s=t.testPlan;delete t.testPlan,t.testPlans=[s]},entityType:"testCase",evictProperties:["testCases","testCases-count"],label:"Add "+this.getNames("testcase")},{type:"list.editable",itemsDataProvider:l,multiprojects:!0,practices:["Test Cases"],views:[{type:"grid.entity.testcase",rowTemplateName:"list-grid-entity__rowtestcase",emptyMessage:"No test cases found"}],template:p,externalRefreshEvents:["testCase.items.added"],extensions:[o],labelAdd:"Assign"}]}]}],practices:["Test Cases"]}),this.registerTab("Tests",{enabledIf:{isBoard:!0},label:"testCases",header:[{type:"label.testHierarchy",text:"Tests"}],items:[{name:"TestCases",type:"testPlan.testItems",lazy:!0,spinnerConfigForLazy:this.getSpinnerConfigForLazy(),helper:this.helper}]}),this.registerTab("Test Plan Runs",{label:"testPlanRuns",header:[{type:"label",text:this.getNames("testPlanRun"),countFieldNames:["testPlanRuns"]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),practices:["Test Cases"],children:[{type:"container",lazy:!0,practices:["Test Cases"],name:"lazyPlaceholder container",children:[{type:"quick.add",printable:!1,property:"testPlan",entityType:"testPlanRun",evictProperties:["testPlanRuns-count"],label:"Add "+this.getNames("TestPlanRun")},{type:"list.editable",itemsDataProvider:n,externalRefreshEvents:["testPlanRun.items.added"],groupsDataProvider:i,groupBy:"entityState.name",multiprojects:!0,views:[{rowTemplateName:"list-grid-entity__rowtestplanrun",type:"grid.entity",group:{dataIndex:"name"}}],extensions:[a,r]}]}]}],practices:["Test Cases"]}),this.registerTab("Parent Plans",{enabledIf:{feature:"qa.area.hierarchy",isBoard:!0},label:"parentPlans",header:[{type:"label",text:"Parent Plans",countFieldNames:["parentTestPlans"]}],items:[{name:"TestPlans",type:"testItem.parentTestPlans",definition:{x:"testplanparentplans"},lazy:!0,spinnerConfigForLazy:this.getSpinnerConfigForLazy(),helper:this.helper}]})
},getTabsAliases:function(){return["Description","Tests","Test Cases","Test Plan Runs","Parent Plans","Relations","Time","Tp2 Time","Flow","History"]},getAdditionalInfoAliases:function(){return["Project","Team","Owner","Business Value","Initial Estimate","CreationDate","StartDate","CompletionDate","PlannedStartDate","PlannedEndDate"]},getActionsAliases:function(){return["Copy to project","Assign Test Cases","Old Edit","Print","-----","Delete"]},getEntityQuickAddOptions:function(){var e=[{entityType:"time",relationName:"times",practices:["Time Tracking"]},{entityType:"testplanrun",relationName:"testPlanRuns",practices:["Test Cases"]},{entityType:"testcase",relationName:"testCases",practices:["Test Cases"]}];return{items:this.helper?this.helper.collection(e.concat({enabledIf:{feature:"qa.area.hierarchy"},entityType:"testplan",relationName:"testPlans",practices:["Test Cases"]})):e}}})});