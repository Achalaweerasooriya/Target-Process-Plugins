define(["tau/configurations/baseAssignable.container.config","tau/models/model.extensions","tau/components/extensions/testCaseList/extension.testPlanRun.testCaseList.edit.addTestCase","tau/components/extensions/testCaseList/extensions.testCaseList.labelRefresher","tau/ui/extensions/list/testplan/extension.list.editableCells","tau/models/dataProviders/testplan/testplan.model.provider.testplanruns.items","tau/models/dataProviders/testplan/testplan.model.provider.testplanruns.groups","tau/ui/extensions/list/testplan/extension.list.testplanruns.refresher","tau/models/dataProviders/testplan/testplan.model.provider.testcases.items","tau/ui/extensions/list/testcases/extension.list.testcases.actions","tau/ui/extensions/list/testcases/extension.list.testcases.actions.add.testPlan","tau/ui/templates/list_/grid.entity.testcase/ui.template.list.grid.entity.testcase","tau/ui/extensions/list/external.refresh.extension"],function(e,t,s,a,i,n,r,l,o,d,c,p){return e.extend({init:function(e){this._super(e);var t=e.context.entity,s=e.context.configurator.getUrlBuilder();this.registerAction("Add Test Plan Run",{disabledIf:{feature:"entity.quickAdd"},label:"Add "+this.getTermName("TestPlanRun"),url:s.getAddTestRunForTestPlanUrl(t.id),practices:["Test Cases"]}),this.registerAction("Assign Test Cases",{disabledIf:{isBoard:!0},label:"Assign "+this.getTermName("TestCase"),url:s.getAssignTestCasesForTestPlanUrl(t.id),practices:["Test Cases"]}),this.registerAdditionalInfoItem("Initial Estimate",{label:{text:"Run Estimate"},field:{type:"property.initialEstimate"},practices:["Planning"]}),this.registerTab("Test Cases",{disabledIf:{isBoard:!0},label:"testcases",header:[{type:"label",text:this.getNames("testCase"),countFieldNames:["testCases"],extensions:[a]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),practices:["Test Cases"],children:[{type:"container",lazy:!0,name:"lazyPlaceholder container",practices:["Test Cases"],children:[{practices:["Test Cases"],type:"quick.add",printable:!1,property:"testPlan",additionalFieldsSet:{steps:"&nbsp;",success:"&nbsp;"},onBeforeAdd:function(e){var t=e.$set;e.fields=["id","name",{testPlans:["id","testCases-count"]}];var s=t.testPlan;delete t.testPlan,t.testPlans=[s]},entityType:"testCase",evictProperties:["testCases","testCases-count"],label:"Add "+this.getNames("testcase")},{type:"list.editable",itemsDataProvider:o,multiprojects:!0,practices:["Test Cases"],views:[{type:"grid.entity.testcase",rowTemplateName:"list-grid-entity__rowtestcase",emptyMessage:"No test cases found"}],template:p,externalRefreshEvents:["testCase.items.added"],extensions:[d,c],labelAdd:"Assign"}]}]}],practices:["Test Cases"]}),this.registerTab("Tests",{enabledIf:{isBoard:!0},label:"testCases",header:[{type:"label",text:"Tests",countFieldNames:["testCases"]}],items:[{name:"TestCases",type:"view.new.list",definition:{cells:{types:["testcase"]},cardSettings:{list_testcase:{list:[[{id:"entity_name_1line",order:0},{id:"general_entity_id",order:1},{id:"tc_last_status",order:2},{id:"tc_last_run_date",order:3}]]}}},lazy:!0,spinnerConfigForLazy:this.getSpinnerConfigForLazy()}]}),this.registerTab("Test Plan Runs",{label:"testplanruns",header:[{type:"label",text:this.getNames("testPlanRun"),countFieldNames:["testPlanRuns"]}],items:[{type:"container",spinnerConfigForLazy:this.getSpinnerConfigForLazy(),practices:["Test Cases"],children:[{type:"container",lazy:!0,practices:["Test Cases"],name:"lazyPlaceholder container",children:[{type:"quick.add",printable:!1,property:"testPlan",entityType:"testPlanRun",evictProperties:["testPlanRuns-count"],label:"Add "+this.getNames("TestPlanRun")},{type:"list.editable",itemsDataProvider:n,externalRefreshEvents:["testPlanRun.items.added"],groupsDataProvider:r,groupBy:"entityState.name",multiprojects:!0,views:[{rowTemplateName:"list-grid-entity__rowtestplanrun",type:"grid.entity",group:{dataIndex:"name"}}],extensions:[i,l]}]}]}],practices:["Test Cases"]})},getTabsAliases:function(){return["Description","Tests","Test Cases","Test Plan Runs","Relations","Time","Flow","History"]},getAdditionalInfoAliases:function(){return["Project","Team","Owner","Business Value","Initial Estimate","StartDate","CreationDate","CompletionDate","PlannedStartDate","PlannedEndDate"]},getActionsAliases:function(){return["Add Time","Copy to project","Add Test Plan Run","Assign Test Cases","-add-","Old Edit","Print","-----","Delete"]},getEntityQuickAddOptions:function(){return{items:[{entityType:"time",relationName:"times",practices:["Time Tracking"]},{entityType:"testplanrun",relationName:"testPlanRuns",practices:["Test Cases"]},{entityType:"testcase",relationName:"testCases",practices:["Test Cases"]}]}}})});