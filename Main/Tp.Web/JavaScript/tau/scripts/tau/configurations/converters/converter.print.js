define(["Underscore"],function(a){var b={tabs:function(b){b=a.extend(b,{type:"container",children:[],cssClass:"b-tabs"});var c=[];a.forEach(b.tabs,function(c,d){c=a.extend(c,{type:"container",children:c.items,cssClass:"b-tab"}),a.isUndefined(c.header)==!1&&c.header.length&&c.children.unshift({type:"label",text:c.header[0].text}),b.children[d]=c});return b},collapsible:function(b){b=a.extend(b,{type:"container",children:[],cssClass:"b-section"}),b.children=b.items,a.isUndefined(b.header)==!1&&b.header.length&&b.children.unshift({type:"label",text:b.header[0].text});return b}},c=function(d){a.forEach(d,function(a,e){if(a.type){if(a.type=="tabs"||a.type=="collapsible")d[e]=b[a.type](a);a.children&&(d[e].children=c(a.children)),a.items&&(d[e].items=c(a.items)),d[e].disabledExtensionCategories=["edit"]}else e=="children"&&(d[e]=c(a))});return d};return{convert:function(a){a=c(a),a.children&&a.children.length&&(a.children[0].cssClass="main-container main-container-print");return a}}})