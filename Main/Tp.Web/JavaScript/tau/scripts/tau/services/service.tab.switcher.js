define(["require","tau/core/class","jQuery","Underscore"],function(t){var n=t("tau/core/class"),e=t("jQuery"),i=t("Underscore"),s=n.extend({_settingName:"generalTab",init:function(t){this._componentSettings=t,this.onSwitchedToTab=i.Callbacks(),this._bind()},switchToTab:function(t){this.isOnTab(t).done(function(n){if(!n){var e={};e[this._settingName]=t,this._componentSettings.set({set:e})}}.bind(this))},isOnTab:function(t){var n=e.Deferred();return this._componentSettings.get({fields:[this._settingName],callback:function(e){n.resolve(e[this._settingName]===t)}.bind(this)}),n.promise()},destroy:function(){this._componentSettings.unbind(this)},_bind:function(){this._componentSettings.bind({fields:[this._settingName],listener:this,callback:this._handleChanged})},_handleChanged:function(t){this.onSwitchedToTab.fire(t[this._settingName])}});return s.switchToTab=function(t,n){var e=new s(t);e.switchToTab(n),e.destroy()},s});