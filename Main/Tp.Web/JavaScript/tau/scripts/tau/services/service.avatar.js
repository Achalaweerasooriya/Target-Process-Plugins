define(["tau/core/class","tau/core/tau"],function(Class,tau){var Service=Class.extend({init:function(appPath){this.appPath=appPath,this.service=$.ajax},getCropRect:function(userId){return this.service({url:this.appPath+"/avatar.ashx?userid="+userId+"&operation=CropRect&"+(new Date).getTime()+tau.getTokenParameterFromQueryString("&")}).pipe(function(data){return JSON.parse(data).CropRect},function(jqXHR){return JSON.parse(jqXHR.responseText)})},crop:function(url){return this.service({url:url}).pipe(function(data){return JSON.parse(data)},function(jqXHR){return JSON.parse(jqXHR.responseText)})},remove:function(url){return this.service({url:url}).pipe(function(data){return JSON.parse(data)},function(jqXHR){return JSON.parse(jqXHR.responseText)})}});return Service})