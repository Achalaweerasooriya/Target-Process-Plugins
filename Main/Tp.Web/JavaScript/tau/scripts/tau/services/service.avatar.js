define(["tau/core/class","tau/core/tau"],function(e,r){var t=e.extend({init:function(e){this.appPath=e,this.service=$.ajax},getCropRect:function(e){return this.service({url:this.appPath+"/avatar.ashx?userid="+e+"&operation=CropRect&"+(new Date).getTime()+r.getTokenParameterFromQueryString("&")}).then(function(e){return JSON.parse(e).CropRect},function(e){return JSON.parse(e.responseText)})},crop:function(e){return this.service({url:e}).then(function(e){return JSON.parse(e)},function(e){return JSON.parse(e.responseText)})},remove:function(e){return this.service({url:e}).then(function(e){return JSON.parse(e)},function(e){return JSON.parse(e.responseText)})}});return t});