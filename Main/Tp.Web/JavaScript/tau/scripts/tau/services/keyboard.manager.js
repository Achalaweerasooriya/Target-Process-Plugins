define(["Underscore","jQuery","tau/core/class"],function(_,$,Class){return Class.extend({init:function(){this._handlers=[],$(document).keydown(_.bind(this._keyDown,this))},pushHandler:function(handler){this._handlers.push(handler)},popHandler:function(){this._handlers.pop()},_keyDown:function(){if(this._handlers.length==0)return;var handler=_.last(this._handlers);handler&&handler.handleKeyDown&&handler.handleKeyDown.apply(handler,_.toArray(arguments))}})})