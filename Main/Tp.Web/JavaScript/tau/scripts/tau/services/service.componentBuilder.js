define(["Underscore","tau/core/class"],function(_,Class){var Creator=Class.extend({init:function(configurator){this.requireLoader=configurator.getRequireLoader()},create:function(schema,config){_.isString(schema)&&(schema={name:schema,path:schema});var path;if(schema.path)path=schema.path;else{if(!schema.type)throw"Configuration error: type or path is missing";path="tau/components/component."+schema.type}var def=$.Deferred();return this.requireLoader([path],function(Component){def.resolve(Component.create(_.defaults(schema,config||{})))},function(err){def.reject(err)}),def}});return Creator})