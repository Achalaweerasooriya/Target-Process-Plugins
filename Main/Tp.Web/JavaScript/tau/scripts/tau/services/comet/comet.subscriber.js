define(["Underscore","jQuery","tau/core/class"],function(s,i,n){return n.extend({init:function(s,i){this.subscriptionIds=[],this.resourceProxy=i.get(s)},subscribe:function(i,n){var r=s.bind(function(s,i,n){this.subscriptionIds=s.union(this.subscriptionIds,n),i(this.subscriptionIds)},this,s,n);this.resourceProxy.subscribe(i,r)},unsubscribe:function(s){this.resourceProxy.unsubscribe(this.subscriptionIds,s),this.subscriptionIds=[]}})});