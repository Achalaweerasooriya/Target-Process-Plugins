define(["Underscore","tau/core/class","tau/services/search/service.search.command.multiIds","tau/libs/store2/store2"],function(e,t,r,a){var i=r.extend({_parseSearchString:function(){var t=this.params.searchString.split(",");if(t.length>0){var r=[];e.forEach(t,function(t){var a=e.trim(t);/^\*\d+\*$/.test(a)?r.push({value:a.replace(/\*/g,""),apiMethod:"contains"}):/^\*\d+$/.test(a)?r.push({value:a.replace(/^\*/,""),apiMethod:"endsWith"}):/^\d+\*$/.test(a)&&r.push({value:a.replace(/\*$/,""),apiMethod:"startsWith"})})}return{idParts:r}},_searchItemsPromise:function(){var t=new a(this.configurator),r=e.reduce(this.searchParameters.idParts,function(e,t){return e&&(e+=" or "),e+="convert.toString(Id.Value)."+t.apiMethod+'("'+t.value+'")'},"");return t.findAll("general?&select={id, {entityType.id, entityType.name} as entityType}&where=("+r+")&orderBy=id&take=1000&skip=0")},_resultFilter:function(e){return e.hasOwnProperty("entityType")}});return i.isSuitableCommand=function(t){var r=t.split(",");return r.length>0?e.every(r,function(t){var r=e.trim(t),a=/^(?:\*\d+\*|\*\d+|\d+\*)$/.test(r);return a}):!1},i});