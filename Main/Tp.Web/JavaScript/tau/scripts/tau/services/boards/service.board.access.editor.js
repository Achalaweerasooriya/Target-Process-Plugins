define(["require","tau/core/class","jQuery","tau/components/component.board.menu.item.access","tau/components/component.board.access.change.confirm"],function(e){var n=e("tau/core/class"),o=e("jQuery"),t=e("tau/components/component.board.menu.item.access"),c=e("tau/components/component.board.access.change.confirm");return n.extend({init:function(e){this._configurator=e},show:function(e,n,o){var c=t.create();c.on("afterRender",function(e,n){var t=function(){o.tauPopup("hide")};c.on("board.editor.access.changes.applied",t),c.on("board.editor.access.cancel",t),o.tauPopup({className:"ui-access-popup i-role-access-popup",hideOnEscape:!0}),o.tauPopup("setContent",n.element),c.fire("show"),o.tauPopup("show"),o.on("taupopuphide",function(){c.fire("destroy")})}),c.fire("initialize",{context:{configurator:this._configurator,menuItemKey:e,menuItemType:n,enableAutoSubmit:!1}})},confirmAccessChange:function(e,n,t){var a=o("<div></div>"),i=o.Deferred(),u=c.create({});u.on("afterRender",function(e,n){a.tauPopup({className:"ui-access-change-confirm",hideOnEscape:!0}),a.tauPopup("setContent",o(n.element)),a.tauPopup("show"),a.on("taupopuphide",function(){u.fire("destroy")}),i.resolve(a)});var r=o.Deferred().always(function(){i.done(function(e){e.tauPopup("hide")})});return u.fire("initialize",{context:{configurator:this._configurator,view:n,group:t,onApply:function(){r.resolve()},onCancel:function(){r.reject()}}}),r}})});