define(["require","Underscore","jQuery"],function(e){var r=e("Underscore"),t=e("jQuery");return{create:function(e,n){var i=e.boardsApi,a=i.createChildEventEmitter({updateViewMenuItem:{writable:!1,value:function(e,r,a){var u=n(),o=t.Deferred();if(e===u.settings.id){var c={set:r,failure:function(e){o.reject(e)},onReceived:function(e){o.resolve(e)},_originalBoardData:a};return u.set(c),o.promise().then(function(){return{data:u.settings}})}return i.updateViewMenuItem(e,r,a)}}});return Object.create(e,{boardsApi:{get:r.constant(a)}})}}});