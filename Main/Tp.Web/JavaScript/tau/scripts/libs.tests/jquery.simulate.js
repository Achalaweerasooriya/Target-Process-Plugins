define(["libs/jquery/jquery"],function(a){(function($){$.fn.extend({simulate:function(a,b){return this.each(function(){var c=$.extend({},$.simulate.defaults,b||{});new $.simulate(this,a,c)})}}),$.simulate=function(a,b,c){this.target=a,this.options=c,/^drag$/.test(b)?this[b].apply(this,[this.target,c]):this.simulateEvent(a,b,c)},$.extend($.simulate.prototype,{simulateEvent:function(a,b,c){var d=this.createEvent(b,c);return this.dispatchEvent(a,b,d,c),d},createEvent:function(a,b){if(/^mouse(over|out|down|up|move)|(dbl)?click$/.test(a))return this.mouseEvent(a,b);if(/^key(up|down|press)$/.test(a))return this.keyboardEvent(a,b)},mouseEvent:function(a,b){var c,d=$.extend({bubbles:!0,cancelable:a!="mousemove",view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:undefined},b),e=$(d.relatedTarget)[0];return $.isFunction(document.createEvent)?(c=document.createEvent("MouseEvents"),c.initMouseEvent(a,d.bubbles,d.cancelable,d.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget||document.body.parentNode)):document.createEventObject&&(c=document.createEventObject(),$.extend(c,d),c.button={0:1,1:4,2:2}[c.button]||c.button),c},keyboardEvent:function(a,b){var c,d=$.extend({bubbles:!0,cancelable:!0,view:window,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:0},b);if($.isFunction(document.createEvent))try{c=document.createEvent("KeyEvents"),c.initKeyEvent(a,d.bubbles,d.cancelable,d.view,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode)}catch(e){c=document.createEvent("Events"),c.initEvent(a,d.bubbles,d.cancelable),$.extend(c,{view:d.view,ctrlKey:d.ctrlKey,altKey:d.altKey,shiftKey:d.shiftKey,metaKey:d.metaKey,keyCode:d.keyCode,charCode:d.charCode})}else document.createEventObject&&(c=document.createEventObject(),$.extend(c,d));if($.browser.msie||$.browser.opera)c.keyCode=d.charCode>0?d.charCode:d.keyCode,c.charCode=undefined;return c},dispatchEvent:function(a,b,c){return a.dispatchEvent?a.dispatchEvent(c):a.fireEvent&&a.fireEvent("on"+b,c),c},drag:function(a){var b=this,c=this.findCenter(this.target),d=this.options,e=Math.floor(c.x),f=Math.floor(c.y),g=d.dx||0,h=d.dy||0,i=this.target,j={clientX:e,clientY:f};this.simulateEvent(i,"mousedown",j),j={clientX:e+1,clientY:f+1},this.simulateEvent(document,"mousemove",j),j={clientX:e+g,clientY:f+h},this.simulateEvent(document,"mousemove",j),this.simulateEvent(document,"mousemove",j),this.simulateEvent(i,"mouseup",j),this.simulateEvent(i,"click",j)},findCenter:function(a){var a=$(this.target),b=a.offset();return{x:b.left+a.outerWidth()/2,y:b.top+a.outerHeight()/2}}}),$.extend($.simulate,{defaults:{speed:"sync"},VK_TAB:9,VK_ENTER:13,VK_ESC:27,VK_PGUP:33,VK_PGDN:34,VK_END:35,VK_HOME:36,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40})})(a)})