define([],function(){function a(c,e,f,g){f=f||!1,g=g||[];if(c===e)return!0;if(e instanceof d)return e.assert(c);if(c===null||e===null)return!1;if(c instanceof Array&&e instanceof Array){if(c.length!=e.length)return!1;for(var h=0;h<c.length;h++){var i=b(c[h],e[h],f,g,e[h]);if(!i)return!1}return!0}if(typeof c=="object"&&typeof e=="object"){for(var h in e){var i=b(c[h],e[h],f,g,e[h]);if(!i)return!1}if(!f)for(var h in c)if(!a(c[h],e[h]))return!1;return!0}return!1}function b(b,c,d,e,f){if(f&&typeof f=="object"){for(var g=0;g<e.length;g++)if(f===e[g])throw new Error("Circular Reference detected in the object!");var h=e.length;e.push(f);var i=a(b,c,d,e);return e.splice(h),i}return a(b,c,d,e)}function d(a,b){this.type=a,this.param=b}var c={ANYTHING:0,NOT:1,INSTANCEOF:2,SUPERSET:3,REGEX:4,ANYOF:5,ALLOF:6,CUSTOM:7,ERROR:8};d.prototype.assert=function(b){switch(this.type){case c.ANYTHING:return!0;case c.NOT:return!a(b,this.param);case c.INSTANCEOF:return b instanceof this.param;case c.SUPERSET:return a(b,this.param,!0);case c.REGEX:return this.param.test(b);case c.ANYOF:for(var d=0;d<this.param.length;d++)if(a(b,this.param[d]))return!0;return!1;case c.ALLOF:for(var d=0;d<this.param.length;d++)if(!a(b,this.param[d]))return!1;return!0;case c.CUSTOM:return this.param(b);case c.ERROR:var e=!0;return"name"in this.param&&(e=e&&this.param.name===b.name),"message"in this.param&&(e=e&&this.param.message===b.message),"type"in this.param&&(e=e&&a(b,this.param.type)),e;case c.INTEGER:return isNaN(parseInt(b,10))===!1}},d.prototype.tostring=function(){switch(this.type){case c.ANYTHING:return"is.anything";case c.NOT:return"is.not("+tostring(this.param)+")";case c.INSTANCEOF:return"is.instanceOf("+_getClassName(this.param)+")";case c.SUPERSET:return"is.objectThatIncludes("+tostring(this.param)+")";case c.REGEX:return"is.regex("+this.param.toString()+")";case c.ANYOF:return"is.anyOf("+tostring(this.param)+")";case c.ALLOF:return"is.allOf("+tostring(this.param)+")";case c.CUSTOM:return"is.custom(function)";case c.ERROR:return a(this.param,{})?"is.exception()":"is.exception("+tostring(this.param)+")"}};var e={anything:new d(c.ANYTHING),not:function(a){return new d(c.NOT,a)},instanceOf:function(a){if(typeof a!="function")throw new Error("Invalid argument to is.instanceOf() , argument must be a Class");return new d(c.INSTANCEOF,a)},objectThatIncludes:function(a){return new d(c.SUPERSET,a)},regex:function(a){if(a instanceof RegExp)return new d(c.REGEX,a);throw new Error("Invalid argument to is.regex() , argument must be regex")},anyOf:function(a){if(a instanceof Array)return new d(c.ANYOF,a);throw new Error("Invalid argument to is.anyOf() , argument must be an Array")},allOf:function(a){if(a instanceof Array)return new d(c.ALLOF,a);throw new Error("Invalid argument to is.allOf() , argument must be an Array")},custom:function(a){if(!$.isFunction(a))throw new Error("Invalid argument to is.custom() , argument must be a Function that returns a boolean value");return new d(c.CUSTOM,a)},exception:function(a){if(typeof a=="string")return new d(c.ERROR,{message:a});typeof a=="undefined"&&(a={});if(typeof a!="object")throw new Error("Invalid argument to is.exception() , argument must be an object or string");if("type"in a&&typeof a["type"]!="function")throw new Error("Invalid argument to is.exception() , the type attribute of the parameter must be a Class");return"type"in a&&(a.type=new d(c.INSTANCEOF,a.type)),new d(c.ERROR,a)},integer:function(a){return new d(c.INTEGER)}};return{ExpressionFactory:e,assert:function(b,c){return b===c||a(b,c)}}})