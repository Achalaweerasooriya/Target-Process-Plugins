define(["tau/core/component-base","tau/components/extensions/testrunner/extension.stylesheets","tau/components/extensions/testrunner/extension.driver.qunit","tau/components/extensions/testrunner/extension.driver.nodeunit","tau/components/extensions/testrunner/extension.driver.nodeunit.reporter","tau/core/view-base","tau/ui/templates/testrunner/ui.template.testrunner.qunit","tau/ui/templates/testrunner/ui.template.testrunner.nodeunit"],function(ComponentBase,StylesheetsExtension,QunitExtension,NodeunitExtension,NodeunitExtensionReporter,View,QunitTemplate,NodeunitTemplate){var Component={create:function(componentConfig){var drivers={qunit:{extensions:[QunitExtension],template:QunitTemplate,stylesheets:["libs.tests/qunit.css","libs.tests/extension.qunit.css"]},nodeunit:{extensions:[NodeunitExtension,NodeunitExtensionReporter],template:NodeunitTemplate,stylesheets:["libs.tests/nodeunit/nodeunit.css"]}},type=componentConfig.type||"qunit",driver=drivers[type],config={name:"testrunner",template:driver.template},component=new ComponentBase(config);return componentConfig.stylesheets=driver.stylesheets,_.forEach(_.toArray(driver.extensions),function(ext){component.attach(ext,componentConfig)}),component.attach(StylesheetsExtension,componentConfig).attach(View),component.bus}};return Component})