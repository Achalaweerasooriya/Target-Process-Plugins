define(function(){var a=function(a,b){var c=this,d="native"+a;c[d]=b[a];var e=function(){c[d].apply(b,arguments),c[a].apply(c,arguments)};b[a]=e},b=function(b){a.call(this,"done",b),a.call(this,"moduleStart",b),a.call(this,"testDone",b)};b.prototype={failed:[],allModulesAreLoaded:!1,checkAllModulesAreLoaded:function(){var a=this;require.ready(function(){a.allModulesAreLoaded=!0})},done:function(){this.checkAllModulesAreLoaded(),this.writeResult()},writeResult:function(){var a=['<div class="tau-tests-result" style="display:none;"><div class="errors">'];for(var b=0,c=this.failed.length;b<c;b++)a.push(this.failed[b].name),b<c-1&&a.push("\n");a.push('</div><div class="script-loaded">'),a.push(this.allModulesAreLoaded),a.push("</div>");var d=document.createElement("div");d.innerHTML=a.join(""),document.body.appendChild(d)},moduleStart:function(module){this.module=module},testDone:function(a){a.failed&&this.failed.push({name:this.module.name+" "+a.name})}};return b})